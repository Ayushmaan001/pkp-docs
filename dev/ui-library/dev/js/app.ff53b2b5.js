(function(){var t={6091:function(t,e,n){"use strict";var i,s,a,l,r,o,d,p,c,u,m,h,b,f,g=n(20144),v=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("nav",{staticClass:"nav",attrs:{"aria-label":"Primary Navigation"}},[e("nav-group",[e("template",{slot:"heading"},[t._v("Guide")]),e("li",[e("router-link",{staticClass:"router-link-home",attrs:{to:"/"}},[t._v(" Introduction ")])],1),e("li",[e("router-link",{attrs:{to:"/pages/usage"}},[t._v("Usage")])],1),e("li",[e("router-link",{attrs:{to:"/pages/accessibility"}},[t._v("Accessibility")])],1),e("li",[e("router-link",{attrs:{to:"/pages/contributing"}},[t._v("Contributing")])],1)],2),e("nav-group",[e("template",{slot:"heading"},[t._v("Pages")]),e("li",[e("router-link",{attrs:{to:"/component/Page"}},[t._v("Page")])],1),e("li",[e("router-link",{attrs:{to:"/component/DecisionPage"}},[t._v("DecisionPage")])],1),e("li",[e("router-link",{attrs:{to:"/component/ManageEmailsPage"}},[t._v(" ManageEmailsPage ")])],1),e("li",[e("router-link",{attrs:{to:"/component/SubmissionWizardPage"}},[t._v(" SubmissionWizardPage ")])],1),e("li",[e("router-link",{attrs:{to:"/component/StatsPage"}},[t._v("StatsPage")])],1),e("li",[e("router-link",{attrs:{to:"/component/WorkflowPage"}},[t._v("WorkflowPage")])],1)],2),e("nav-group",[e("template",{slot:"heading"},[t._v("Utilities")]),e("li",[e("router-link",{attrs:{to:"/pages/container"}},[t._v("Container")])],1),e("li",[e("router-link",{attrs:{to:"/pages/csrf"}},[t._v("CSRF Token")])],1),e("li",[e("router-link",{attrs:{to:"/utilities/Dialog"}},[t._v("Dialog")])],1),e("li",[e("router-link",{attrs:{to:"/pages/event-bus"}},[t._v("Event Bus")])],1),e("li",[e("router-link",{attrs:{to:"/pages/fetch"}},[t._v("Fetch")])],1),e("li",[e("router-link",{attrs:{to:"/pages/localization"}},[t._v("Localization")])],1),e("li",[e("router-link",{attrs:{to:"/utilities/Notify"}},[t._v("Notify")])],1)],2),e("nav-group",[e("template",{slot:"heading"},[t._v("Components")]),e("li",[e("router-link",{attrs:{to:"/component/ActionPanel"}},[t._v("ActionPanel")])],1),e("li",[e("router-link",{attrs:{to:"/component/Badge"}},[t._v("Badge")])],1),e("li",[e("router-link",{attrs:{to:"/component/Button"}},[t._v("Button")])],1),e("li",[e("router-link",{attrs:{to:"/component/ButtonRow"}},[t._v("ButtonRow")])],1),e("li",[e("router-link",{attrs:{to:"/component/Chart"}},[t._v("Chart")])],1),e("li",[e("router-link",{attrs:{to:"/component/Composer"}},[t._v("Composer")])],1),e("li",[e("router-link",{attrs:{to:"/component/DateRange"}},[t._v("DateRange")])],1),e("li",[e("router-link",{attrs:{to:"/component/Dropdown"}},[t._v("Dropdown")])],1),e("li",[e("router-link",{attrs:{to:"/component/File"}},[t._v("File")])],1),e("li",[e("router-link",{attrs:{to:"/component/FileAttacher"}},[t._v("FileAttacher")])],1),e("li",[e("router-link",{attrs:{to:"/component/FileUploader"}},[t._v("FileUploader")])],1),e("li",[e("router-link",{attrs:{to:"/component/FileUploadProgress"}},[t._v(" FileUploadProgress ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Filter"}},[t._v("Filter")])],1),e("li",{class:{"-submenuOpen":t.displaySubmenu("Form")}},[e("router-link",{attrs:{to:"/component/Form"}},[t._v("Form")]),t.pathIncludes("Form")?t._e():e("button",{staticClass:"nav__toggle",on:{click:function(e){return t.toggleSubmenu("Form")}}},[t.displaySubmenu("Form")?e("span",[t._v("-")]):e("span",[t._v("+")])]),t.displaySubmenu("Form")?e("ul",[e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldBase"}},[t._v(" FieldBase ")])],1)]):t._e(),t.displaySubmenu("Form")?e("ul",[e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldAutosuggestPreset"}},[t._v(" FieldAutosuggestPreset ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldBaseAutosuggest"}},[t._v(" FieldBaseAutosuggest ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldHtml"}},[t._v(" FieldHtml ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldOptions"}},[t._v(" FieldOptions ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldRadioInput"}},[t._v(" FieldRadioInput ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldRichTextarea"}},[t._v(" FieldRichTextarea ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldSelect"}},[t._v(" FieldSelect ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldText"}},[t._v(" FieldText ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldTextarea"}},[t._v(" FieldTextarea ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldUpload"}},[t._v(" FieldUpload ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldUploadImage"}},[t._v(" FieldUploadImage ")])],1)]):t._e(),t.displaySubmenu("Form")?e("ul",[e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldArchivingPn"}},[t._v(" FieldArchivingPn ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldColor"}},[t._v(" FieldColor ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldPreparedContent"}},[t._v(" FieldPreparedContent ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldPubId"}},[t._v(" FieldPubId ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldMetadataSetting"}},[t._v(" FieldMetadataSetting ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldSelectIssue"}},[t._v(" FieldSelectIssue ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Form/fields/FieldShowEnsuringLink"}},[t._v(" FieldShowEnsuringLink ")])],1)]):t._e()],1),e("li",[e("router-link",{attrs:{to:"/component/Header"}},[t._v("Header")])],1),e("li",[e("router-link",{attrs:{to:"/component/HelpButton"}},[t._v("HelpButton")])],1),e("li",[e("router-link",{attrs:{to:"/component/Icon"}},[t._v("Icon")])],1),e("li",[e("router-link",{attrs:{to:"/component/List"}},[t._v("List")])],1),e("li",{class:{"-submenuOpen":t.displaySubmenu("ListPanel")}},[e("router-link",{attrs:{to:"/component/ListPanel"}},[t._v("ListPanel")]),t.pathIncludes("ListPanel")?t._e():e("button",{staticClass:"nav__toggle",on:{click:function(e){return t.toggleSubmenu("ListPanel")}}},[t.displaySubmenu("ListPanel")?e("span",[t._v("-")]):e("span",[t._v("+")])]),t.displaySubmenu("ListPanel")?e("ul",[e("li",[e("router-link",{attrs:{to:"/component/ListPanel/components/AnnouncementsListPanel"}},[t._v(" AnnouncementsListPanel ")])],1),e("li",[e("router-link",{attrs:{to:"/component/ListPanel/components/CatalogListPanel"}},[t._v(" CatalogListPanel ")])],1),e("li",[e("router-link",{attrs:{to:"/component/ListPanel/components/DoiListPanelOJS"}},[t._v(" DoiListPanelOJS ")])],1),e("li",[e("router-link",{attrs:{to:"/component/ListPanel/components/InstitutionsListPanel"}},[t._v(" InstitutionsListPanel ")])],1),e("li",[e("router-link",{attrs:{to:"/component/ListPanel/components/SelectReviewerListPanel"}},[t._v(" SelectReviewerListPanel ")])],1),e("li",[e("router-link",{attrs:{to:"/component/ListPanel/components/SubmissionFilesListPanel"}},[t._v(" SubmissionFilesListPanel ")])],1),e("li",[e("router-link",{attrs:{to:"/component/ListPanel/components/SubmissionsListPanel"}},[t._v(" SubmissionsListPanel ")])],1)]):t._e()],1),e("li",[e("router-link",{attrs:{to:"/component/Modal"}},[t._v("Modal")])],1),e("li",[e("router-link",{attrs:{to:"/component/MultilingualProgress"}},[t._v(" MultilingualProgress ")])],1),e("li",[e("router-link",{attrs:{to:"/component/Notification"}},[t._v("Notification")])],1),e("li",[e("router-link",{attrs:{to:"/component/Orderer"}},[t._v("Orderer")])],1),e("li",[e("router-link",{attrs:{to:"/component/Pagination"}},[t._v("Pagination")])],1),e("li",[e("router-link",{attrs:{to:"/component/Panel"}},[t._v("Panel")])],1),e("li",[e("router-link",{attrs:{to:"/component/ProgressBar"}},[t._v("ProgressBar")])],1),e("li",[e("router-link",{attrs:{to:"/component/Search"}},[t._v("Search")])],1),e("li",[e("router-link",{attrs:{to:"/component/Spinner"}},[t._v("Spinner")])],1),e("li",[e("router-link",{attrs:{to:"/component/Steps"}},[t._v("Steps")])],1),e("li",[e("router-link",{attrs:{to:"/component/Table"}},[t._v("Table")])],1),e("li",[e("router-link",{attrs:{to:"/component/Tabs"}},[t._v("Tabs")])],1),e("li",[e("router-link",{attrs:{to:"/component/Tooltip"}},[t._v("Tooltip")])],1)],2)],1),e("div",{staticClass:"content",attrs:{role:"main"}},[e("router-view")],1)])},_=[],y=(n(57658),function(){var t=this,e=t._self._c;return e("div",{staticClass:"navGroup"},[e("div",{staticClass:"navGroup__heading"},[t._t("heading")],2),e("ul",{staticClass:"navGroup__list"},[t._t("default")],2)])}),k=[],w={props:{heading:String,links:Object,prefix:{type:String,default:""}}},S=w,T=n(1001),F=(0,T.Z)(S,y,k,!1,null,null,null),x=F.exports,P={components:{NavGroup:x},data(){return{openSubmenus:[]}},methods:{displaySubmenu(t){return this.openSubmenus.includes(t)||this.pathIncludes(t)},pathIncludes(t){return this.$route.path.includes("/component/"+t)},toggleSubmenu(t){if(this.openSubmenus.includes(t)){const e=t.indexOf(t);this.openSubmenus.splice(e,1)}else this.openSubmenus.push(t)}}},L=P,C=(0,T.Z)(L,v,_,!1,null,null,null),A=C.exports,I=n(78345),D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page bodyText",domProps:{innerHTML:t._s(t.output)}})},E=[],R=n(87441),B=n(77869),U=n.n(B),O={computed:{output(){let t,e=this.$route.name;if("page"===e&&(e=this.$route.params.page||"index"),e){try{t=n(62362)("./"+e+".md")}catch(i){t=""}if(t)return R.TU.setOptions({highlight(t){return U().highlightAuto(t).value}}),R.TU.parse(t.default)}return""}}},M=O,N=(0,T.Z)(M,D,E,!1,null,null,null),j=N.exports,q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"component",class:"component--"+this.name},[e("div",{staticClass:"component__titleWrapper"},[e("h1",{staticClass:"component__title"},[t._v(t._s(t.name))]),e("div",{staticClass:"component__settings"},[e("div",{staticClass:"component__setting"},[e("button",{staticClass:"component__settingOption",class:"auto"===t.screen?"component__settingOption--on":"",on:{click:function(e){t.screen="auto"}}},[e("icon",{attrs:{icon:"arrows-h"}})],1),e("button",{staticClass:"component__settingOption",class:"desktop"===t.screen?"component__settingOption--on":"",on:{click:function(e){t.screen="desktop"}}},[e("icon",{attrs:{icon:"desktop"}})],1),e("button",{staticClass:"component__settingOption",class:"laptop"===t.screen?"component__settingOption--on":"",on:{click:function(e){t.screen="laptop"}}},[e("icon",{attrs:{icon:"laptop"}})],1),e("button",{staticClass:"component__settingOption",class:"tablet"===t.screen?"component__settingOption--on":"",on:{click:function(e){t.screen="tablet"}}},[e("icon",{attrs:{icon:"tablet"}})],1),e("button",{staticClass:"component__settingOption",class:"mobile"===t.screen?"component__settingOption--on":"",on:{click:function(e){t.screen="mobile"}}},[e("icon",{attrs:{icon:"mobile"}})],1)]),e("div",{staticClass:"component__setting"},[e("button",{staticClass:"component__settingOption",class:"ltr"===t.dir?"component__settingOption--on":"",on:{click:function(e){t.dir="ltr"}}},[t._v(" A → ")]),e("button",{staticClass:"component__settingOption",class:"rtl"===t.dir?"component__settingOption--on":"",on:{click:function(e){t.dir="rtl"}}},[t._v(" ← A ")])])])]),e("div",{staticClass:"component__wrapper",class:{"component__wrapper--hasExamples":t.exampleRoutes.length>1}},[t.exampleRoutes.length>1?e("nav",{staticClass:"component__nav",attrs:{"aria-label":"Examples of "+this.name}},[e("nav-group",[e("template",{slot:"heading"},[t._v("Examples")]),t._l(t.exampleRoutes,(function(n){return e("li",{key:n.path},[e("router-link",{attrs:{to:n.path}},[t._v(t._s(n.name))])],1)}))],2)],1):t._e(),e("div",{staticClass:"component__details"},[e("div",{staticClass:"example"},[t.currentExample?[e("div",{staticClass:"component__example",class:"auto"!==t.width?"component__example--scroll":""},[e("div",{staticClass:"component__exampleWrapper",style:"width: "+t.width,attrs:{dir:t.dir}},[e(t.currentExample.component,{tag:"component"})],1)]),e("pre",{staticClass:"component__example__template"},[e("div",{staticClass:"language-html",domProps:{innerHTML:t._s(t.currentExample.template)}})]),t.readme?e("section",{staticClass:"component__example__readme bodyText"},[e("div",{domProps:{innerHTML:t._s(t.readme)}})]):t._e()]:e("div",{staticClass:"component__example__none"},[e("p",[t._v("Please select a component from the list on the left.")])])],2)])])])},W=[],V={components:{NavGroup:x},data(){return{dir:"ltr",screen:"auto",examples:[],implementations:{},name:"",parentRoute:"",readme:"",template:""}},computed:{currentExample(){return this.$route.params.example?this.examples.find((t=>this.getRoutePath(t.name)===this.$route.params.example)):this.examples[0]},exampleRoutes(){return this.examples.map((t=>({name:t.name,path:"Base"===t.name?this.routePrefix:this.routePrefix+this.getRoutePath(t.name)})))},routePrefix(){let t="/component/";return this.parentRoute&&(t+=this.parentRoute+"/"),t+this.name+"/"},hasImplementations(){return Object.keys(this.implementations).length},width(){switch(this.screen){case"desktop":return"1900px";case"laptop":return"1400px";case"tablet":return"900px";case"mobile":return"480px"}return"auto"}},methods:{getRoutePath(t){return t.toLowerCase().replace(/\s/g,"-")},extractTemplate(t){const e=t.match(/<template>([\s\S]*?)\n<\/template>/);return e.length>1?U().highlightAuto(e[1].split("\n").map((t=>"\t"===t[0]?t.substr(1):t)).join("\n"),["html"]).value:""}},mounted(){this.readme&&(R.TU.setOptions({highlight(t){return U().highlightAuto(t).value}}),this.readme=R.TU.parse(this.readme))}},K=V,z=(0,T.Z)(K,q,W,!1,null,null,null),H=z.exports,Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewActionPanel"},[e("action-panel",[e("h2",{attrs:{id:"delete-title"}},[t._v("Delete Incomplete Submissions")]),e("p",{attrs:{id:"delete-description"}},[t._v(" Delete all incomplete submissions that have not been modified in the last month. ")]),e("template",{slot:"actions"},[e("pkp-button",{attrs:{isWarnable:!0,"aria-describedby":"delete-title delete-description"},on:{click:t.openDeleteDialog}},[t._v(" Delete All ")])],1)],2),e("action-panel",[e("h2",[t._v("Clear Cache")]),e("p",[t._v(" Clear the cached data and templates across the site. This will effect cached values for all journals. ")]),e("template",{slot:"actions"},[e("pkp-button",[t._v("Clear Data Cache")]),e("pkp-button",[t._v("Clear Template/CSS Cache")]),e("pkp-button",{attrs:{isWarnable:!0}},[t._v("Clear All Cache")])],1)],2),e("action-panel",[e("h2",{attrs:{id:"sessions-title"}},[t._v("Expire User Sessions")]),e("p",{attrs:{id:"sessions-description"}},[t._v(" Immediately expire all user sessions. This will force all users to login again. ")]),e("template",{slot:"actions"},[e("pkp-button",{attrs:{isWarnable:!0,"aria-describedby":"sessions-description"}},[t._v(" Expire Sessions ")])],1)],2)],1)},G=[],Y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"actionPanel"},[e("div",{staticClass:"actionPanel__text"},[t._t("default")],2),e("div",{staticClass:"actionPanel__actions"},[t._t("actions")],2)])},J=[],X={},Q=(0,T.Z)(X,Y,J,!1,null,null,null),tt=Q.exports,et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal__panel modal__panel--dialog"},[e("span",{attrs:{tabindex:"0"},on:{focus:function(e){return t.setFocusIn(t.$refs.keyboardTrap,!0)}}}),e("div",{ref:"keyboardTrap",staticClass:"modal__keyboardTrap",attrs:{tabindex:"0"}},[e("div",{staticClass:"modal__header"},[t.title?e("h2",{staticClass:"modal__title"},[t._v(" "+t._s(t.title)+" ")]):t._e(),e("button",{staticClass:"modal__closeButton",on:{click:function(e){return t.$modal.hide(t.name)}}},[e("span",{attrs:{"aria-hidden":!0}},[t._v("×")]),e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.closeLabel||t.__("common.close"))+" ")])])]),e("div",{staticClass:"modal__content"},[e("div",{domProps:{innerHTML:t._s(t.message)}})]),e("div",{staticClass:"modal__footer"},[t.isLoading?e("spinner"):t._e(),t._l(t.actions,(function(n){return e("pkp-button",{key:n.label,attrs:{element:n.element||"button",href:n.href||null,isPrimary:n.isPrimary||null,isWarnable:n.isWarnable||null,isDisabled:t.isLoading},on:{click:function(e){n.callback&&t.fireCallback(n.callback)}}},[t._v(" "+t._s(n.label)+" ")])}))],2)]),e("span",{attrs:{tabindex:"0"},on:{focus:function(e){return t.setFocusIn(t.$refs.keyboardTrap)}}})])},nt=[],it=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal"},[e("modal",t._b({attrs:{name:t.name},on:{opened:function(e){return t.setFocusToRef("keyboardTrap")},closed:t=>this.$emit("closed",t)}},"modal",t.MODAL_PROPS,!1),[e("div",{staticClass:"modal__panel"},[e("span",{attrs:{tabindex:"0"},on:{focus:function(e){return t.setFocusIn(t.$refs.keyboardTrap,!0)}}}),e("div",{ref:"keyboardTrap",staticClass:"modal__keyboardTrap",attrs:{tabindex:"0"}},[e("div",{staticClass:"modal__header"},[t.title?e("h2",{staticClass:"modal__title"},[t._v(" "+t._s(t.title)+" ")]):t._e(),e("button",{staticClass:"modal__closeButton",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$modal.hide(t.name)}}},[e("span",{attrs:{"aria-hidden":!0}},[t._v("×")]),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.closeLabel))])])]),e("div",{staticClass:"modal__content"},[t._t("default")],2),t.$slots.footer?e("div",{staticClass:"modal__footer"},[t._t("footer")],2):t._e()]),e("span",{attrs:{tabindex:"0"},on:{focus:function(e){return t.setFocusIn(t.$refs.keyboardTrap)}}})])])],1)},st=[],at={props:{closeLabel:{type:String,required:!0},name:{type:String,reqired:!0},title:{type:String,default(){return""}}},data(){return{MODAL_PROPS:{height:"auto",scrollable:!0}}}},lt=at,rt=(0,T.Z)(lt,it,st,!1,null,null,null),ot=rt.exports,dt={extends:ot,props:{actions:{type:Array,required:!0},close:{type:Function,default(){return()=>{}}},closeLabel:{type:String},message:{type:String,required:!0},title:{type:String,default(){return""}}},data(){return{isLoading:!1}},methods:{fireCallback(t){this.isLoading=!0,"function"===typeof t&&t()}},mounted(){this.setFocusToRef("keyboardTrap")},destroyed(){"function"===typeof this.close&&this.close()}},pt=dt,ct=(0,T.Z)(pt,et,nt,!1,null,null,null),ut=ct.exports,mt={methods:{openDialog(t,e,n){const i=document.activeElement;e=e||{},n=n||{},this.$modal.show(ut,{...t,close:()=>{i&&i.focus(),t.close&&t.close()}},{height:"auto",scrollable:!1,classes:"v--modal v--modal-dialog",...e,name:t.name},n)}}},ht={components:{ActionPanel:tt},mixins:[mt],methods:{openDeleteDialog(){this.openDialog({name:"deleteDialog",title:"Delete Incomplete Submissions",message:"Are you sure you want to delete 35 submissions? This action can not be undone.",actions:[{label:"Delete",isWarnable:!0,callback:()=>{setTimeout((()=>{this.$modal.hide("deleteDialog")}),1e3)}},{label:this.__("common.cancel"),callback:()=>this.$modal.hide("deleteDialog")}]})}}},bt=ht,ft=(0,T.Z)(bt,Z,G,!1,null,null,null),gt=ft.exports,vt='<template>\n\t<div class="previewActionPanel">\n\t\t<action-panel>\n\t\t\t<h2 id="delete-title">Delete Incomplete Submissions</h2>\n\t\t\t<p id="delete-description">\n\t\t\t\tDelete all incomplete submissions that have not been modified in the\n\t\t\t\tlast month.\n\t\t\t</p>\n\t\t\t<template slot="actions">\n\t\t\t\t<pkp-button\n\t\t\t\t\t:isWarnable="true"\n\t\t\t\t\taria-describedby="delete-title delete-description"\n\t\t\t\t\t@click="openDeleteDialog"\n\t\t\t\t>\n\t\t\t\t\tDelete All\n\t\t\t\t</pkp-button>\n\t\t\t</template>\n\t\t</action-panel>\n\t\t<action-panel>\n\t\t\t<h2>Clear Cache</h2>\n\t\t\t<p>\n\t\t\t\tClear the cached data and templates across the site. This will effect\n\t\t\t\tcached values for all journals.\n\t\t\t</p>\n\t\t\t<template slot="actions">\n\t\t\t\t<pkp-button>Clear Data Cache</pkp-button>\n\t\t\t\t<pkp-button>Clear Template/CSS Cache</pkp-button>\n\t\t\t\t<pkp-button :isWarnable="true">Clear All Cache</pkp-button>\n\t\t\t</template>\n\t\t</action-panel>\n\t\t<action-panel>\n\t\t\t<h2 id="sessions-title">Expire User Sessions</h2>\n\t\t\t<p id="sessions-description">\n\t\t\t\tImmediately expire all user sessions. This will force all users to login\n\t\t\t\tagain.\n\t\t\t</p>\n\t\t\t<template slot="actions">\n\t\t\t\t<pkp-button :isWarnable="true" aria-describedby="sessions-description">\n\t\t\t\t\tExpire Sessions\n\t\t\t\t</pkp-button>\n\t\t\t</template>\n\t\t</action-panel>\n\t</div>\n</template>\n\n<script>\nimport ActionPanel from \'../../../../components/ActionPanel/ActionPanel.vue\';\nimport dialog from \'../../../../mixins/dialog\';\n\nexport default {\n\tcomponents: {\n\t\tActionPanel,\n\t},\n\tmixins: [dialog],\n\tmethods: {\n\t\topenDeleteDialog() {\n\t\t\tthis.openDialog({\n\t\t\t\tname: \'deleteDialog\',\n\t\t\t\ttitle: \'Delete Incomplete Submissions\',\n\t\t\t\tmessage:\n\t\t\t\t\t\'Are you sure you want to delete 35 submissions? This action can not be undone.\',\n\t\t\t\tactions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \'Delete\',\n\t\t\t\t\t\tisWarnable: true,\n\t\t\t\t\t\tcallback: () => {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.$modal.hide(\'deleteDialog\');\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: this.__(\'common.cancel\'),\n\t\t\t\t\t\tcallback: () => this.$modal.hide(\'deleteDialog\'),\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t},\n\t},\n};\n<\/script>\n\n<style lang="less">\n@import \'../../../../styles/_import\';\n\n.previewActionPanel .actionPanel {\n\tmargin-bottom: 2rem;\n}\n</style>\n',_t="## Props\n\nThis component does not accept any props.\n\n## Events\n\nThis component does not emit any events.\n\n## Usage\n\nUse this component to pair an action, like a button or link, with a title and description.",yt={extends:H,data(){return{name:"ActionPanel",readme:_t,examples:[{component:gt,name:"Base",template:this.extractTemplate(vt)}]}}},kt=yt,wt=(0,T.Z)(kt,i,s,!1,null,null,null),St=wt.exports,Tt=function(){var t=this,e=t._self._c;return e("announcements-list-panel",{attrs:{addAnnouncementLabel:"Add Announcement",apiUrl:"",confirmDeleteMessage:"Are you sure you want to delete this announcement?",deleteAnnouncementLabel:"Delete Announcement",editAnnouncementLabel:"Edit Announcement",form:t.form,id:"previewAnnouncementsListPanel",items:t.items,itemsMax:t.itemsMax,title:"Announcements",urlBase:"https://example.com/announcement/view/__id__"}})},Ft=[],xt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"announcementsListPanel"},[t._t("default",(function(){return[e("list-panel",{attrs:{items:t.items},scopedSlots:t._u([{key:"item-title",fn:function({item:e}){return[t._v(" "+t._s(t.localize(e.title))+" ")]}},{key:"item-actions",fn:function({item:n}){return[e("pkp-button",{attrs:{element:"a",href:t.urlBase.replace("__id__",n.id)}},[t._v(" "+t._s(t.__("common.view"))+" ")]),e("pkp-button",{on:{click:function(e){return t.openEditModal(n.id)}}},[t._v(" "+t._s(t.__("common.edit"))+" ")]),e("pkp-button",{attrs:{isWarnable:!0},on:{click:function(e){return t.openDeleteModal(n.id)}}},[t._v(" "+t._s(t.__("common.delete"))+" ")])]}}])},[e("pkp-header",{attrs:{slot:"header"},slot:"header"},[e("h2",[t._v(t._s(t.title))]),t.isLoading?e("spinner"):t._e(),e("template",{slot:"actions"},[e("search",{attrs:{searchPhrase:t.searchPhrase},on:{"search-phrase-changed":t.setSearchPhrase}}),e("pkp-button",{on:{click:t.openAddModal}},[t._v(" "+t._s(t.addAnnouncementLabel)+" ")])],1)],2),t.lastPage>1?e("pagination",{attrs:{slot:"footer",currentPage:t.currentPage,isLoading:t.isLoading,lastPage:t.lastPage},on:{"set-page":t.setPage},slot:"footer"}):t._e()],1),e("modal",{attrs:{closeLabel:t.__("common.close"),name:"form",title:t.activeFormTitle},on:{closed:t.formModalClosed}},[e("pkp-form",t._b({on:{set:t.updateForm,success:t.formSuccess}},"pkp-form",t.activeForm,!1))],1)]}))],2)},Pt=[],Lt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"listPanel"},[e("div",{staticClass:"listPanel__header"},[t._t("header",(function(){return[e("pkp-header",[e(t.headingLevel,{tag:"component"},[t._v(t._s(t.title))])],1)]}))],2),e("div",{staticClass:"listPanel__body"},[e("transition",{attrs:{name:"listPanel__sidebar"}},[t.$slots.sidebar&&t.isSidebarVisible?e("div",{ref:"sidebar",staticClass:"listPanel__sidebar"},[t._t("sidebar")],2):t._e()]),e("div",{staticClass:"listPanel__items"},[t.items.length?e("ul",{staticClass:"listPanel__itemsList"},t._l(t.items,(function(n){return e("li",{key:n.id,staticClass:"listPanel__item"},[t._t("item",(function(){return[e("div",{staticClass:"listPanel__itemSummary"},[e("div",{staticClass:"listPanel__itemIdentity"},[e("div",{staticClass:"listPanel__itemTitle"},[t._t("item-title",(function(){return[t._v(t._s(n.title))]}),{item:n})],2),t.$scopedSlots["item-subtitle"]||n.subtitle?e("div",{staticClass:"listPanel__itemSubtitle"},[t._t("item-subtitle",(function(){return[t._v(" "+t._s(n.subtitle)+" ")]}),{item:n})],2):t._e()]),t.$scopedSlots["item-actions"]?e("div",{staticClass:"listPanel__itemActions"},[t._t("item-actions",null,{item:n})],2):t._e()])]}),{item:n}),t.expanded.includes(n.id)?e("div",{staticClass:"listPanel__itemExpanded"},[t._t("item-expanded",null,{item:n})],2):t._e()],2)})),0):e("div",{staticClass:"listPanel__empty"},[t._t("itemsEmpty",(function(){return[t._v(t._s(t.currentEmptyLabel))]}))],2)])],1),t.$slots.footer?e("div",{staticClass:"listPanel__footer"},[t._t("footer")],2):t._e()])},Ct=[],At=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpNotification",class:t.classes},[t._t("default"),t.canDismiss?e("button",{staticClass:"pkpNotification__closeButton",on:{click:function(e){return t.$emit("dismiss")}}},[e("span",{attrs:{"aria-hidden":!0}},[t._v("×")]),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.__("common.close")))])]):t._e()],2)},It=[],Dt={props:{canDismiss:{type:Boolean,default(){return!1}},type:{type:String,default(){return""}}},computed:{classes(){let t=[];return this.type&&t.push("pkpNotification--"+this.type),this.canDismiss&&t.push("pkpNotification--canDismiss"),t}}},Et=Dt,Rt=(0,T.Z)(Et,At,It,!1,null,null,null),Bt=Rt.exports,Ut=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpHeader",class:{"-isOneLine":t.isOneLine,"-pkpClearfix":!t.isOneLine}},[e("span",{staticClass:"pkpHeader__title"},[t._t("default")],2),t.hasActions?e("div",{staticClass:"pkpHeader__actions"},[t._t("actions")],2):t._e()])},Ot=[],Mt={props:{isOneLine:{type:Boolean,default:!0}},computed:{hasActions(){return this.$slots.actions}}},$t=Mt,Nt=(0,T.Z)($t,Ut,Ot,!1,null,null,null),jt=Nt.exports,qt={name:"ListPanel",components:{Notification:Bt,PkpHeader:jt},props:{description:{type:String,default(){return""}},emptyLabel:{type:String,default(){return""}},expanded:{type:Array,default(){return[]}},headingLevel:{type:String,default(){return"h2"}},isSidebarVisible:{type:Boolean,default(){return!1}},items:{type:Array,required:!0},title:{type:String,default(){return""}}},computed:{currentEmptyLabel(){return this.emptyLabel?this.emptyLabel:this.__("common.noItemsFound")}},watch:{isSidebarVisible:function(t,e){t&&this.$nextTick((()=>{t&&Object.keys(this.$refs).includes("sidebar")&&this.setFocusIn(this.$refs.sidebar)}))}}},Wt=qt,Vt=(0,T.Z)(Wt,Lt,Ct,!1,null,null,null),Kt=Vt.exports,zt=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"pkpPagination",attrs:{role:"navigation","aria-label":t.__("common.pagination.label")}},[e("ul",[e("li",[e("pkp-button",{attrs:{disabled:1===t.currentPage,"aria-label":t.__("common.pagination.goToPage",{page:t.__("common.pagination.previous")})},on:{click:function(e){return t.setPage("previous")}}},[t._v(" "+t._s(t.__("common.pagination.previous"))+" ")])],1),t._l(t.items,(function(n,i){return e("li",{key:i},[n.isSeparator?e("span",{staticClass:"pkpPagination__separator",attrs:{"aria-hidden":!0}},[t._v(" ··· ")]):t.isLoading&&n.isCurrent?e("spinner",{staticClass:"pkpPagination__loading"}):e("pkp-button",{attrs:{disabled:n.isDisabled,"aria-label":n.ariaLabel,"aria-current":n.isCurrent,"is-link":!n.isCurrent&&!["previous","next"].includes(n.value),"is-active":n.isCurrent},on:{click:function(e){return t.setPage(n.value)}}},[t._v(" "+t._s(n.label)+" ")])],1)})),e("li",[e("pkp-button",{attrs:{disabled:t.currentPage===t.lastPage},on:{click:function(e){return t.setPage("next")}}},[t._v(" "+t._s(t.__("common.pagination.next"))+" ")])],1)],2)])},Ht=[],Zt={props:{currentPage:{type:Number,required:!0},isLoading:{type:Boolean,default:!1},lastPage:{type:Number,required:!0},showAdjacentPages:{type:Number,default:1}},computed:{items(){let t=[],e=Math.min(this.currentPage+this.showAdjacentPages,this.lastPage),n=Math.max(this.currentPage-this.showAdjacentPages,1);if(e-n<this.showAdjacentPages){const t=this.showAdjacentPages-(e-n);1===n?e=Math.min(e+t,this.lastPage):e===this.lastPage&&(n=Math.max(n-t,1))}n>1&&t.push({value:1,label:1,ariaLabel:this.getNumberAriaLabel(1)}),n>2&&t.push({isSeparator:!0});for(let i=n;i<=e;i++)t.push({value:i,isCurrent:this.currentPage===i,label:i,ariaLabel:this.getNumberAriaLabel(i)});return e<this.lastPage-1&&t.push({isSeparator:!0}),e<this.lastPage&&t.push({value:this.lastPage,label:this.lastPage,ariaLabel:this.getNumberAriaLabel(this.lastPage)}),t}},methods:{getNumberAriaLabel:function(t){const e=this.__("common.pageNumber",{pageNumber:t});return this.__("common.pagination.goToPage",{page:e})},setPage:function(t){"previous"===t?t=this.currentPage-1:"next"===t&&(t=this.currentPage+1),t>=1&&t<=this.lastPage&&this.$emit("set-page",t)}}},Gt=Zt,Yt=(0,T.Z)(Gt,zt,Ht,!1,null,null,null),Jt=Yt.exports,Xt=function(){var t=this,e=t._self._c;return e("form",{staticClass:"pkpForm -pkpClearfix",attrs:{method:t.method,action:t.action}},[t._l(t.hiddenFields,(function(t,n){return e("input",{key:n,attrs:{type:"hidden",name:n},domProps:{value:t}})})),t.availableLocales.length>1?e("form-locales",{attrs:{primaryLocaleKey:t.primaryLocale,locales:t.availableLocales,visible:t.visibleLocales},on:{updateLocales:t.setVisibleLocales}}):t._e(),t.pages.length>1?e("div",{staticClass:"pkpForm__pageNav"},[e("ol",{staticClass:"pkpForm__pageNavList"},t._l(t.pages,(function(n){return e("li",{key:n.id,staticClass:"pkpForm__pageNavListItem"},[e("button",{staticClass:"pkpForm__pageNavPage",class:{"pkpForm__pageNavPage--current":n.id===t.currentPage},on:{click:function(e){return e.preventDefault(),t.setCurrentPage(n.id)}}},[t._v(" "+t._s(n.label)+" ")]),t.pageIdsWithErrors.includes(n.id)?e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}):t._e()],1)})),0)]):t._e(),e("div",{staticClass:"pkpFormPages",class:t.classes},t._l(t.pages,(function(n,i){return e("form-page",t._b({key:n.id,attrs:{groups:t.groups,fields:t.fields,errors:t.errors,formId:t.id,canSubmit:t.canSubmit,isCurrentPage:t.currentPage===n.id,isLastPage:i===t.pages.length-1,lastSaveTimestamp:t.lastSaveTimestamp,primaryLocale:t.primaryLocale,visibleLocales:t.visibleLocales,availableLocales:t.availableLocales,isSaving:t.isSaving},on:{change:t.fieldChanged,pageSubmitted:t.nextPage,previousPage:function(e){return t.setCurrentPage(!1)},showField:t.showField,showLocale:t.showLocale,"set-errors":t.setErrors}},"form-page",n,!1))})),1)],2)},Qt=[],te=function(){var t=this,e=t._self._c;return t.locales.length?e("div",{staticClass:"pkpFormLocales"},[t._l(t.additionalLocales,(function(n){return e("button",{key:n.key,staticClass:"pkpFormLocales__locale",class:{"pkpFormLocales__locale--isActive":t.visible.includes(n.key)},attrs:{type:"button",label:n.label},on:{click:function(e){return e.preventDefault(),t.toggleLocale(n.key)}}},[t._v(" "+t._s(n.label)+" ")])})),e("span",{staticClass:"pkpFormLocales__locale pkpFormLocales__locale--isPrimary"},[t._v(" "+t._s(this.primaryLocale.label)+" ")])],2):t._e()},ee=[],ne={name:"FormLocales",props:{locales:{type:Array,required:!0},visible:{type:Array,required:!0},primaryLocaleKey:{type:String,required:!0}},computed:{primaryLocale(){return this.locales.find((t=>t.key===this.primaryLocaleKey))},additionalLocales(){return this.locales.filter((t=>t.key!==this.primaryLocaleKey))}},methods:{toggleLocale:function(t){let e=[this.primaryLocaleKey];this.visible.includes(t)||e.push(t),this.updateLocales(e)},updateLocales:function(t){this.$emit("updateLocales",t)}}},ie=ne,se=(0,T.Z)(ie,te,ee,!1,null,null,null),ae=se.exports,le=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpFormPage",class:{"pkpFormPage--current":t.isCurrentPage}},[t._l(t.groupsInPage,(function(n){return e("form-group",t._b({key:n.id,attrs:{fields:t.fields,errors:t.errors,primaryLocale:t.primaryLocale,visibleLocales:t.visibleLocales,availableLocales:t.availableLocales,formId:t.formId},on:{change:t.fieldChanged,"set-errors":t.setErrors}},"form-group",n,!1))})),t.hasFooter?e("button-row",{ref:"footer",staticClass:"pkpFormPage__footer",attrs:{"aria-live":"polite"}},[Object.keys(t.errors).length?e("form-errors",{attrs:{errors:t.errors,fields:t.fields},on:{showField:t.showField,showLocale:t.showLocale}}):t._e(),e("span",{attrs:{role:"status","aria-live":"polite","aria-atomic":"true"}},[e("transition",{attrs:{name:"pkpFormPage__status"}},[t.isSaving?e("span",{staticClass:"pkpFormPage__status"},[e("spinner"),t._v(" "+t._s(t.__("common.saving"))+" ")],1):t.hasRecentSave?e("span",{staticClass:"pkpFormPage__status"},[e("icon",{attrs:{icon:"check",inline:!0}}),t._v(" "+t._s(t.__("form.saved"))+" ")],1):t._e()])],1),t.previousButton?e("pkp-button",t._b({on:{click:t.previousPage}},"pkp-button",t.previousButton,!1),[t._v(" "+t._s(t.previousButton.label)+" ")]):t._e(),t.submitButton?e("pkp-button",t._b({attrs:{disabled:t.isSaving||!t.canSubmit||t.isLastPage&&!!Object.keys(t.errors).length},on:{click:t.submit}},"pkp-button",t.submitButton,!1),[t._v(" "+t._s(t.submitButton.label)+" ")]):t._e()],1):t._e()],2)},re=[],oe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"buttonRow"},[t.hasEndSlot?e("div",{staticClass:"buttonRow__end"},[t._t("end")],2):t._e(),t._t("default")],2)},de=[],pe={computed:{hasEndSlot(){return this.$slots.end}}},ce=pe,ue=(0,T.Z)(ce,oe,de,!1,null,null,null),me=ue.exports,he=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpFormErrors"},[e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}),t._v(" "+t._s(t.message)+" "),e("ul",{staticClass:"-screenReader"},t._l(t.errorList,(function(n,i){return e("li",{key:i},[e("button",{on:{click:function(e){return e.preventDefault(),t.showError(n.fieldName)}}},[t._v(" "+t._s(t.__("form.errorA11y",{fieldLabel:n.label,errorMessage:n.message}))+" ")])])})),0),e("button",{staticClass:"pkpFormErrors__goTo",on:{click:function(e){return e.preventDefault(),t.showNextError.apply(null,arguments)}}},[t._v(" "+t._s(t.__("form.errorGoTo"))+" ")])],1)},be=[],fe={name:"FormErrors",props:{errors:Object,fields:Array},computed:{message(){return 1===Object.keys(this.errors).length?this.__("form.errorOne"):this.__("form.errorMany",{count:Object.keys(this.errors).length})},errorList(){return Object.keys(this.errors).map((t=>{const e=this.fields.find((e=>e.name===t)),n=e?e.label:t;let i;return i=null!==this.errors[t]&&"object"===typeof this.errors[t]?this.errors[t][Object.keys(this.errors[t])[0]]:this.errors[t],{fieldName:t,label:n,message:i}}))}},methods:{showNextError(){this.showError(Object.keys(this.errors)[0])},showError:function(t){const e=this.errors[t];e&&"object"===typeof e&&e.constructor===Object&&this.$emit("showLocale",Object.keys(e)[0]),this.$emit("showField",t)}}},ge=fe,ve=(0,T.Z)(ge,he,be,!1,null,null,null),_e=ve.exports,ye=function(){var t=this,e=t._self._c;return e("fieldset",{staticClass:"pkpFormGroup -pkpClearfix"},[t.label?e("div",{staticClass:"pkpFormGroup__heading"},[e("legend",{staticClass:"pkpFormGroup__legend"},[t._v(t._s(t.label))]),t.description?e("div",{staticClass:"pkpFormGroup__description",domProps:{innerHTML:t._s(t.description)}}):t._e()]):t._e(),e("div",{staticClass:"pkpFormGroup__fields"},[t._l(t.fieldsInGroup,(function(n){return[n.isMultilingual?[e("div",{key:n.name,staticClass:"pkpFormGroup__localeGroup -pkpClearfix"},t._l(t.availableLocales,(function(i){return e("div",{key:i.key,staticClass:"pkpFormGroup__locale",class:{"pkpFormGroup__locale--isVisible":t.visibleLocales.includes(i.key)}},[e(n.component,t._b({tag:"component",attrs:{allErrors:t.errors,localeKey:i.key,formId:t.formId,primaryLocale:t.primaryLocale,locales:t.availableLocales},on:{change:t.fieldChanged,"set-errors":t.setFieldErrors}},"component",n,!1))],1)})),0)]:[e(n.component,t._b({key:n.name,tag:"component",attrs:{allErrors:t.errors,formId:t.formId},on:{change:t.fieldChanged,"set-errors":t.setFieldErrors}},"component",n,!1))]]}))],2)])},ke=[],we=function(){var t=this,e=t._self._c;return e("fieldset",{staticClass:"pkpFormField pkpFormField--options pkpFormField--archivingPn",class:t.classes},[e("legend",{staticClass:"pkpFormField--options__legend"},[t.localeLabel?[e("span",{staticClass:"aria-hidden"},[t._v(t._s(t.localeLabel))]),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.multilingualLabel))])]:[t._v(" "+t._s(t.label)+" ")],t.isRequired?e("span",{staticClass:"pkpFormFieldLabel__required"},[t._v(" * "),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.__("common.required")))])]):t._e(),t.tooltip?e("tooltip",{attrs:{"aria-hidden":"true",tooltip:t.tooltip,label:""}}):t._e(),t.tooltip?e("span",{staticClass:"-screenReader",attrs:{id:t.describedByTooltipId},domProps:{innerHTML:t._s(t.tooltip)}}):t._e(),t.helpTopic?e("help-button",{attrs:{id:t.describedByHelpId,topic:t.helpTopic,section:t.helpSection,label:t.__("help.help")}}):t._e()],2),t.description?e("div",{staticClass:"pkpFormField__description pkpFormField--options__description",attrs:{id:t.describedByDescriptionId},domProps:{innerHTML:t._s(t.description)}}):t._e(),t.terms&&t.value?e("div",{staticClass:"pkpFormField__description pkpFormField--options__description pkpFormField--archivingPn__terms",domProps:{innerHTML:t._s(t.terms)}}):t._e(),t.errors&&t.errors.length?e("field-error",{attrs:{id:t.describedByErrorId,messages:t.errors}}):t._e(),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedValue,expression:"selectedValue"}],attrs:{type:"hidden"},domProps:{value:t.selectedValue},on:{input:function(e){e.target.composing||(t.selectedValue=e.target.value)}}}),e("div",{staticClass:"pkpFormField__control"},t._l(t.localizedOptions,(function(n){return e("label",{key:n.value,staticClass:"pkpFormField--options__option"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedValue,expression:"selectedValue"}],staticClass:"pkpFormField--options__input",attrs:{type:"checkbox",name:t.name,"aria-describedby":t.describedByIds,"aria-invalid":t.errors&&t.errors.length,disabled:t.isSaving||n.disabled},domProps:{value:n.value,checked:Array.isArray(t.selectedValue)?t._i(t.selectedValue,n.value)>-1:t.selectedValue},on:{change:function(e){var i=t.selectedValue,s=e.target,a=!!s.checked;if(Array.isArray(i)){var l=n.value,r=t._i(i,l);s.checked?r<0&&(t.selectedValue=i.concat([l])):r>-1&&(t.selectedValue=i.slice(0,r).concat(i.slice(r+1)))}else t.selectedValue=a}}}),t._v(" "+t._s(n.label)+" "),t.isSaving?e("span",{staticClass:"pkpSpinner",attrs:{"aria-hidden":"true"}}):t._e()])})),0)],1)},Se=[],Te=function(){var t=this,e=t._self._c;return e("fieldset",{staticClass:"pkpFormField pkpFormField--options",class:t.classes},[e("legend",{staticClass:"pkpFormField--options__legend"},[t.localeLabel?[e("span",{staticClass:"aria-hidden"},[t._v(t._s(t.localeLabel))]),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.multilingualLabel))])]:[t._v(" "+t._s(t.label)+" ")],t.isRequired?e("span",{staticClass:"pkpFormFieldLabel__required"},[t._v(" * "),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.__("common.required")))])]):t._e(),t.isPrimaryLocale&&t.tooltip?e("tooltip",{attrs:{"aria-hidden":"true",tooltip:t.tooltip,label:""}}):t._e(),t.isPrimaryLocale&&t.tooltip?e("span",{staticClass:"-screenReader",attrs:{id:t.describedByTooltipId},domProps:{innerHTML:t._s(t.tooltip)}}):t._e(),t.isPrimaryLocale&&t.helpTopic?e("help-button",{attrs:{id:t.describedByHelpId,topic:t.helpTopic,section:t.helpSection,label:t.__("help.help")}}):t._e()],2),t.isPrimaryLocale&&t.description?e("div",{staticClass:"pkpFormField__description pkpFormField--options__description",attrs:{id:t.describedByDescriptionId},domProps:{innerHTML:t._s(t.description)}}):t._e(),e("div",{staticClass:"pkpFormField__control"},[e("draggable",{attrs:{disabled:!t.isOrderable},on:{end:t.updateValueOrder},model:{value:t.localizedOptions,callback:function(e){t.localizedOptions=e},expression:"localizedOptions"}},t._l(t.localizedOptions,(function(n){return e("label",{key:n.value,staticClass:"pkpFormField--options__option"},["checkbox"===t.type?e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedValue,expression:"selectedValue"}],staticClass:"pkpFormField--options__input",attrs:{type:"checkbox",name:t.localizedName,"aria-describedby":t.describedByIds,"aria-invalid":t.errors&&t.errors.length,disabled:n.disabled},domProps:{value:n.value,checked:Array.isArray(t.selectedValue)?t._i(t.selectedValue,n.value)>-1:t.selectedValue},on:{change:function(e){var i=t.selectedValue,s=e.target,a=!!s.checked;if(Array.isArray(i)){var l=n.value,r=t._i(i,l);s.checked?r<0&&(t.selectedValue=i.concat([l])):r>-1&&(t.selectedValue=i.slice(0,r).concat(i.slice(r+1)))}else t.selectedValue=a}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedValue,expression:"selectedValue"}],staticClass:"pkpFormField--options__input",attrs:{type:"radio",name:t.localizedName,"aria-describedby":t.describedByIds,"aria-invalid":t.errors&&t.errors.length,disabled:n.disabled},domProps:{value:n.value,checked:t._q(t.selectedValue,n.value)},on:{change:function(e){t.selectedValue=n.value}}}),e("span",{staticClass:"pkpFormField--options__optionLabel",domProps:{innerHTML:t._s(n.label)}}),t.isOrderable?e("orderer",{attrs:{itemId:n.value,itemTitle:n.label},on:{up:t.optionOrderUp,down:t.optionOrderDown}}):t._e()],1)})),0),t.isMultilingual&&t.locales.length>1?e("multilingual-progress",{attrs:{id:t.multilingualProgressId,count:t.multilingualFieldsCompleted,total:t.locales.length}}):t._e()],1),t.errors&&t.errors.length?e("field-error",{attrs:{id:t.describedByErrorId,messages:t.errors}}):t._e()],1)},Fe=[],xe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpFieldError",attrs:{"aria-live":"polite"}},t._l(t.messages,(function(n){return e("div",{key:n,staticClass:"pkpFieldError__message"},[e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}),e("span",{domProps:{innerHTML:t._s(n)}})],1)})),0)},Pe=[],Le={name:"FieldError",props:{messages:Array}},Ce=Le,Ae=(0,T.Z)(Ce,xe,Pe,!1,null,null,null),Ie=Ae.exports,De=function(){var t=this,e=t._self._c;return e("label",{staticClass:"pkpFormFieldLabel",attrs:{for:t.controlId}},[t.localeLabel?[e("span",{staticClass:"aria-hidden"},[t._v(t._s(t.localeLabel))]),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.multilingualLabel))])]:[t._v(" "+t._s(t.label)+" ")],t.isRequired?e("span",{staticClass:"pkpFormFieldLabel__required"},[e("span",{staticClass:"aria-hidden"},[t._v("*")]),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.requiredLabel))])]):t._e()],2)},Ee=[],Re={name:"FormFieldLabel",props:{controlId:String,label:String,localeLabel:String,multilingualLabel:String,isRequired:{type:Boolean,default:!1},requiredLabel:String}},Be=Re,Ue=(0,T.Z)(Be,De,Ee,!1,null,null,null),Oe=Ue.exports,Me=function(){var t=this,e=t._self._c;return e("button",{staticClass:"helpButton requestHelpPanel",attrs:{"data-topic":t.topic,"data-section":t.section},on:{click:function(t){t.preventDefault()}}},[e("icon",{attrs:{icon:"info-circle"}}),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.label))])],1)},$e=[],Ne={name:"HelpButton",props:{topic:{type:String,required:!0},section:String,label:{type:String,required:!0}}},je=Ne,qe=(0,T.Z)(je,Me,$e,!1,null,null,null),We=qe.exports,Ve=function(){var t=this,e=t._self._c;return e("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip,expression:"tooltip"}],staticClass:"tooltipButton",on:{click:function(t){t.preventDefault()}}},[e("icon",{attrs:{icon:"question-circle"}}),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.label))])],1)},Ke=[],ze={name:"Tooltip",props:{tooltip:{type:String,required:!0},label:{type:String,required:!0}}},He=ze,Ze=(0,T.Z)(He,Ve,Ke,!1,null,null,null),Ge=Ze.exports,Ye=function(){var t=this,e=t._self._c;return e("span",{staticClass:"multilingualProgress",class:t.classes},[e("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip,expression:"tooltip"}],attrs:{type:"button","aria-hidden":"true"},on:{click:function(t){t.preventDefault()}}},[e("icon",{attrs:{icon:"globe"}})],1),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.tooltip))])])},Je=[],Xe={name:"MultilingualProgress",props:{count:{type:Number,required:!0},total:{type:Number,required:!0}},computed:{classes(){let t=[];return this.count===this.total?t.push("multilingualProgress--isComplete"):this.count?t.push("multilingualProgress--isIncomplete"):t.push("multilingualProgress--isEmpty"),t},tooltip(){return this.__("form.multilingualProgress",{count:this.count,total:this.total})}}},Qe=Xe,tn=(0,T.Z)(Qe,Ye,Je,!1,null,null,null),en=tn.exports,nn={name:"FieldBase",components:{FieldError:Ie,FormFieldLabel:Oe,HelpButton:We,Tooltip:Ge,MultilingualProgress:en},props:{name:String,component:String,label:String,description:String,tooltip:String,helpTopic:String,helpSection:String,groupId:String,formId:String,isMultilingual:Boolean,isRequired:Boolean,showWhen:[String,Array],primaryLocale:String,localeKey:String,locales:Array,value:{required:!0},allErrors:{type:Object,default(){return{}}}},computed:{currentValue:{get(){return this.isMultilingual?this.value[this.localeKey]:this.value},set:function(t){this.$emit("change",this.name,"value",t,this.localeKey)}},errors(){if(!Object.keys(this.allErrors).includes(this.name))return[];let t=this.allErrors[this.name];return this.isMultilingual&&Object.keys(t).includes(this.localeKey)?t[this.localeKey]:this.isMultilingual?[]:t},localizedName(){return this.isMultilingual?this.name+"-"+this.localeKey:this.name},controlId(){return this.compileId("control")},describedByTooltipId(){return this.compileId("tooltip")},describedByHelpId(){return this.compileId("help")},describedByDescriptionId(){return this.compileId("description")},describedByErrorId(){return this.compileId("error")},multilingualProgressId(){return this.compileId("multilingualProgress")},describedByIds(){let t=[];return this.description&&t.push(this.describedByDescriptionId),this.tooltip&&t.push(this.describedByTooltipId),this.helpTopic&&t.push(this.describedByHelpId),this.error&&t.push(this.describedByErrorId),this.isMultilingual&&t.push(this.multilingualProgressId),!!t.length&&t.join(" ")},multilingualFieldsCompleted(){return this.isMultilingual?Object.values(this.value).filter((t=>Array.isArray(t)?t.length:t)).length:0},isPrimaryLocale(){return!this.isMultilingual||this.localeKey===this.primaryLocale},localeLabel(){return!this.isMultilingual||this.isPrimaryLocale?"":this.locales.find((t=>t.key===this.localeKey)).label},multilingualLabel(){return this.__("form.multilingualLabel",{label:this.label,localeName:this.localeLabel})}},methods:{compileId:function(t){let e=[this.formId,this.name,t];return this.isMultilingual&&e.push(this.localeKey.replace("@","_")),e.join("-")}}},sn=nn,an=(0,T.Z)(sn,a,l,!1,null,null,null),ln=an.exports,rn=n(9980),on=n.n(rn),dn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"orderer"},[t.isDraggable?e("span",{staticClass:"orderer__dragDrop",attrs:{"aria-hidden":"true"}},[e("icon",{attrs:{icon:"sort"}})],1):t._e(),e("button",{staticClass:"orderer__up",on:{click:function(e){return e.preventDefault(),t.up.apply(null,arguments)}}},[e("icon",{attrs:{icon:"angle-up"}}),e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.__("common.orderUp",{itemTitle:t.itemTitle}))+" ")])],1),e("button",{staticClass:"orderer__down",on:{click:function(e){return e.preventDefault(),t.down.apply(null,arguments)}}},[e("icon",{attrs:{icon:"angle-down"}}),e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.__("common.orderDown",{itemTitle:t.itemTitle}))+" ")])],1)])},pn=[],cn={name:"Orderer",props:{itemId:[String,Number],itemTitle:String,isDraggable:{type:Boolean,default:!0}},methods:{up(){this.$emit("up",this.itemId),this.$nextTick((()=>{this.setFocus("up")}))},down(){this.$emit("down",this.itemId),this.$nextTick((()=>{this.setFocus("down")}))},setFocus:function(t){const e="up"===t?".orderer__up":".orderer__down";this.$el.querySelector(e).focus()}}},un=cn,mn=(0,T.Z)(un,dn,pn,!1,null,null,null),hn=mn.exports,bn={name:"FieldOptions",extends:ln,components:{draggable:on(),Orderer:hn},props:{type:{validator:function(t){return["checkbox","radio"].includes(t)},default:"checkbox"},isOrderable:{type:Boolean,default:!1},options:{type:[Array,Object],required:!0},value:{type:[Array,Number,String,Boolean],required:!0}},data(){return{localizedOptions:this.isMultilingual?this.options[this.localeKey]:this.options,selectedValue:this.isMultilingual?this.value[this.localeKey]:this.value}},computed:{classes(){let t=[];return this.isOrderable&&t.push("pkpFormField--optionsOrderable"),t}},methods:{optionOrderUp:function(t){const e=this.localizedOptions.findIndex((e=>e.value===t));e&&(this.localizedOptions.splice(e-1,0,this.localizedOptions.splice(e,1)[0]),this.updateValueOrder())},optionOrderDown:function(t){const e=this.localizedOptions.findIndex((e=>e.value===t));e<0||e>=this.localizedOptions.length-1||(this.localizedOptions.splice(e+1,0,this.localizedOptions.splice(e,1)[0]),this.updateValueOrder())},updateValueOrder(){this.selectedValue=this.localizedOptions.filter((t=>this.selectedValue.includes(t.value))).map((t=>t.value))}},watch:{value(t,e){JSON.stringify(t)!==JSON.stringify(e)&&(this.selectedValue=this.isMultilingual?this.value[this.localeKey]:this.value)},selectedValue:function(t,e){JSON.stringify(t)!==JSON.stringify(e)&&(this.isOrderable&&(t=this.localizedOptions.filter((e=>t.includes(e.value))).map((t=>t.value))),this.$emit("change",this.name,"value",t,this.localeKey))},options:function(t){this.localizedOptions=this.isMultilingual?t[this.localeKey]:t}}},fn=bn,gn=(0,T.Z)(fn,Te,Fe,!1,null,null,null),vn=gn.exports,_n={name:"FieldArchivingPn",extends:vn,props:{value:{type:Boolean,required:!0},terms:{type:String,required:!0},disablePluginSuccess:{type:String,required:!0},enablePluginSuccess:{type:String,required:!0},enablePluginUrl:{type:String,required:!0},disablePluginUrl:{type:String,required:!0},settingsUrl:{type:String,required:!0}},data(){return{isSaving:!1}},methods:{addSettingsListener(){this.$nextTick((()=>{$(".pkpFormField--archivingPn__terms button",this.$el).click((t=>{t.stopPropagation(),t.preventDefault();var e={title:"Test title",url:this.settingsUrl,closeCallback:this.resetFocus};return $('<div id="'+$.pkp.classes.Helper.uuid()+'" class="pkp_modal pkpModalWrapper" tabindex="-1"></div>').pkpHandler("$.pkp.controllers.modal.AjaxModalHandler",e),!1}))}))},removeSettingsListener(){$(".pkpFormField--archivingPn__terms button",this.$el).off()},resetFocus(){$(".pkpFormField--archivingPn__terms button",this.$el).focus()},success:function(t){t.status?pkp.eventBus.$emit("notify",this.value?this.enablePluginSuccess:this.disablePluginSuccess,"success"):pkp.eventBus.$emit("notify",this.__("common.unknownError"),"warning")},error(){pkp.eventBus.$emit("notify",this.enablePluginError,"warning")},complete(){this.isSaving=!1}},watch:{value:function(t,e){t!==e&&(t?this.addSettingsListener():this.removeSettingsListener(),this.isSaving=!0,$.ajax({method:"POST",url:t?this.enablePluginUrl:this.disablePluginUrl,data:{csrfToken:pkp.currentUser.csrfToken,disableNotification:!1},success:this.success,error:this.error,complete:this.complete}))}},mounted(){this.value&&this.addSettingsListener()},beforeDestroy(){this.value||$(".pkpFormField--archivingPn__terms button",this.$el).off()}},yn=_n,kn=(0,T.Z)(yn,we,Se,!1,null,null,null),wn=kn.exports,Sn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpFormField pkpAutosuggest",class:{"pkpAutosuggest--disabled":t.isDisabled,"pkpAutosuggest--inline":t.isLabelInline,"pkpAutosuggest--rtl":t.isRTL}},[e("div",{ref:"heading",staticClass:"pkpFormField__heading"},[e("form-field-label",{attrs:{controlId:t.controlId,label:t.label,localeLabel:t.localeLabel,isRequired:t.isRequired,requiredLabel:t.__("common.required"),multilingualLabel:t.multilingualLabel}}),t.tooltip?e("tooltip",{attrs:{"aria-hidden":"true",tooltip:t.tooltip,label:""}}):t._e(),t.tooltip?e("span",{staticClass:"-screenReader",attrs:{id:t.describedByTooltipId},domProps:{innerHTML:t._s(t.tooltip)}}):t._e(),t.helpTopic?e("help-button",{attrs:{id:t.describedByHelpId,topic:t.helpTopic,section:t.helpSection,label:t.__("help.help")}}):t._e()],1),t.isPrimaryLocale&&t.description?e("div",{staticClass:"pkpFormField__description",attrs:{id:t.describedByDescriptionId},domProps:{innerHTML:t._s(t.description)}}):t._e(),e("div",{staticClass:"pkpFormField__control pkpAutosuggest__control"},[e("div",{ref:"values",staticClass:"pkpAutosuggest__inputWrapper pkpFormField__input",class:{"pkpAutosuggest__inputWrapper--multilingual":t.isMultilingual&&t.locales.length>1,"pkpAutosuggest__inputWrapper--focus":t.isFocused},attrs:{id:t.describedBySelectedId},on:{click:t.setFocusToInput}},[e("span",{staticClass:"-screenReader"},[t._v(t._s(t.selectedLabel))]),t.currentValue.length?t._l(t.currentSelected,(function(n){return e("pkp-badge",{key:n.value,staticClass:"pkpAutosuggest__selection"},[t._v(" "+t._s(n.label)+" "),t.isDisabled?t._e():e("button",{staticClass:"pkpAutosuggest__deselect",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deselect(n)}}},[e("icon",{attrs:{icon:"times"}}),e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.deselectLabel.replace("{$item}",n.label))+" ")])],1)])})):e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.__("common.none"))+" ")]),t.isDisabled?t._e():e("vue-autosuggest",t._b({ref:"autosuggest",staticClass:"pkpAutosuggest__autosuggester",on:{selected:t.selectSuggestion,focus:()=>t.isFocused=!0,blur:()=>t.isFocused=!1},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},"vue-autosuggest",t.autosuggestOptions,!1))],2),t.isMultilingual&&t.locales.length>1?e("multilingual-progress",{attrs:{id:t.multilingualProgressId,count:t.multilingualFieldsCompleted,total:t.locales.length}}):t._e(),t.errors&&t.errors.length?e("field-error",{attrs:{id:t.describedByErrorId,messages:t.errors}}):t._e()],1)])},Tn=[],Fn=function(){var t=this,e=t._self._c;return t.isButton?e("button",{staticClass:"pkpBadge pkpBadge--button",class:t.classes,on:{click:t.click}},[t._t("default"),t.label?e("span",{staticClass:"-screenReader"},[t._v(t._s(t.label))]):t._e()],2):e("span",{staticClass:"pkpBadge",class:t.classes},[t._t("default"),t.label?e("span",{staticClass:"-screenReader"},[t._v(t._s(t.label))]):t._e()],2)},xn=[],Pn={name:"Badge",props:["label","isPrimary","isSuccess","isWarnable","isButton","hasDot","stage"],computed:{classes(){let t=[];return this.isPrimary&&t.push("pkpBadge--isPrimary"),this.isSuccess&&t.push("pkpBadge--isSuccess"),this.isWarnable&&t.push("pkpBadge--isWarnable"),(this.hasDot||this.stage)&&t.push("pkpBadge--dot"),this.stage&&t.push("pkpBadge--"+this.stage),t}},methods:{click(){this.$emit("click")}}},Ln=Pn,Cn=(0,T.Z)(Ln,Fn,xn,!1,null,null,null),An=Cn.exports,In=n(13106),Dn={mixins:[mt],methods:{ajaxErrorCallback(t){if("status"in t&&0==t.status)return;let e;e="responseJSON"in t&&"errorMessage"in t.responseJSON?t.responseJSON.errorMessage:this.__("common.unknownError"),this.openDialog({name:"ajaxError",title:this.__("common.error"),message:e,actions:[{label:this.__("common.ok"),callback:()=>this.$modal.hide("ajaxError")}]})}}},En=n(20296),Rn=n.n(En),Bn=n(67709),Un=n.n(Bn),On={name:"FieldBaseAutosuggest",extends:ln,mixins:[Dn],components:{PkpBadge:An,VueAutosuggest:In.iC},props:{apiUrl:{type:String,default(){return""}},deselectLabel:{type:String,required:!0},isDisabled:{type:Boolean,default(){return!1}},isLabelInline:{type:Boolean,default(){return!1}},getParams:{type:Object,default(){return{}}},selected:{type:[Array,Object],default(){return this.isMultilingual?{}:[]}},selectedLabel:{type:String,required:!0}},data(){return{inputValue:"",isFocused:!1,suggestions:[]}},computed:{autosuggestId(){return this.compileId("autosuggest")},autosuggestOptions(){return{id:this.autosuggestId,inputProps:this.inputProps,key:this.autosuggestId,suggestions:[{data:this.suggestions}],getSuggestionValue:t=>t.item.label,renderSuggestion:t=>t.item.label}},currentSelected(){return this.isMultilingual?this.selected[this.localeKey]:this.selected},describedBySelectedId(){return this.compileId("selected")},describedByIds(){return this.describedBySelectedId+" "+ln.computed.describedByIds.apply(this)},inputProps(){let t={"aria-describedby":this.describedByIds,class:"pkpAutosuggest__input",id:this.controlId,name:this.name};return this.isDisabled&&(t.disabled="disabled"),t},isRTL(){return $.pkp.app.rtlLocales.includes(this.localeKey)}},methods:{deselect(t){let e=[...this.currentSelected];e.splice(e.findIndex((e=>e.value===t.value)),1),this.setSelected(e)},setFocusToInput(){this.isDisabled||this.$refs.autosuggest.$el.querySelector("#"+this.controlId).focus()},getSuggestions:Rn()((function(){if(this.inputValue){var t=this;$.ajax({url:this.apiUrl,type:"GET",data:{...this.getParams,searchPhrase:this.inputValue},error(e){t.ajaxErrorCallback(e)},success(e){t.setSuggestions(e.items)}})}else this.suggestions=[]}),250),select(t){if(!t){if(!this.inputValue||!this.suggestions.length)return;t=this.suggestions[0]}this.setSelected([...this.currentSelected,t]),this.inputValue="",this.$nextTick((()=>{this.$nextTick((()=>{this.$nextTick((()=>this.$el.querySelector("#"+this.controlId).focus()))}))}))},selectSuggestion(t){this.select(t?t.item:null)},setSelected(t){this.$emit("change",this.name,"selected",t,this.localeKey),this.$emit("change",this.name,"value",t.map((t=>t.value)),this.localeKey)},setSuggestions(t){throw new Error("The setSuggestions method must be implemented in any component that extends FieldBaseAutosuggest.")},updateInlineLabelPadding(){this.isLabelInline&&(this.$refs.values.style.paddingInlineStart=this.$refs.heading.offsetWidth+"px")},updateInputWidth(){if(!this.isDisabled)if(this.currentValue.length){const t=window.getComputedStyle(this.$refs.values),e=parseFloat(t.getPropertyValue("padding-left")),n=parseFloat(t.getPropertyValue("padding-right")),i=parseFloat(t.getPropertyValue("width"))-e-n,s=this.$refs.values.querySelectorAll(".pkpAutosuggest__selection"),a=s[s.length-1],l=this.isRTL?i-(a.offsetLeft-n):a.offsetLeft-e+a.offsetWidth,r=i-l;this.$refs.autosuggest.$el.style.width=r<172?"100%":r-32+"px"}else this.$refs.autosuggest.$el.style.width="100%"}},watch:{currentValue(t,e){this.$nextTick((()=>this.updateInputWidth()))},inputValue(t,e){t!==e&&this.getSuggestions()}},mounted(){if(this.updateInlineLabelPadding(),this.updateInputWidth(),Un()(this.$refs.values,Rn()((()=>{this.updateInlineLabelPadding(),this.updateInputWidth()}),100)),this.isMultilingual&&this.isLabelInline)throw new Error("An inline label can not be used with a multilingual autosuggest field. This error encountered in the field "+this.name)},beforeDestroy(){Un().unbind(this.$refs.values)}},Mn=On,$n=(0,T.Z)(Mn,Sn,Tn,!1,null,null,null),Nn=$n.exports,jn={name:"FieldAutosuggestPreset",extends:Nn,props:{options:{type:Array,required:!0}},methods:{getSuggestions(){if(!this.inputValue||!this.options.length)return void(this.suggestions=[]);const t=new RegExp(this.inputValue.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"gi");this.suggestions=this.options.filter((e=>{if(this.currentValue.includes(e.value))return!1;let n="string"===typeof e.value?e.value.match(t):e.value==this.inputValue;return n||e.label.match(t)}))}},watch:{value(t,e){if(!t||t===e)return;if(JSON.stringify(t)===JSON.stringify(e))return;const n=this.isMultilingual?t[this.localeKey]:t;this.setSelected(this.options.filter((t=>n.includes(t.value))))}}},qn=jn,Wn=(0,T.Z)(qn,r,o,!1,null,null,null),Vn=Wn.exports,Kn=function(){var t=this,e=t._self._c;return e("fieldset",{staticClass:"pkpFormField pkpFormField--color"},[e("legend",{staticClass:"pkpFormField__heading--legend"},[t.localeLabel?[e("span",{staticClass:"aria-hidden"},[t._v(t._s(t.localeLabel))]),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.multilingualLabel))])]:[t._v(" "+t._s(t.label)+" ")],t.isRequired?e("span",{staticClass:"pkpFormFieldLabel__required"},[t._v(" * "),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.__("common.required")))])]):t._e(),t.isPrimaryLocale&&t.tooltip?e("tooltip",{attrs:{"aria-hidden":"true",tooltip:t.tooltip,label:""}}):t._e(),t.isPrimaryLocale&&t.tooltip?e("span",{staticClass:"-screenReader",attrs:{id:t.describedByTooltipId},domProps:{innerHTML:t._s(t.tooltip)}}):t._e(),t.isPrimaryLocale&&t.helpTopic?e("help-button",{attrs:{id:t.describedByHelpId,topic:t.helpTopic,section:t.helpSection,label:t.__("help.help")}}):t._e()],2),t.isPrimaryLocale&&t.description?e("div",{staticClass:"pkpFormField__description",attrs:{id:t.describedByDescriptionId},domProps:{innerHTML:t._s(t.description)}}):t._e(),e("div",{staticClass:"pkpFormField__control"},[e("color-picker",{attrs:{value:t.currentValue,disableAlpha:!0},on:{input:t.setValue}}),t.errors&&t.errors.length?e("field-error",{attrs:{id:t.describedByErrorId,messages:t.errors}}):t._e()],1)])},zn=[],Hn=n(94023),Zn={name:"FieldColor",extends:ln,components:{"color-picker":Hn.Chrome},methods:{setValue:function(t){t.hex!==this.currentValue&&(this.currentValue=t.hex)}}},Gn=Zn,Yn=(0,T.Z)(Gn,Kn,zn,!1,null,null,null),Jn=Yn.exports,Xn=(n(30541),{name:"FieldControlledVocab",extends:Nn,data(){return{allSuggestions:[],suggestionsLoaded:!1}},methods:{getSuggestions(){this.inputValue?(this.suggestionsLoaded||this.loadSuggestions(this.setSuggestions),this.setSuggestions()):this.suggestions=[]},loadSuggestions(t){$.ajax({url:this.apiUrl,type:"GET",context:this,data:this.isMultilingual?{locale:this.localeKey}:{},error(t){this.ajaxErrorCallback(t)},success(e){this.allSuggestions=e.map((t=>({value:t,label:t}))),this.suggestionsLoaded=!0,t&&t.apply(this)}})},selectSuggestion(t){t?this.select(t.item):this.inputValue&&this.select({value:this.inputValue,label:this.inputValue})},setSuggestions:Rn()((function(){const t=new RegExp(this.inputValue.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"gi");this.suggestions=this.allSuggestions.filter((e=>!this.inputValue||this.inputValue!==e.value&&e.value.match(t))),this.inputValue&&!this.suggestions.includes(this.inputValue)&&this.suggestions.unshift({value:this.inputValue,label:this.inputValue})}),250)},watch:{value(t,e){t&&t!==e&&JSON.stringify(t)!==JSON.stringify(e)&&this.loadSuggestions((()=>{const e=this.isMultilingual?t[this.localeKey]:t;Array.isArray(e)?this.setSelected(this.allSuggestions.filter((t=>e.includes(t.value)))):this.setSelected([])}))}}}),Qn=Xn,ti=(0,T.Z)(Qn,d,p,!1,null,null,null),ei=ti.exports,ni=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpFormField pkpFormField--pubid"},[e("div",{staticClass:"pkpFormField__heading"},[e("form-field-label",{attrs:{controlId:t.controlId,label:t.label,isRequired:t.isRequired,requiredLabel:t.__("common.required")}}),t.tooltip?e("tooltip",{attrs:{"aria-hidden":"true",tooltip:t.tooltip,label:""}}):t._e(),t.tooltip?e("span",{staticClass:"-screenReader",attrs:{id:t.describedByTooltipId},domProps:{innerHTML:t._s(t.tooltip)}}):t._e(),t.helpTopic?e("help-button",{attrs:{id:t.describedByHelpId,topic:t.helpTopic,section:t.helpSection,label:t.__("help.help")}}):t._e()],1),t.description?e("div",{staticClass:"pkpFormField__description",attrs:{id:t.describedByDescriptionId},domProps:{innerHTML:t._s(t.description)}}):t._e(),e("div",{staticClass:"pkpFormField__control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"pkpFormField__input pkpFormField--text__input pkpFormField--pubid__input",attrs:{id:t.controlId,name:t.localizedName,"aria-describedby":t.describedByIds,"aria-invalid":t.errors&&t.errors.length,disabled:!!t.pattern,required:t.isRequired},domProps:{value:t.currentValue},on:{input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}),t.pattern&&t.canGenerateId&&!t.currentValue?e("pkp-button",{staticClass:"pkpFormField--pubid__button",on:{click:t.assignId}},[t._v(" "+t._s(t.assignIdLabel)+" ")]):t.pattern&&t.currentValue?e("pkp-button",{staticClass:"pkpFormField--pubid__button",attrs:{isWarnable:!0},on:{click:()=>t.currentValue=""}},[t._v(" "+t._s(t.clearIdLabel)+" ")]):t._e(),!t.pattern||t.canGenerateId||t.currentValue?t._e():e("div",{staticClass:"pkpFormField--pubid__warning",attrs:{id:t.describedByDescriptionId}},[e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}),t._v(" "+t._s(t.missingPartsLabel)+" ")],1),t.errors&&t.errors.length?e("field-error",{attrs:{id:t.describedByErrorId,messages:t.errors}}):t._e()],1)])},ii=[],si={name:"FieldPubId",extends:ln,props:{assignIdLabel:{type:String,required:!0},clearIdLabel:{type:String,required:!0},contextInitials:{type:String,default(){return""}},isPForPress:{type:Boolean,default(){return!1}},issueNumber:{type:[String,Number],default(){return""}},issueVolume:{type:[String,Number],default(){return""}},missingPartsLabel:{type:String,required:!0},pages:{type:String,default(){return""}},pattern:{type:String,required:!0},prefix:{type:String,required:!0},publisherId:{type:String,default(){return""}},separator:{type:String,default(){return""}},submissionId:{type:Number,default(){return 0}},publicationId:{type:Number,default(){return 0}},year:{type:[String,Number],default(){return""}}},computed:{canGenerateId(){return(this.issueNumber||!this.pattern.includes("%i"))&&(this.issueVolume||!this.pattern.includes("%v"))&&(!this.isPForPress&&(this.contextInitials||!this.pattern.includes("%j"))&&(this.pages||!this.pattern.includes("%p"))||this.isPForPress&&(this.contextInitials||!this.pattern.includes("%j")))&&(this.publisherId||!this.pattern.includes("%x"))&&(this.submissionId||!this.pattern.includes("%a"))&&(this.submissionId||!this.pattern.includes("%m"))&&(this.publicationId||!this.pattern.includes("%b"))&&(this.year||!this.pattern.includes("%Y"))}},methods:{assignId(){this.currentValue=this.generateId()},generateId(){let t=this.prefix+this.separator+this.pattern.replace("%i",this.issueNumber).replace("%v",this.issueVolume).replace("%x",this.publisherId).replace("%Y",this.year);return t=this.isPForPress?t.replace("%p",this.contextInitials).replace("%m",this.submissionId):t.replace("%j",this.contextInitials).replace("%a",this.submissionId).replace("%b",this.publicationId).replace("%p",this.pages),t}}},ai=si,li=(0,T.Z)(ai,ni,ii,!1,null,null,null),ri=li.exports,oi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpFormField pkpFormField--html"},[e("div",{staticClass:"pkpFormField__heading"},[e("span",{staticClass:"pkpFormFieldLabel"},[t._v(" "+t._s(t.label)+" ")]),t.tooltip?e("tooltip",{attrs:{"aria-hidden":"true",tooltip:t.tooltip,label:""}}):t._e(),t.tooltip?e("span",{staticClass:"-screenReader",domProps:{innerHTML:t._s(t.tooltip)}}):t._e(),t.helpTopic?e("help-button",{attrs:{topic:t.helpTopic,section:t.helpSection,label:t.__("help.help")}}):t._e()],1),e("div",{staticClass:"pkpFormField__control pkpFormField__control--html",domProps:{innerHTML:t._s(t.description)}})])},di=[],pi={name:"FieldHtml",extends:ln},ci=pi,ui=(0,T.Z)(ci,oi,di,!1,null,null,null),mi=ui.exports,hi=function(){var t=this,e=t._self._c;return e("fieldset",{staticClass:"pkpFormField pkpFormField--options pkpFormField--metadata"},[e("legend",{staticClass:"pkpFormField--options__legend"},[t._v(" "+t._s(t.label)+" "),t.tooltip?e("tooltip",{attrs:{"aria-hidden":"true",tooltip:t.tooltip,label:""}}):t._e(),t.tooltip?e("span",{staticClass:"-screenReader",attrs:{id:t.describedByTooltipId},domProps:{innerHTML:t._s(t.tooltip)}}):t._e(),t.helpTopic?e("help-button",{attrs:{id:t.describedByHelpId,topic:t.helpTopic,section:t.helpSection,label:t.__("help.help")}}):t._e()],1),t.description?e("div",{staticClass:"pkpFormField__description pkpFormField--options__description",attrs:{id:t.describedByDescriptionId},domProps:{innerHTML:t._s(t.description)}}):t._e(),t.errors&&t.errors.length?e("field-error",{attrs:{id:t.describedByErrorId,messages:t.errors}}):t._e(),e("div",{staticClass:"pkpFormField__control"},[t._l(t.options,(function(n){return e("label",{key:n.value,staticClass:"pkpFormField--options__option"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isEnabled,expression:"isEnabled"}],staticClass:"pkpFormField--options__input",attrs:{type:"checkbox","aria-describedby":t.describedByIds,"aria-invalid":t.errors&&t.errors.length,disabled:n.disabled},domProps:{value:n.value,checked:Array.isArray(t.isEnabled)?t._i(t.isEnabled,n.value)>-1:t.isEnabled},on:{change:function(e){var i=t.isEnabled,s=e.target,a=!!s.checked;if(Array.isArray(i)){var l=n.value,r=t._i(i,l);s.checked?r<0&&(t.isEnabled=i.concat([l])):r>-1&&(t.isEnabled=i.slice(0,r).concat(i.slice(r+1)))}else t.isEnabled=a}}}),e("span",{staticClass:"pkpFormField--options__optionLabel",domProps:{innerHTML:t._s(n.label)}})])})),t.isEnabled?e("div",{staticClass:"pkpFormField--metadata__submissionOptions"},t._l(t.submissionOptions,(function(n){return e("label",{key:"submission"+n.value,staticClass:"pkpFormField--options__option"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedValue,expression:"selectedValue"}],staticClass:"pkpFormField--options__input pkpFormField--metadata__submissionInput",attrs:{type:"radio","aria-invalid":t.errors&&t.errors.length,disabled:n.disabled},domProps:{value:n.value,checked:t._q(t.selectedValue,n.value)},on:{change:function(e){t.selectedValue=n.value}}}),e("span",{staticClass:"pkpFormField--options__optionLabel",domProps:{innerHTML:t._s(n.label)}})])})),0):t._e()],2)],1)},bi=[],fi={name:"FieldMetadataSetting",extends:vn,props:{disabledValue:{type:Number,required:!0},enabledOnlyValue:{type:String,required:!0},value:{type:[Number,String],required:!0},submissionOptions:{type:Array,required:!0}},data(){return{isEnabled:this.disabledValue!==this.value}},watch:{isEnabled:function(t,e){t!==e&&(this.selectedValue=t?this.enabledOnlyValue:this.disabledValue)}}},gi=fi,vi=(0,T.Z)(gi,hi,bi,!1,null,null,null),_i=vi.exports,yi=function(){var t=this,e=t._self._c;return e("field-rich-textarea",t._b({ref:"textarea",attrs:{init:t.compiledInit,value:t.renderedValue},on:{change:t.fieldChanged}},"field-rich-textarea",t.textareaProps,!1),[e("template",{slot:"footer"},[t._t("footer"),e("modal",{attrs:{closeLabel:t.__("common.close"),name:t.preparedContentId,title:t.insertModalLabel},on:{close:t.closeInsertModal}},[e("insert-content",{ref:"insertContent",attrs:{insertLabel:t.insertLabel,items:t.preparedContent,itemsLabel:t.preparedContentLabel,searchLabel:t.searchLabel},on:{insert:t.insert}})],1)],2)],2)},ki=[],wi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpFormField pkpFormField--richTextarea",class:{"-isFocused":t.isFocused,"pkpFormField--richTextarea--rtl":t.isRTL}},[e("div",{staticClass:"pkpFormField__heading"},[e("form-field-label",{attrs:{controlId:t.controlId,label:t.label,localeLabel:t.localeLabel,isRequired:t.isRequired,requiredLabel:t.__("common.required"),multilingualLabel:t.multilingualLabel}}),t.isPrimaryLocale&&t.tooltip?e("tooltip",{attrs:{"aria-hidden":"true",tooltip:t.tooltip,label:""}}):t._e(),t.isPrimaryLocale&&t.tooltip?e("span",{staticClass:"-screenReader",attrs:{id:t.describedByTooltipId},domProps:{innerHTML:t._s(t.tooltip)}}):t._e(),t.isPrimaryLocale&&t.helpTopic?e("help-button",{attrs:{id:t.describedByHelpId,topic:t.helpTopic,section:t.helpSection,label:t.__("help.help")}}):t._e()],1),t.isPrimaryLocale&&t.description?e("div",{staticClass:"pkpFormField__description",attrs:{id:t.describedByDescriptionId},domProps:{innerHTML:t._s(t.description)}}):t._e(),e("div",{staticClass:"pkpFormField__control pkpFormField--richTextarea__control",class:"pkpFormField--richTextArea__control--"+this.size},[e("editor",{ref:"editor",staticClass:"pkpFormField__input pkpFormField--richTextarea__input",attrs:{id:t.controlId,toolbar:t.toolbar,plugins:t.plugins,init:t.compiledInit},on:{onFocus:t.focus,onBlur:t.blur},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}}),t.isMultilingual&&t.locales.length>1||t.wordLimit?e("div",{staticClass:"pkpFormField--richTextarea__controlFooter"},[t.isMultilingual&&t.locales.length>1?e("multilingual-progress",{attrs:{id:t.multilingualProgressId,count:t.multilingualFieldsCompleted,total:t.locales.length}}):t._e(),t.wordLimit?e("div",{staticClass:"pkpFormField--richTextarea__wordLimit"},[t.wordCount>t.wordLimit?e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}):t._e(),t._v(" "+t._s(t.replaceLocaleParams(t.wordCountLabel,{count:t.wordCount,limit:t.wordLimit}))+" ")],1):t._e()],1):t._e(),t._t("footer")],2),t.errors&&t.errors.length?e("field-error",{attrs:{id:t.describedByErrorId,messages:t.errors}}):t._e()],1)},Si=[],Ti=(n(47575),n(6890),n(38860),n(88190),n(72170),n(72682),n(1236),n(45031),n(22875),n(50396)),Fi={name:"FieldRichTextarea",extends:ln,components:{Editor:Ti.Z},props:{init:{type:Object,default(){return{}}},plugins:{type:String,required:!0},size:{type:String,default(){return"default"},validator(t){return["default","large"].includes(t)}},toolbar:{type:String,required:!0},uploadUrl:{type:String,default(){return""}},wordCountLabel:{type:String,default(){return""}},wordLimit:{type:Number,default(){return 0}}},data(){return{isFocused:!1,wordCount:0}},computed:{currentValue:{get(){return this.isMultilingual?this.value[this.localeKey]:this.value},set:function(t){this.$emit("change",this.name,"value",t,this.localeKey),Rn()(this.setWordCount,250)()}},toolbarId(){return this.compileId("toolbar")},compiledInit(){var t=this,e=function(t){const n=/\{\$(\w*)\}/.exec(t);return n?t=n[0]:(this.settings.urlconverter_callback=!1,t=this.convertURL(t),this.settings.urlconverter_callback=e),t};return{skin_url:this.$root.tinyMCE.skinUrl,content_css:$.pkp.app.tinyMceContentCSS,paste_data_images:!0,relative_urls:!1,remove_script_host:!1,convert_urls:!0,urlconverter_callback:e,directionality:this.isRTL?"rtl":"ltr",menubar:!1,statusbar:!1,entity_encoding:"raw",browser_spellcheck:!0,images_upload_handler(e,n,i){const s=new FormData;s.append("file",e.blob(),e.filename()),$.ajax({method:"POST",url:t.uploadUrl,data:s,processData:!1,contentType:!1,headers:{"X-Csrf-Token":pkp.currentUser.csrfToken},success(t){n(t.url)},error(t){i(t.responseJSON.errorMessage)}})},init_instance_callback:t=>{t.fire("focus"),t.fire("blur")},...this.init}},isRTL(){return $.pkp.app.rtlLocales.includes(this.localeKey)}},methods:{blur(){this.isFocused=!1},focus(){this.isFocused=!0},setWordCount(){if(!this.wordLimit||!this.currentValue||!this.$refs.editor)return void(this.wordCount=0);const t=this.$refs.editor.editor.getContent({format:"text"}).match(/\S+/g);this.wordCount=null===t?0:t.length}},watch:{value(t,e){t!==e&&(this.isMultilingual&&(t=t[this.localeKey]),Rn()(this.setWordCount,250)(),this.$emit("change",this.name,"value",t,this.localeKey))}},mounted(){Rn()(this.setWordCount,1e3)()}},xi=Fi,Pi=(0,T.Z)(xi,wi,Si,!1,null,null,null),Li=Pi.exports,Ci=function(){var t=this,e=t._self._c;return e("div",{staticClass:"insertContent"},[e("search",{attrs:{searchLabel:t.searchLabel,searchPhrase:t.searchPhrase},on:{"search-phrase-changed":t=>this.searchPhrase=t}}),e("ol",{staticClass:"insertContent__items",attrs:{"aria-label":t.itemsLabel}},t._l(t.current,(function(n){return e("li",{key:n.key,staticClass:"insertContent__item",attrs:{id:"insert-content-"+n.key}},[e("div",{staticClass:"insertContent__item__header"},[e("div",{staticClass:"insertContent__item__value"},[t._v(" "+t._s(n.value)+" ")]),e("pkp-button",{staticClass:"insertContent__item__button",attrs:{"aria-describedby":"insert-content-"+n.key},on:{click:function(e){return t.$emit("insert",n.value)}}},[t._v(" "+t._s(t.insertLabel)+" ")])],1),e("div",{staticClass:"insertContent__item__description"},[t._v(" "+t._s(n.description)+" ")])])})),0)],1)},Ai=[],Ii=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpSearch"},[e("label",[e("span",{staticClass:"-screenReader"},[t._v(t._s(t.currentSearchLabel))]),e("input",{staticClass:"pkpSearch__input",attrs:{type:"search",id:t.inputId,placeholder:t.currentSearchLabel},domProps:{value:t.searchPhrase},on:{keyup:t.searchPhraseKeyUp}}),e("span",{staticClass:"pkpSearch__icons"},[e("icon",{staticClass:"pkpSearch__icons--search",attrs:{icon:"search"}})],1)]),t.searchPhrase?e("button",{staticClass:"pkpSearch__clear",attrs:{"aria-controls":t.inputId},on:{click:function(e){return e.preventDefault(),t.clearSearchPhrase.apply(null,arguments)}}},[e("icon",{attrs:{icon:"times"}}),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.__("common.clearSearch")))])],1):t._e()])},Di=[],Ei={props:{searchLabel:{type:String,default(){return""}},searchPhrase:{type:String,default(){return""}}},computed:{inputId(){return this._uid},currentSearchLabel(){return this.searchLabel?this.searchLabel:this.__("common.search")}},methods:{searchPhraseKeyUp:Rn()((function(t){this.$emit("search-phrase-changed",t.target.value)}),250),clearSearchPhrase(){this.$emit("search-phrase-changed",""),this.$nextTick((function(){this.$el.querySelector('input[type="search"]').focus()}))}}},Ri=Ei,Bi=(0,T.Z)(Ri,Ii,Di,!1,null,null,null),Ui=Bi.exports,Oi={name:"InsertContent",components:{Search:Ui},props:{insertLabel:{type:String,required:!0},items:{type:Array,default(){return[]}},itemsLabel:{type:String,required:!0},searchLabel:{type:String,default(){return""}}},data(){return{searchPhrase:""}},computed:{current(){if(!this.searchPhrase)return this.items;const t=new RegExp(this.searchPhrase,"i");return this.items.filter((e=>t.test(e.key)||t.test(e.value)||t.test(e.description)))}}},Mi=Oi,$i=(0,T.Z)(Mi,Ci,Ai,!1,null,null,null),Ni=$i.exports,ji={methods:{renderPreparedContent(t,e){return e.reduce(((t,e)=>{const n=new RegExp(`{$${e.key}}`.replace(/[${]/g,"\\$&"),"g");return t.replace(n,e.value)}),t)}}},qi={name:"FieldPreparedContent",extends:Li,mixins:[ji],components:{FieldRichTextarea:Li,InsertContent:Ni,Modal:ot},props:{insertLabel:{type:String,required:!0},insertModalLabel:{type:String,required:!0},preparedContent:{type:Array,default(){return[]}},preparedContentLabel:{type:String,required:!0},searchLabel:{type:String,default(){return""}}},data(){return{resetFocusTo:null}},computed:{textareaProps(){let t={},e=Li;while(e)Object.keys(e.props).forEach((e=>{"undefined"!==typeof this[e]&&(t[e]=this[e])})),e=e.extends?e.extends:null;return t},preparedContentId(){return this.compileId("preparedContent")},compiledInit(){let t=this;const e=function(e){t.init.setup&&t.init.setup.call(this,e),t.preparedContent.length&&(e.ui.registry.addButton("pkpInsert",{icon:"plus",text:t.__("common.insertContent"),onAction(){t.$modal.show(t.preparedContentId)}}),e.settings.toolbar+=" | pkpInsert")};return{...this.init,setup:e}},renderedValue(){const t=t=>this.renderPreparedContent(t,this.preparedContent);let e={};return this.isMultilingual?Object.keys(this.value).forEach((n=>{e[n]=t(this.value[n])})):e=t(this.value),e}},methods:{closeInsertModal(){this.resetFocus()},fieldChanged(t,e,n,i){this.$emit("change",t,e,n,i)},insert(t){this.$refs.textarea.$refs.editor.editor.insertContent(t),this.$modal.hide(this.preparedContentId)},resetFocus(){this.resetFocusTo&&this.resetFocusTo.focus()}}},Wi=qi,Vi=(0,T.Z)(Wi,yi,ki,!1,null,null,null),Ki=Vi.exports,zi=function(){var t=this,e=t._self._c;return e("fieldset",{staticClass:"pkpFormField pkpFormField--options",class:t.classes},[e("legend",{staticClass:"pkpFormField--options__legend"},[t.localeLabel?[e("span",{staticClass:"aria-hidden"},[t._v(t._s(t.localeLabel))]),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.multilingualLabel))])]:[t._v(" "+t._s(t.label)+" ")],t.isRequired?e("span",{staticClass:"pkpFormFieldLabel__required"},[t._v(" * "),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.__("common.required")))])]):t._e(),t.isPrimaryLocale&&t.tooltip?e("tooltip",{attrs:{"aria-hidden":"true",tooltip:t.tooltip,label:""}}):t._e(),t.isPrimaryLocale&&t.tooltip?e("span",{staticClass:"-screenReader",attrs:{id:t.describedByTooltipId},domProps:{innerHTML:t._s(t.tooltip)}}):t._e(),t.isPrimaryLocale&&t.helpTopic?e("help-button",{attrs:{id:t.describedByHelpId,topic:t.helpTopic,section:t.helpSection,label:t.__("help.help")}}):t._e()],2),t.isPrimaryLocale&&t.description?e("div",{staticClass:"pkpFormField__description pkpFormField--options__description",attrs:{id:t.describedByDescriptionId},domProps:{innerHTML:t._s(t.description)}}):t._e(),t.errors&&t.errors.length?e("field-error",{attrs:{id:t.describedByErrorId,messages:t.errors}}):t._e(),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedValue,expression:"selectedValue"}],attrs:{type:"hidden"},domProps:{value:t.selectedValue},on:{input:function(e){e.target.composing||(t.selectedValue=e.target.value)}}}),e("div",{staticClass:"pkpFormField__control"},[t._l(t.localizedOptions,(function(n){return e("label",{key:n.value,staticClass:"pkpFormField--options__option"},[n.isInput?[e("input",{ref:"inputRadio",refInFor:!0,staticClass:"pkpFormField--options__input",attrs:{type:"radio",name:t.localizedName,"aria-describedby":t.describedByIds,"aria-invalid":t.errors&&t.errors.length,disabled:n.disabled},on:{change:t.selectInput}}),n.label?e("span",[t._v(t._s(n.label))]):t._e(),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"inputText",refInFor:!0,staticClass:"pkpFormField__input pkpFormField--options__input--text",attrs:{type:"text","aria-describedby":t.describedByIds,"aria-invalid":t.errors&&t.errors.length,disabled:n.disabled},domProps:{value:t.inputValue},on:{focus:t.selectInput,input:function(e){e.target.composing||(t.inputValue=e.target.value)}}})]:[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedValue,expression:"selectedValue"}],staticClass:"pkpFormField--options__input",attrs:{type:"radio",name:t.localizedName,"aria-describedby":t.describedByIds,"aria-invalid":t.errors&&t.errors.length,disabled:n.disabled},domProps:{value:n.value,checked:t._q(t.selectedValue,n.value)},on:{change:function(e){t.selectedValue=n.value}}}),t._v(" "+t._s(n.label)+" ")]],2)})),t.isMultilingual&&t.locales.length>1?e("multilingual-progress",{attrs:{id:t.multilingualProgressId,count:t.multilingualFieldsCompleted,total:t.locales.length}}):t._e()],2)],1)},Hi=[],Zi={name:"FieldRadioInput",extends:vn,props:{value:{type:String,required:!0}},data(){return{inputValue:""}},computed:{isInputSelected(){return!this.localizedOptions.filter((t=>!t.isInput)).map((t=>t.value)).includes(this.selectedValue)}},methods:{selectInput(){this.selectedValue=this.inputValue,this.$refs.inputRadio[0].checked=!0,this.$refs.inputText[0].focus()},setInputToSelected(){this.selectedValue=this.inputValue}},watch:{inputValue:function(t,e){t!==e&&this.isInputSelected&&(this.selectedValue=this.inputValue)}},mounted(){this.isInputSelected&&(this.inputValue=this.isMultilingual?this.value[this.localeKey]:this.value,this.$refs.inputRadio[0].checked=!0)}},Gi=Zi,Yi=(0,T.Z)(Gi,zi,Hi,!1,null,null,null),Ji=Yi.exports,Xi={name:"FieldRichText",extends:Li,props:{i18nFormattingLabel:{type:String,required:!0},size:{type:String,default(){return"oneline"},validator(t){return["default","large","oneline"].includes(t)}}},computed:{compiledInit(){let t=Li.computed.compiledInit.apply(this);return delete t.url_converter_callback,{...t,forced_root_block:"",toolbar_groups:{formatgroup:{icon:"text-color",tooltip:this.i18nFormattingLabel,items:"bold italic underline superscript subscript"}},content_css:$.pkp.app.tinyMceOneLineContentCSS,formats:{bold:[{inline:"b",remove:"all",exact:!0}],italic:[{inline:"i",remove:"all",exact:!0}],underline:[{inline:"u",remove:"all",exact:!0}],subscript:[{inline:"sub",remove:"all",exact:!0}],superscript:[{inline:"sup",remove:"all",exact:!0}]},extended_valid_elements:"b,i",invalid_elements:"em strong",paste_preprocess:(t,e)=>{e.content=$("<div>"+e.content+"</div>").text()},setup:t=>{t.on("keyDown",(t=>{if(13===parseInt(t.keyCode))return t.preventDefault(),void t.stopPropagation()}))}}}},methods:{blur(){Li.methods.blur.apply(this),this.closeToolbar()},closeToolbar(){const t=this.$el.querySelector(".tox-tbtn[aria-owns]");if(t){const e=document.getElementById(t.getAttribute("aria-owns"));if(e){const e=document.activeElement;t.click(),e&&e.focus()}}}}},Qi=Xi,ts=(0,T.Z)(Qi,c,u,!1,null,null,null),es=ts.exports,ns=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpFormField pkpFormField--select"},[e("div",{staticClass:"pkpFormField__heading"},[e("form-field-label",{attrs:{controlId:t.controlId,label:t.label,localeLabel:t.localeLabel,isRequired:t.isRequired,requiredLabel:t.__("common.required"),multilingualLabel:t.multilingualLabel}}),t.tooltip?e("tooltip",{attrs:{"aria-hidden":"true",tooltip:t.tooltip,label:""}}):t._e(),t.tooltip?e("span",{staticClass:"-screenReader",attrs:{id:t.describedByTooltipId},domProps:{innerHTML:t._s(t.tooltip)}}):t._e(),t.helpTopic?e("help-button",{attrs:{id:t.describedByHelpId,topic:t.helpTopic,section:t.helpSection,label:t.__("help.help")}}):t._e()],1),t.isPrimaryLocale&&t.description?e("div",{staticClass:"pkpFormField__description",attrs:{id:t.describedByDescriptionId},domProps:{innerHTML:t._s(t.description)}}):t._e(),e("div",{staticClass:"pkpFormField__control",class:{"pkpFormField__control--hasMultilingualIndicator":t.isMultilingual&&t.locales.length>1}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"pkpFormField__input pkpFormField--select__input",attrs:{id:t.controlId,name:t.localizedName,"aria-describedby":t.describedByIds,"aria-invalid":t.errors&&t.errors.length,required:t.isRequired},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.currentValue=e.target.multiple?n:n[0]}}},t._l(t.localizedOptions,(function(n){return e("option",t._b({key:n.value},"option",n,!1),[t._v(" "+t._s(n.label)+" ")])})),0),t.isMultilingual&&t.locales.length>1?e("multilingual-progress",{attrs:{id:t.multilingualProgressId,count:t.multilingualFieldsCompleted,total:t.locales.length}}):t._e(),t.errors&&t.errors.length?e("field-error",{attrs:{id:t.describedByErrorId,messages:t.errors}}):t._e()],1)])},is=[],ss={name:"FieldSelect",extends:ln,props:{options:Array},computed:{localizedOptions(){return this.isMultilingual?this.options[this.localeKey]:this.options}}},as=ss,ls=(0,T.Z)(as,ns,is,!1,null,null,null),rs=ls.exports,os=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpFormField pkpFormField--select pkpFormField--selectIssue"},[e("div",{staticClass:"pkpFormField__heading"},[e("form-field-label",{attrs:{controlId:t.controlId,label:t.label,isRequired:t.isRequired,requiredLabel:t.__("common.required")}}),t.tooltip?e("tooltip",{attrs:{"aria-hidden":"true",tooltip:t.tooltip,label:""}}):t._e(),t.tooltip?e("span",{staticClass:"-screenReader",attrs:{id:t.describedByTooltipId},domProps:{innerHTML:t._s(t.tooltip)}}):t._e(),t.helpTopic?e("help-button",{attrs:{id:t.describedByHelpId,topic:t.helpTopic,section:t.helpSection,label:t.__("help.help")}}):t._e()],1),t.description?e("div",{staticClass:"pkpFormField__description",attrs:{id:t.describedByDescriptionId},domProps:{innerHTML:t._s(t.description)}}):t._e(),e("div",{staticClass:"pkpFormField__control"},[e("span",{staticClass:"pkpFormField__description"},[e("span",{domProps:{innerHTML:t._s(t.notice)}}),t.button?e("pkp-button",t._b({staticClass:"pkpFormField--selectIssue__button",on:{click:function(e){return t.emitGlobal(t.button.event)}}},"pkp-button",t.button,!1),[t._v(" "+t._s(t.button.label)+" ")]):t._e()],1),t.errors&&t.errors.length?e("field-error",{attrs:{id:t.describedByErrorId,messages:t.errors}}):t._e()],1)])},ds=[],ps={name:"FieldSelectIssue",extends:rs,props:{assignedNoticeBase:{type:String,required:!0},assignLabel:{type:String,required:!0},changeIssueLabel:{type:String,required:!0},publicationStatus:{type:Number,required:!0},publishedNoticeBase:{type:String,required:!0},scheduledNoticeBase:{type:String,required:!0},unscheduledNotice:{type:String,required:!0},unscheduleLabel:{type:String,required:!0}},computed:{button(){let t=null;return this.publicationStatus===pkp.const.STATUS_SCHEDULED?t={event:"unpublish:publication",isWarnable:!0,label:this.unscheduleLabel}:this.publicationStatus!==pkp.const.STATUS_PUBLISHED&&(t={event:"schedule:publication",label:this.value?this.changeIssueLabel:this.assignLabel}),t},notice(){let t="";if(this.publicationStatus===pkp.const.STATUS_PUBLISHED)t=this.publishedNoticeBase;else if(this.publicationStatus===pkp.const.STATUS_SCHEDULED)t=this.scheduledNoticeBase;else{if(!this.value)return this.unscheduledNotice;t=this.assignedNoticeBase}return t.replace("__issueId__",this.value).replace("{$issueName}",this.selectedIssueName)},selectedIssueName(){if(!this.value)return"";const t=this.options.find((t=>t.value===this.value));return t?t.label:""}},methods:{emitGlobal(t){pkp.eventBus.$emit(t)}}},cs=ps,us=(0,T.Z)(cs,os,ds,!1,null,null,null),ms=us.exports,hs={name:"FieldSelectSubmissions",extends:Nn,methods:{setSuggestions(t){const e=t.filter((t=>!this.selected.find((e=>e.id===t.id)))).map((t=>{const e=t.publications.find((e=>e.id===t.currentPublicationId));return e?{value:t.id,label:this.localize(e.fullTitle)}:{value:0,label:""}}));this.suggestions=e}}},bs=hs,fs=(0,T.Z)(bs,m,h,!1,null,null,null),gs=fs.exports,vs={name:"FieldShowEnsuringLink",extends:vn,mixins:[mt],props:{message:String,modalTitle:String},computed:{classes(){return["pkpFormField--showEnsuringLink"]}},mounted(){$(".pkpFormField--options__option button",this.$el).click((()=>(this.openDialog({name:"ensureAnonymousReview",confirmLabel:this.__("common.ok"),message:this.message,title:this.modalTitle,callback:()=>{this.$modal.hide("ensureAnonymousReview")}},{height:"auto",scrollable:!0}),!1)))},beforeDestroy(){$(".pkpFormField--options__option button",this.$el).off()}},_s=vs,ys=(0,T.Z)(_s,b,f,!1,null,null,null),ks=ys.exports,ws=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpFormField pkpFormField--text",class:t.classes},[e("div",{staticClass:"pkpFormField__heading"},[e("form-field-label",{attrs:{controlId:t.controlId,label:t.label,localeLabel:t.localeLabel,isRequired:t.isRequired,requiredLabel:t.__("common.required"),multilingualLabel:t.multilingualLabel}}),t.isPrimaryLocale&&t.tooltip?e("tooltip",{attrs:{"aria-hidden":"true",tooltip:t.tooltip,label:""}}):t._e(),t.isPrimaryLocale&&t.tooltip?e("span",{staticClass:"-screenReader",attrs:{id:t.describedByTooltipId},domProps:{innerHTML:t._s(t.tooltip)}}):t._e(),t.isPrimaryLocale&&t.helpTopic?e("help-button",{attrs:{id:t.describedByHelpId,topic:t.helpTopic,section:t.helpSection,label:t.__("help.help")}}):t._e()],1),t.isPrimaryLocale&&t.description?e("div",{staticClass:"pkpFormField__description",attrs:{id:t.describedByDescriptionId},domProps:{innerHTML:t._s(t.description)}}):t._e(),e("div",{staticClass:"pkpFormField__control",class:t.controlClasses},[e("div",{staticClass:"pkpFormField__control_top"},["checkbox"===t.inputType?e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"pkpFormField__input pkpFormField--text__input",style:t.inputStyles,attrs:{id:t.controlId,name:t.localizedName,"aria-describedby":t.describedByIds,"aria-invalid":t.errors&&t.errors.length,disabled:t.isDisabled,required:t.isRequired,type:"checkbox"},domProps:{checked:Array.isArray(t.currentValue)?t._i(t.currentValue,null)>-1:t.currentValue},on:{change:function(e){var n=t.currentValue,i=e.target,s=!!i.checked;if(Array.isArray(n)){var a=null,l=t._i(n,a);i.checked?l<0&&(t.currentValue=n.concat([a])):l>-1&&(t.currentValue=n.slice(0,l).concat(n.slice(l+1)))}else t.currentValue=s}}}):"radio"===t.inputType?e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"pkpFormField__input pkpFormField--text__input",style:t.inputStyles,attrs:{id:t.controlId,name:t.localizedName,"aria-describedby":t.describedByIds,"aria-invalid":t.errors&&t.errors.length,disabled:t.isDisabled,required:t.isRequired,type:"radio"},domProps:{checked:t._q(t.currentValue,null)},on:{change:function(e){t.currentValue=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"pkpFormField__input pkpFormField--text__input",style:t.inputStyles,attrs:{id:t.controlId,name:t.localizedName,"aria-describedby":t.describedByIds,"aria-invalid":t.errors&&t.errors.length,disabled:t.isDisabled,required:t.isRequired,type:t.inputType},domProps:{value:t.currentValue},on:{input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}),t.prefix?e("span",{ref:"prefix",staticClass:"pkpFormField__inputPrefix",style:t.prefixStyles,domProps:{innerHTML:t._s(t.prefix)},on:{click:t.setFocus}}):t._e(),t.isMultilingual&&t.locales.length>1?e("multilingual-progress",{attrs:{id:t.multilingualProgressId,count:t.multilingualFieldsCompleted,total:t.locales.length}}):t._e(),t.optIntoEdit&&t.isDisabled?e("pkp-button",{staticClass:"pkpFormField--text__optIntoEdit",on:{click:function(e){t.isDisabled=!1}}},[t._v(" "+t._s(t.optIntoEditLabel)+" ")]):t._e()],1),t.errors&&t.errors.length?e("field-error",{attrs:{id:t.describedByErrorId,messages:t.errors}}):t._e()],1)])},Ss=[],Ts={name:"FieldText",extends:ln,props:{inputType:String,optIntoEdit:Boolean,optIntoEditLabel:String,size:{default:"normal",validator:function(t){return-1!==["small","normal","large"].indexOf(t)}},prefix:String},data(){return{inputStyles:{},isDisabled:!1,prefixStyles:{}}},computed:{classes(){let t=["pkpFormField--size"+this.size];return $.pkp.app.rtlLocales.includes(this.localeKey)&&t.push("pkpFormField--text--rtl"),t},controlClasses(){let t=[];return this.isMultilingual&&this.locales.length>1&&t.push("pkpFormField__control--hasMultilingualIndicator"),this.prefix&&t.push("pkpFormField__control--hasPrefix"),t}},methods:{setFocus(){this.$refs.input.focus()}},mounted(){this.$nextTick((()=>{setTimeout((()=>{this.prefix&&(this.inputStyles={direction:"ltr","padding-inline-start":this.$refs.prefix.clientWidth+this.$refs.prefix.offsetLeft+"px"},this.$nextTick((()=>{const t=this.$refs.prefix.clientWidth+this.$refs.prefix.offsetLeft;t>this.$refs.input.clientWidth-20&&(this.prefixStyles={width:this.$refs.input.clientWidth-this.$refs.prefix.offsetLeft-80+"px",display:"block","white-space":"nowrap","overflow-x":"hidden","text-overflow":"ellipsis"},this.$nextTick((()=>{this.inputStyles={direction:"ltr","padding-inline-start":this.$refs.prefix.clientWidth+this.$refs.prefix.offsetLeft+"px"}})))})))}),700)})),this.optIntoEdit&&(this.isDisabled=!0)}},Fs=Ts,xs=(0,T.Z)(Fs,ws,Ss,!1,null,null,null),Ps=xs.exports,Ls=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpFormField pkpFormField--textarea",class:t.classes},[e("div",{staticClass:"pkpFormField__heading"},[e("form-field-label",{attrs:{controlId:t.controlId,label:t.label,localeLabel:t.localeLabel,isRequired:t.isRequired,requiredLabel:t.__("common.required"),multilingualLabel:t.multilingualLabel}}),t.isPrimaryLocale&&t.tooltip?e("tooltip",{attrs:{"aria-hidden":"true",tooltip:t.tooltip,label:""}}):t._e(),t.isPrimaryLocale&&t.tooltip?e("span",{staticClass:"-screenReader",attrs:{id:t.describedByTooltipId},domProps:{innerHTML:t._s(t.tooltip)}}):t._e(),t.isPrimaryLocale&&t.helpTopic?e("help-button",{attrs:{id:t.describedByHelpId,topic:t.helpTopic,section:t.helpSection,label:t.__("help.help")}}):t._e()],1),t.isPrimaryLocale&&t.description?e("div",{staticClass:"pkpFormField__description",attrs:{id:t.describedByDescriptionId},domProps:{innerHTML:t._s(t.description)}}):t._e(),e("div",{staticClass:"pkpFormField__control"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"pkpFormField__input pkpFormField--textarea__input",attrs:{id:t.controlId,name:t.localizedName,"aria-describedby":t.describedByIds,"aria-invalid":t.errors&&t.errors.length,required:t.isRequired},domProps:{value:t.currentValue},on:{input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}),t.isMultilingual&&t.locales.length>1?e("multilingual-progress",{attrs:{id:t.multilingualProgressId,count:t.multilingualFieldsCompleted,total:t.locales.length}}):t._e()],1),t.errors&&t.errors.length?e("field-error",{attrs:{id:t.describedByErrorId,messages:t.errors}}):t._e()],1)},Cs=[],As={name:"FieldTextarea",extends:ln,props:{size:{type:String,default:"normal",validator:function(t){return-1!==["small","normal","large"].indexOf(t)}}},computed:{classes(){return["pkpFormField--"+this.size]}}},Is=As,Ds=(0,T.Z)(Is,Ls,Cs,!1,null,null,null),Es=Ds.exports,Rs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpFormField pkpFormField--upload"},[e("div",{staticClass:"pkpFormField__heading"},[e("form-field-label",{attrs:{controlId:t.dropzoneHiddenFileId,label:t.label,localeLabel:t.localeLabel,isRequired:t.isRequired,requiredLabel:t.__("common.required"),multilingualLabel:t.multilingualLabel}}),t.tooltip?e("tooltip",{attrs:{"aria-hidden":"true",tooltip:t.tooltip,label:""}}):t._e(),t.tooltip?e("span",{staticClass:"-screenReader",attrs:{id:t.describedByTooltipId},domProps:{innerHTML:t._s(t.tooltip)}}):t._e(),t.helpTopic?e("help-button",{attrs:{id:t.describedByHelpId,topic:t.helpTopic,section:t.helpSection,label:t.__("help.help")}}):t._e()],1),t.isPrimaryLocale&&t.description?e("div",{staticClass:"pkpFormField__description",attrs:{id:t.describedByDescriptionId},domProps:{innerHTML:t._s(t.description)}}):t._e(),e("div",{ref:"control",staticClass:"pkpFormField__control pkpFormField--upload__control",attrs:{id:t.controlId,"aria-live":"polite"}},[t.currentValue?e("div",{staticClass:"pkpFormField--upload__preview"},[e("span",{staticClass:"pkpFormField--upload__fileName"},[t._v(" "+t._s(t.fileName)+" ")]),e("div",{staticClass:"pkpFormField--upload__previewActions"},[e("pkp-button",{attrs:{isWarnable:!0},on:{click:t.clear}},[t._v(" "+t._s(t.__("common.remove"))+" ")]),t.initialValue&&!t.isInitialValue?e("pkp-button",{on:{click:t.revert}},[t._v(" "+t._s(t.restoreLabel)+" ")]):t._e(),t.isMultilingual&&t.locales.length>1?e("multilingual-progress",{attrs:{id:t.multilingualProgressId,count:t.multilingualFieldsCompleted,total:t.locales.length}}):t._e()],1)]):t._e(),t.currentValue&&t.errors&&t.errors.length?e("field-error",{attrs:{id:t.describedByErrorId,messages:t.errors}}):t._e(),e("div",{class:{"-screenReader":t.currentValue}},[e("vue-dropzone",{ref:"dropzone",attrs:{id:t.dropzoneId,options:t.dropzoneOptions},on:{"vdropzone-file-added":t.onAddFile,"vdropzone-success":t.success,"vdropzone-error":t.error,"vdropzone-removed-file":t.onRemoveFile}}),!t.currentValue&&t.errors&&t.errors.length?e("field-error",{attrs:{id:t.describedByErrorId,messages:t.errors}}):t._e(),e("div",{staticClass:"pkpFormField--upload__uploadActions"},[e("pkp-button",{staticClass:"pkpFormField--upload__addFile",attrs:{disabled:!!t.uploadFile,id:t.dropzoneClickableId}},[t._v(" "+t._s(t.uploadFileLabel)+" ")]),t.currentValue||!t.initialValue||t.isInitialValue?t._e():e("pkp-button",{staticClass:"pkpFormField--upload__restore",on:{click:t.revert}},[t._v(" "+t._s(t.restoreLabel)+" ")]),t.isMultilingual&&t.locales.length>1?e("multilingual-progress",{attrs:{id:t.multilingualProgressId,count:t.multilingualFieldsCompleted,total:t.locales.length}}):t._e()],1)],1)],1)])},Bs=[],Us=n(46086),Os=n.n(Us),Ms={name:"FieldUpload",extends:ln,components:{VueDropzone:Os()},props:{options:Object,restoreLabel:String,uploadFileLabel:String},data(){return{initialValue:null,uploadFile:null}},computed:{isInitialValue(){return!!this.currentValue&&!!this.initialValue&&!!this.currentValue.dateUploaded&&!!this.initialValue.dateUploaded&&this.currentValue.dateUploaded===this.initialValue.dateUploaded},fileName(){return this.uploadFile?this.uploadFile.upload.filename:this.currentValue.uploadName},controlId(){return this.compileId("control")},dropzoneClickableId(){return this.compileId("clickable")},dropzoneId(){return this.compileId("dropzone")},dropzoneHiddenFileId(){return this.compileId("hiddenFileId")},dropzoneOptions(){return{method:"POST",thumbnailWidth:240,maxFiles:1,hiddenInputContainer:"#"+this.controlId,clickable:["#"+this.controlId+" .dropzone","#"+this.dropzoneClickableId],addRemoveLinks:!0,previewTemplate:'<div class="dz-preview">\n\t\t\t\t\t<img class="dz-image" data-dz-thumbnail />\n\t\t\t\t\t<div class="dz-details">\n\t\t\t\t\t\t<div class="dz-filename"><span data-dz-name></span></div>\n\t\t\t\t\t\t<div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>',headers:{"X-Csrf-Token":pkp.currentUser.csrfToken},...this.options}}},methods:{clear(){this.$emit("change",this.name,"value",null,this.localeKey),this.uploadFile=null,this.$refs.dropzone.dropzone.removeAllFiles(),this.setFocusToControl(),this.setErrors([])},revert(){this.$emit("change",this.name,"value",this.initialValue,this.localeKey),this.uploadFile=null,this.setFocusToControl(),this.setErrors([])},success:function(t,e){this.$emit("change",this.name,"value",{temporaryFileId:e.id},this.localeKey),this.setFocusToControl()},onAddFile:function(t){this.uploadFile={...t},this.setErrors([])},onRemoveFile(){this.uploadFile=null,this.setErrors([])},error:function(t,e){let n=this.errors.slice();"string"===typeof e?n.push(e):"object"===typeof e&&n.push(e.errorMessage),this.setErrors(n)},setErrors:function(t){this.$emit("set-errors",this.name,t,this.localeKey)},setFocusToControl(){this.$nextTick((()=>{let t=this.$refs.control.querySelectorAll("input,button");t.length?t[0].focus():this.$el.focus()}))}},mounted(){this.$refs.dropzone.dropzone.hiddenFileInput.id=this.dropzoneHiddenFileId,this.$refs.dropzone.dropzone.hiddenFileInput.setAttribute("aria-describedby",this.describedByIds),this.initialValue=this.currentValue?this.currentValue:null}},$s=Ms,Ns=(0,T.Z)($s,Rs,Bs,!1,null,null,null),js=Ns.exports,qs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpFormField pkpFormField--upload pkpFormField--uploadImage"},[e("div",{staticClass:"pkpFormField__heading"},[e("form-field-label",{attrs:{controlId:t.dropzoneHiddenFileId,label:t.label,localeLabel:t.localeLabel,isRequired:t.isRequired,requiredLabel:t.__("common.required"),multilingualLabel:t.multilingualLabel}}),t.tooltip?e("tooltip",{attrs:{"aria-hidden":"true",tooltip:t.tooltip,label:""}}):t._e(),t.tooltip?e("span",{staticClass:"-screenReader",attrs:{id:t.describedByTooltipId},domProps:{innerHTML:t._s(t.tooltip)}}):t._e(),t.helpTopic?e("help-button",{attrs:{id:t.describedByHelpId,topic:t.helpTopic,section:t.helpSection,label:t.__("help.help")}}):t._e()],1),t.isPrimaryLocale&&t.description?e("div",{staticClass:"pkpFormField__description",attrs:{id:t.describedByDescriptionId},domProps:{innerHTML:t._s(t.description)}}):t._e(),e("div",{ref:"control",staticClass:"pkpFormField__control pkpFormField--upload__control",attrs:{id:t.controlId,"aria-live":"polite"}},[t.currentValue?e("div",{staticClass:"pkpFormField--upload__preview"},[this.thumbnail?e("img",{staticClass:"pkpFormField--uploadImage__thumbnail",attrs:{alt:t.thumbnailDescription,src:t.thumbnail}}):t._e(),e("div",{staticClass:"pkpFormField--upload__details"},[e("label",{staticClass:"pkpFormFieldLabel",attrs:{for:t.altTextId}},[t._v(" "+t._s(t.altTextLabel)+" ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.altTextValue,expression:"altTextValue"}],staticClass:"pkpFormField__input pkpFormField--uploadImage__altTextInput",attrs:{type:"text",id:t.altTextId,"aria-describedby":t.altTextDescriptionId},domProps:{value:t.altTextValue},on:{input:function(e){e.target.composing||(t.altTextValue=e.target.value)}}}),e("div",{staticClass:"pkpFormField--uploadImage__altTextDescription",attrs:{id:t.altTextDescriptionId},domProps:{innerHTML:t._s(t.altTextDescription)}})]),e("div",{staticClass:"pkpFormField--upload__previewActions"},[e("pkp-button",{attrs:{isWarnable:!0},on:{click:t.clear}},[t._v(" "+t._s(t.__("common.remove"))+" ")]),t.initialValue&&!t.isInitialValue?e("pkp-button",{on:{click:t.revert}},[t._v(" "+t._s(t.restoreLabel)+" ")]):t._e(),t.isMultilingual&&t.locales.length>1?e("multilingual-progress",{attrs:{id:t.multilingualProgressId,count:t.multilingualFieldsCompleted,total:t.locales.length}}):t._e()],1)]):t._e(),t.currentValue&&t.errors&&t.errors.length?e("field-error",{attrs:{id:t.describedByErrorId,messages:t.errors}}):t._e(),e("div",{class:{"-screenReader":t.currentValue}},[e("vue-dropzone",{ref:"dropzone",attrs:{id:t.dropzoneId,options:t.dropzoneOptions},on:{"vdropzone-file-added":t.onAddFile,"vdropzone-thumbnail":t.onThumbnail,"vdropzone-success":t.success,"vdropzone-error":t.error,"vdropzone-removed-file":t.onRemoveFile}}),t.errors&&t.errors.length?e("field-error",{attrs:{id:t.describedByErrorId,messages:t.errors}}):t._e(),e("div",{staticClass:"pkpFormField--upload__uploadActions"},[e("pkp-button",{staticClass:"pkpFormField--upload__addFile",attrs:{disabled:!!t.uploadFile,id:t.dropzoneClickableId}},[t._v(" "+t._s(t.uploadFileLabel)+" ")]),t.initialValue&&!t.isInitialValue?e("pkp-button",{staticClass:"pkpFormField--upload__restore",on:{click:t.revert}},[t._v(" "+t._s(t.restoreLabel)+" ")]):t._e(),t.isMultilingual&&t.locales.length>1?e("multilingual-progress",{attrs:{id:t.multilingualProgressId,count:t.multilingualFieldsCompleted,total:t.locales.length}}):t._e()],1)],1)],1)])},Ws=[],Vs={name:"FieldUploadImage",extends:js,props:{altTextDescription:String,altTextLabel:String,baseUrl:String,thumbnailDescription:String},data(){return{altTextValue:"",initialValue:null}},computed:{thumbnail(){return this.uploadFile?this.uploadFile.dataURL:this.currentValue&&this.currentValue.uploadName?this.baseUrl+"/"+this.currentValue.uploadName:""},altTextId(){return this.compileId("altText")},altTextDescriptionId(){return this.compileId("altTextDescription")}},methods:{success:function(t,e){this.isUploading=!1,this.$emit("change",this.name,"value",{temporaryFileId:e.id,altText:""},this.localeKey),this.setFocusToControl()},onThumbnail:function(t){this.uploadFile={...t},this.setFocusToControl()}},watch:{currentValue:function(t,e){t!==e&&(this.altTextValue=t&&t.altText?t.altText:"")},altTextValue:function(t,e){t!==e&&(t||this.currentValue)&&this.$emit("change",this.name,"value",{...this.currentValue,altText:t},this.localeKey)}},mounted(){this.$refs.dropzone.dropzone.hiddenFileInput.id=this.dropzoneHiddenFileId,this.$refs.dropzone.dropzone.hiddenFileInput.setAttribute("aria-describedby",this.describedByIds),this.altTextValue=this.currentValue?this.currentValue.altText:""}},Ks=Vs,zs=(0,T.Z)(Ks,qs,Ws,!1,null,null,null),Hs=zs.exports,Zs={name:"FormGroup",components:{FieldArchivingPn:wn,FieldAutosuggestPreset:Vn,FieldBaseAutosuggest:Nn,FieldColor:Jn,FieldControlledVocab:ei,FieldPubId:ri,FieldHtml:mi,FieldMetadataSetting:_i,FieldOptions:vn,FieldPreparedContent:Ki,FieldRadioInput:Ji,FieldRichTextarea:Li,FieldRichText:es,FieldSelect:rs,FieldSelectIssue:ms,FieldSelectSubmissions:gs,FieldShowEnsuringLink:ks,FieldText:Ps,FieldTextarea:Es,FieldUpload:js,FieldUploadImage:Hs},props:{id:String,label:String,description:String,pageId:String,fields:Array,errors:Object,formId:String,primaryLocale:String,visibleLocales:Array,availableLocales:Array,showWhen:[String,Array]},computed:{fieldsInGroup(){return this.fields.filter((t=>t.groupId===this.id&&this.shouldShowField(t)))},hasErrors(){for(var t in this.fieldsInGroup)if(t in this.errors)return!0;return!1}},methods:{fieldChanged:function(t,e,n,i){this.$emit("change",t,e,n,i)},shouldShowField:function(t){if("undefined"===typeof t.showWhen)return!0;const e="string"===typeof t.showWhen?t.showWhen:t.showWhen[0],n=this.fields.find((t=>t.name===e));return!!n&&("string"===typeof t.showWhen?!!n.value:n.value===t.showWhen[1])},setFieldErrors:function(t,e,n=""){let i={...this.errors};e&&e.length?n?(i[t]=i[t]||{},i[t][n]=e):i[t]=e:n&&i[t]&&i[t][n]?delete i[t][n]:i[t]&&delete i[t],this.$emit("set-errors",i)}}},Gs=Zs,Ys=(0,T.Z)(Gs,ye,ke,!1,null,null,null),Js=Ys.exports,Xs={name:"FormPage",components:{ButtonRow:me,FormErrors:_e,FormGroup:Js},data(){return{hasRecentSave:!1,recentSaveInterval:null}},props:{id:String,groups:Array,fields:Array,errors:Object,formId:String,isCurrentPage:Boolean,isLastPage:Boolean,lastSaveTimestamp:Number,primaryLocale:String,visibleLocales:Array,availableLocales:Array,submitButton:Object,previousButton:Object,canSubmit:{type:Boolean,default(){return!0}},isSaving:Boolean},computed:{groupsInPage(){return this.groups.filter((t=>t.pageId===this.id&&this.shouldShowGroup(t)))},hasFooter(){return this.previousButton||this.submitButton||Object.keys(this.errors).length}},methods:{fieldChanged:function(t,e,n,i){this.$emit("change",t,e,n,i)},submit(){this.$emit("pageSubmitted",this.id)},previousPage(){this.$emit("previousPage",this.id)},showField:function(t){this.$emit("showField",t)},showLocale:function(t){this.$emit("showLocale",t)},shouldShowGroup:function(t){if("undefined"===typeof t.showWhen)return!0;const e="string"===typeof t.showWhen?t.showWhen:t.showWhen[0],n=this.fields.find((t=>t.name===e));return!!n&&("string"===typeof t.showWhen?!!n.value:n.value===t.showWhen[1])},setErrors:function(t){this.$emit("set-errors",t)}},mounted(){this.recentSaveInterval=setInterval((()=>{const t=this.lastSaveTimestamp+5e3;this.hasRecentSave&&t<Date.now()?this.hasRecentSave=!1:!this.hasRecentSave&&t>Date.now()&&(this.hasRecentSave=!0)}),250)},destroyed(){clearInterval(this.recentSaveInterval)}},Qs=Xs,ta=(0,T.Z)(Qs,le,re,!1,null,null,null),ea=ta.exports,na={name:"PkpForm",components:{FormLocales:ae,FormPage:ea},props:{id:String,method:{type:String,default(){return""}},action:{type:String,default(){return""}},canSubmit:{type:Boolean,default(){return!0}},errors:{type:Object,default(){return{}}},fields:Array,groups:Array,hiddenFields:Object,pages:Array,primaryLocale:String,visibleLocales:Array,supportedFormLocales:Array},data(){return{currentPage:"",isSaving:!1,lastSaveTimestamp:-1}},computed:{classes(){let t=[];return this.visibleLocales.length>1&&t.push("pkpForm--hasManyVisibleLocales"),t},availableLocales(){return this.hasMultilingualFields?this.supportedFormLocales:[]},hasMultilingualFields(){return!!this.fields.find((t=>t.isMultilingual))},groupIdsWithErrors(){let t=[];return Object.keys(this.errors).forEach((e=>{const n=this.fields.find((t=>t.name===e));n&&!t.includes(n.groupId)&&t.push(n.groupId)})),t},pageIdsWithErrors(){let t=[];return this.groupIdsWithErrors.forEach((e=>{const n=this.groups.find((t=>t.id===e));n&&!t.includes(n.pageId)&&t.push(n.pageId)})),t},submitValues(){let t={};return this.fields.forEach((e=>{if("field-html"!==e.component)if(e.isMultilingual){let n={};Object.keys(e.value).forEach((t=>{this.supportedFormLocales.filter((e=>e.key===t)).length&&(Array.isArray(e.value[t])&&!e.value[t].length?n[t]="":n[t]=e.value[t])})),Object.keys(n).length&&(t[e.name]=n)}else Array.isArray(e.value)&&!e.value.length?t[e.name]="":t[e.name]=e.value})),{...t,...this.hiddenFields}}},methods:{nextPage:function(t){const e=this.pages.findIndex((e=>e.id===t));1!==this.pages.length&&e!==this.pages.length-1?this.setCurrentPage(!0):this.submit()},submit(){if(!this.canSubmit)return!1;this.isSaving=!0;let t=this.validate();if(Object.keys(t).length)return this.$emit("set",this.id,{errors:{...this.errors,...t}}),void(this.isSaving=!1);"emit"===this.action?this.$emit("success",this.submitValues):$.ajax({context:this,method:"DELETE"===this.method||"PUT"===this.method?"POST":this.method,url:this.action,headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":this.method},data:this.submitValues,success:this.success,error:this.error,complete:this.complete})},validate(){return this.validateRequired()},validateRequired(){let t={};return this.fields.forEach((e=>{if(!e.isRequired)return;let n=!1,i=e.isMultilingual?e.value[this.primaryLocale]:e.value;switch(typeof i){case"undefined":n=!0;break;case"boolean":n=!i;break;case"string":case"array":i.length||(n=!0);break;case"object":i||(n=!0);break}n&&(e.isMultilingual?(t[e.name]={},t[e.name][this.primaryLocale]=[this.__("validator.required")]):t[e.name]=[this.__("validator.required")])})),t},success:function(t){if(this.$emit("success",t),this.lastSaveTimestamp=Date.now(),pkp.eventBus.$emit("form-success",this.id,t),this.action){const e=this.fields.map((e=>("undefined"!==typeof t[e.name]&&(e.value=t[e.name]),e)));this.$emit("set",this.id,{fields:e})}},error:function(t){t.status&&400===t.status?(pkp.eventBus.$emit("notify",this.__("form.errors",{count:Object.keys(t.responseJSON).length}),"warning"),this.$emit("set",this.id,{errors:t.responseJSON})):t.status&&[403,404].includes(t.status)&&t.responseJSON&&t.responseJSON.errorMessage?pkp.eventBus.$emit("notify",t.responseJSON.errorMessage,"warning"):pkp.eventBus.$emit("notify",this.__("common.unknownError","warning"))},complete(){this.isSaving=!1},fieldChanged:function(t,e,n,i){const s=this.fields.map((s=>(s.name===t&&(i?s[e][i]=n:s[e]=n),s)));this.$emit("set",this.id,{fields:s}),this.removeError(t,i)},setCurrentPage:function(t){const e=this.pages.findIndex((t=>t.id===this.currentPage));if(!0===t){if(this.pages.length<=e)return;t=this.pages[e+1].id}else if(!1===t){if(!e)return;t=this.pages[e-1].id}this.currentPage=t,this.$scrollTo(this.$el,500,{offset:-50})},setVisibleLocales:function(t){this.$emit("set",this.id,{visibleLocales:t})},showLocale:function(t){this.visibleLocales.includes(t)||this.setVisibleLocales([this.primaryLocale,t])},showField:function(t){let e=this.fields.find((e=>e.name===t));if(!e)return;let n=this.groups.find((t=>t.id===e.groupId));n&&(this.currentPage=n.pageId,this.$nextTick((()=>{let t=document.querySelector('[id*="'+this.id+"-"+e.name+'"]');t?this.$scrollTo(t,500,{offset:-50}):this.setCurrentPage(n.pageId)})))},removeError:function(t,e){if(!this.errors[t])return;let n={...this.errors};e&&"string"!==typeof n[t]?(n[t][e]&&delete n[t][e],Object.keys(n[t]).length||delete n[t]):delete n[t],this.$emit("set",this.id,{errors:n})},setErrors:function(t){this.$emit("set",this.id,{errors:t})}},mounted(){this.currentPage||(this.currentPage=this.pages[0].id)}},ia=na,sa=(0,T.Z)(ia,Xt,Qt,!1,null,null,null),aa=sa.exports,la={mixins:[Dn],props:{apiUrl:{type:String,required:!0},count:{type:Number,default(){return 30}},getParams:{type:Object,default(){return{}}},lazyLoad:{type:Boolean,default(){return!1}}},data(){return{activeFilters:{},isLoading:!1,latestGetRequest:"",offset:0,searchPhrase:""}},computed:{currentPage(){return Math.floor(this.offset/this.count)+1},lastPage(){return Math.ceil(this.itemsMax/this.count)}},methods:{get(){if(this.apiUrl){var t=this;this.isLoading=!0,this.latestGetRequest=$.pkp.classes.Helper.uuid(),$.ajax({url:this.apiUrl,type:"GET",data:{...this.getParams,...this.activeFilters,searchPhrase:this.searchPhrase,count:this.count,offset:this.offset},_uuid:this.latestGetRequest,error:function(e){t.latestGetRequest===this._uuid&&t.ajaxErrorCallback(e)},success:function(e){t.latestGetRequest===this._uuid&&t.setItems(e.items,e.itemsMax)},complete(){t.latestGetRequest===this._uuid&&(t.isLoading=!1)}})}},setItems(t,e){throw new Error("Missing function to set items after get request. This mixin requires that the component implements a `setItems` method which handles the items received from the get request.")},setPage(t){this.offset=t*this.count-this.count},setSearchPhrase(t){this.searchPhrase=t}},watch:{activeFilters(t,e){this.offset?this.offset=0:this.$nextTick((()=>this.get()))},offset(t,e){t!==e&&this.$nextTick((()=>this.get()))},searchPhrase(t,e){t!==e&&(this.offset?this.offset=0:this.$nextTick((()=>this.get())))}},mounted(){if(this.lazyLoad)if("complete"===document.readyState)this.get();else{var t=this;$((function(){t.get()}))}}},ra=n(30738),oa=n.n(ra),da={components:{ListPanel:Kt,Pagination:Jt,PkpForm:aa,PkpHeader:jt,Modal:ot,Search:Ui},mixins:[la,Dn],props:{addAnnouncementLabel:{type:String,required:!0},confirmDeleteMessage:{type:String,required:!0},deleteAnnouncementLabel:{type:String,required:!0},editAnnouncementLabel:{type:String,required:!0},form:{type:Object,required:!0},id:{type:String,required:!0},items:{type:Array,default(){return[]}},itemsMax:{type:Number,default(){return 0}},title:{type:String,required:!0},urlBase:{type:String,required:!0}},data(){return{activeForm:null,activeFormTitle:"",resetFocusTo:null}},methods:{formModalClosed(t){this.activeForm=null,this.activeFormTitle="",this.resetFocusTo&&this.resetFocusTo.focus()},formSuccess(t){"POST"===this.activeForm.method?(this.offset=0,this.get(),pkp.eventBus.$emit("add:announcement",t)):(this.setItems(this.items.map((e=>e.id===t.id?t:e)),this.itemsMax),pkp.eventBus.$emit("update:announcement",t)),this.$modal.hide("form")},openAddModal(){this.resetFocusTo=document.activeElement;let t=oa()(this.form);t.action=this.apiUrl,t.method="POST",this.activeForm=t,this.activeFormTitle=this.addAnnouncementLabel,this.$modal.show("form")},openDeleteModal(t){const e=this.items.find((e=>e.id===t));"undefined"!==typeof e?this.openDialog({name:"delete",title:this.deleteAnnouncementLabel,message:this.replaceLocaleParams(this.confirmDeleteMessage,{title:this.localize(e.title)}),actions:[{label:this.__("common.yes"),isPrimary:!0,callback:()=>{var e=this;$.ajax({url:this.apiUrl+"/"+t,type:"POST",headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"DELETE"},error:e.ajaxErrorCallback,success:function(n){e.setItems(e.items.filter((e=>e.id!==t)),e.itemsMax),e.$modal.hide("delete"),e.setFocusIn(e.$el)}})}},{label:this.__("common.no"),isWarnable:!0,callback:()=>this.$modal.hide("delete")}]}):this.ajaxErrorCallback({})},openEditModal(t){this.resetFocusTo=document.activeElement;const e=this.items.find((e=>e.id===t));if(!e)return void this.ajaxErrorCallback({});let n=oa()(this.form);n.action=this.apiUrl+"/"+t,n.method="PUT",n.fields=n.fields.map((t=>(Object.keys(e).includes(t.name)&&(t.value=e[t.name]),t))),this.activeForm=n,this.activeFormTitle=this.editAnnouncementLabel,this.$modal.show("form")},setItems(t,e){this.$emit("set",this.id,{items:t,itemsMax:e})},updateForm(t,e){let n={...this.activeForm};Object.keys(e).forEach((function(t){n[t]=e[t]})),this.activeForm=n}}},pa=da,ca=(0,T.Z)(pa,xt,Pt,!1,null,null,null),ua=ca.exports;const ma="\n<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Dictum sit amet justo donec enim diam vulputate ut. Sapien pellentesque habitant morbi tristique senectus et netus. Mi sit amet mauris commodo quis. Commodo sed egestas egestas fringilla phasellus faucibus. Nisi est sit amet facilisis magna etiam. Nec nam aliquam sem et tortor consequat. In metus vulputate eu scelerisque. Convallis posuere morbi leo urna molestie at. Viverra nibh cras pulvinar mattis. In tellus integer feugiat scelerisque. Pretium quam vulputate dignissim suspendisse. Mi in nulla posuere sollicitudin aliquam ultrices sagittis orci. Nibh ipsum consequat nisl vel pretium lectus quam. Faucibus purus in massa tempor. Ac turpis egestas sed tempus urna et pharetra pharetra massa. Tellus pellentesque eu tincidunt tortor aliquam nulla facilisi cras fermentum. Arcu felis bibendum ut tristique et egestas quis ipsum.</p>\n<p>A diam maecenas sed enim ut sem viverra. Risus feugiat in ante metus dictum at. Iaculis nunc sed augue lacus viverra vitae congue. Malesuada fames ac turpis egestas. Viverra nibh cras pulvinar mattis. Sit amet venenatis urna cursus eget nunc scelerisque. Ac feugiat sed lectus vestibulum mattis ullamcorper. Ultrices vitae auctor eu augue ut. Malesuada pellentesque elit eget gravida cum. Dui accumsan sit amet nulla facilisi morbi tempus.</p>\n<p>Morbi tincidunt ornare massa eget egestas purus viverra accumsan. Elit ullamcorper dignissim cras tincidunt lobortis feugiat vivamus at. Velit laoreet id donec ultrices tincidunt arcu non sodales. Cursus mattis molestie a iaculis at erat pellentesque adipiscing commodo. Commodo sed egestas egestas fringilla phasellus faucibus scelerisque eleifend. Consectetur adipiscing elit pellentesque habitant. Tincidunt vitae semper quis lectus nulla at volutpat diam. Sodales ut etiam sit amet nisl purus in mollis. Elementum sagittis vitae et leo duis. Aliquet nibh praesent tristique magna.</p>\n<p>Pellentesque elit eget gravida cum. Eros in cursus turpis massa tincidunt dui ut ornare lectus. Dignissim enim sit amet venenatis urna cursus. Arcu dictum varius duis at consectetur lorem. Hendrerit gravida rutrum quisque non tellus orci ac auctor. Augue neque gravida in fermentum et sollicitudin. Ac tortor vitae purus faucibus ornare suspendisse sed nisi. Turpis massa sed elementum tempus egestas sed sed risus pretium. Enim blandit volutpat maecenas volutpat blandit aliquam etiam erat velit. Aliquam id diam maecenas ultricies mi eget mauris pharetra et. Faucibus pulvinar elementum integer enim neque volutpat ac tincidunt. Amet cursus sit amet dictum sit amet. Hendrerit gravida rutrum quisque non tellus orci ac auctor augue. Sagittis purus sit amet volutpat consequat mauris nunc congue. Nibh sed pulvinar proin gravida hendrerit. Ut sem nulla pharetra diam sit. At consectetur lorem donec massa sapien. Varius quam quisque id diam vel quam elementum.</p>\n<p>Erat velit scelerisque in dictum non consectetur a erat nam. Nibh praesent tristique magna sit amet purus gravida quis. Nulla facilisi etiam dignissim diam quis enim lobortis scelerisque fermentum. Et odio pellentesque diam volutpat commodo. At varius vel pharetra vel turpis nunc eget. Adipiscing at in tellus integer feugiat scelerisque varius morbi. Quisque id diam vel quam elementum. Mattis enim ut tellus elementum sagittis vitae et leo. At elementum eu facilisis sed odio morbi. Lorem ipsum dolor sit amet consectetur adipiscing. Pulvinar elementum integer enim neque. Enim neque volutpat ac tincidunt vitae semper. Id aliquet risus feugiat in ante metus.</p>\n",ha="\n<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Dictum sit amet justo donec enim diam vulputate ut. Sapien pellentesque habitant morbi tristique senectus et netus. Mi sit amet mauris commodo quis. Commodo sed egestas egestas fringilla phasellus faucibus. Nisi est sit amet facilisis magna etiam. Nec nam aliquam sem et tortor consequat. In metus vulputate eu scelerisque. Convallis posuere morbi leo urna molestie at. Viverra nibh cras pulvinar mattis. In tellus integer feugiat scelerisque. Pretium quam vulputate dignissim suspendisse. Mi in nulla posuere sollicitudin aliquam ultrices sagittis orci. Nibh ipsum consequat nisl vel pretium lectus quam. Faucibus purus in massa tempor. Ac turpis egestas sed tempus urna et pharetra pharetra massa. Tellus pellentesque eu tincidunt tortor aliquam nulla facilisi cras fermentum. Arcu felis bibendum ut tristique et egestas quis ipsum.</p>\n";var ba,fa,ga,va,_a,ya,ka,wa,Sa,Ta,Fa,xa,Pa,La,Ca,Aa,Ia={assocId:1,assocType:256,dateExpire:"2022-02-03",datePosted:"2020-01-29",description:{en:ma,fr_CA:ma,ar:ma},descriptionShort:{en:ha,fr_CA:ha,ar:ha},id:1,title:{en:"Eros in cursus turpis massa tincidunt dui ut ornare lectus",fr_CA:"Eros in cursus turpis massa tincidunt dui ut ornare lectus",ar:"Eros in cursus turpis massa tincidunt dui ut ornare lectus"},typeId:1},Da={method:"PUT",action:"/example/default",errors:{},fields:[],groups:[],pages:[{id:"default",submitButton:{label:"Submit",isPrimary:!0}}],primaryLocale:"en",visibleLocales:["en"],supportedFormLocales:[{key:"en",label:"English"}],isSaving:!1},Ea={name:"title",component:"field-text",inputType:"text",label:"Title",isRequired:!0,size:"large",value:{en:"Effect of Data Modelling and Conceptual Modelling",fr_CA:"",ar:""},isMultilingual:!0},Ra={...Da,id:"example",action:"https://example.org/example",fields:[{...Ea,value:{en:"",fr_CA:"",ar:""},groupId:"default"},{name:"descriptionShort",component:"field-rich-textarea",label:"Short Description",isMultilingual:!0,plugins:"paste,link,noneditable",toolbar:"bold italic superscript subscript | link",value:{en:"",fr_CA:"",ar:""},groupId:"default"},{name:"description",component:"field-rich-textarea",label:"Description",isMultilingual:!0,size:"large",plugins:"paste,link,noneditable",toolbar:"bold italic superscript subscript | link",value:{en:"",fr_CA:"",ar:""},groupId:"default"},{name:"dateExpire",component:"field-text",inputType:"text",label:"Expiry Date",description:"The announcement will be displayed to readers until this date. Leave blank if the announcement should be displayed indefinitely.",value:"",groupId:"default"},{name:"sendEmail",component:"field-options",label:"Send Email",description:"",type:"checkbox",value:!1,options:[{value:!0,label:"Yes, I would like an email about this announcement to be sent to all registered users."}],groupId:"default"}],groups:[{id:"default",pageId:"default"}],supportedFormLocales:[...Da.supportedFormLocales,{key:"fr_CA",label:"Français (Canada)"},{key:"ar",label:"عربى"}]},Ba={components:{AnnouncementsListPanel:ua},data(){const t=[{...Ia,...Ia,dateExpire:"2022-02-03",datePosted:"2020-01-29",id:1,title:{en:"Eros in cursus turpis massa tincidunt dui ut ornare lectus",fr_CA:"Eros in cursus turpis massa tincidunt dui ut ornare lectus",ar:"Eros in cursus turpis massa tincidunt dui ut ornare lectus"}},{...Ia,dateExpire:"2021-12-08",datePosted:"2019-12-12",id:2,title:{en:"Elit ullamcorper dignissim cras tincidunt lobortis feugiat vivamus at turpis massa tincidunt dui ut ornare lectus",fr_CA:"Elit ullamcorper dignissim cras tincidunt lobortis feugiat vivamus at turpis massa tincidunt dui ut ornare lectus",ar:"Elit ullamcorper dignissim cras tincidunt lobortis feugiat vivamus at turpis massa tincidunt dui ut ornare lectus"}},{...Ia,dateExpire:"2020-02-03",datePosted:"2019-11-09",id:3,title:{en:"Risus feugiat in ante metus dictum at",fr_CA:"Risus feugiat in ante metus dictum at",ar:"Risus feugiat in ante metus dictum at"}},{...Ia,dateExpire:"2020-06-19",datePosted:"2019-09-21",id:4,title:{en:"Morbi tincidunt ornare massa eget egestas purus viverra accumsan",fr_CA:"Morbi tincidunt ornare massa eget egestas purus viverra accumsan",ar:"Morbi tincidunt ornare massa eget egestas purus viverra accumsan"}},{...Ia,dateExpire:"2019-12-03",datePosted:"2019-05-15",id:5,title:{en:"Nibh praesent tristique magna sit amet purus gravida quis",fr_CA:"Nibh praesent tristique magna sit amet purus gravida quis",ar:"Nibh praesent tristique magna sit amet purus gravida quis"}}];return{form:{...Ra},items:[...t],itemsMax:t.length}}},Ua=Ba,Oa=(0,T.Z)(Ua,Tt,Ft,!1,null,null,null),Ma=Oa.exports,$a="<template>\n\t<announcements-list-panel\n\t\taddAnnouncementLabel=\"Add Announcement\"\n\t\tapiUrl=\"\"\n\t\tconfirmDeleteMessage=\"Are you sure you want to delete this announcement?\"\n\t\tdeleteAnnouncementLabel=\"Delete Announcement\"\n\t\teditAnnouncementLabel=\"Edit Announcement\"\n\t\t:form=\"form\"\n\t\tid=\"previewAnnouncementsListPanel\"\n\t\t:items=\"items\"\n\t\t:itemsMax=\"itemsMax\"\n\t\ttitle=\"Announcements\"\n\t\turlBase=\"https://example.com/announcement/view/__id__\"\n\t/>\n</template>\n<script>\nimport AnnouncementsListPanel from '@/components/ListPanel/announcements/AnnouncementsListPanel.vue';\nimport announcement from '@/docs/data/announcement';\nimport form from '@/docs/components/Form/helpers/form-announcement';\n\nexport default {\n\tcomponents: {\n\t\tAnnouncementsListPanel,\n\t},\n\tdata() {\n\t\tconst announcements = [\n\t\t\t{\n\t\t\t\t...announcement,\n\t\t\t\t...announcement,\n\t\t\t\tdateExpire: '2022-02-03',\n\t\t\t\tdatePosted: '2020-01-29',\n\t\t\t\tid: 1,\n\t\t\t\ttitle: {\n\t\t\t\t\ten: 'Eros in cursus turpis massa tincidunt dui ut ornare lectus',\n\t\t\t\t\tfr_CA: 'Eros in cursus turpis massa tincidunt dui ut ornare lectus',\n\t\t\t\t\tar: 'Eros in cursus turpis massa tincidunt dui ut ornare lectus',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\t...announcement,\n\t\t\t\tdateExpire: '2021-12-08',\n\t\t\t\tdatePosted: '2019-12-12',\n\t\t\t\tid: 2,\n\t\t\t\ttitle: {\n\t\t\t\t\ten:\n\t\t\t\t\t\t'Elit ullamcorper dignissim cras tincidunt lobortis feugiat vivamus at turpis massa tincidunt dui ut ornare lectus',\n\t\t\t\t\tfr_CA:\n\t\t\t\t\t\t'Elit ullamcorper dignissim cras tincidunt lobortis feugiat vivamus at turpis massa tincidunt dui ut ornare lectus',\n\t\t\t\t\tar:\n\t\t\t\t\t\t'Elit ullamcorper dignissim cras tincidunt lobortis feugiat vivamus at turpis massa tincidunt dui ut ornare lectus',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\t...announcement,\n\t\t\t\tdateExpire: '2020-02-03',\n\t\t\t\tdatePosted: '2019-11-09',\n\t\t\t\tid: 3,\n\t\t\t\ttitle: {\n\t\t\t\t\ten: 'Risus feugiat in ante metus dictum at',\n\t\t\t\t\tfr_CA: 'Risus feugiat in ante metus dictum at',\n\t\t\t\t\tar: 'Risus feugiat in ante metus dictum at',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\t...announcement,\n\t\t\t\tdateExpire: '2020-06-19',\n\t\t\t\tdatePosted: '2019-09-21',\n\t\t\t\tid: 4,\n\t\t\t\ttitle: {\n\t\t\t\t\ten:\n\t\t\t\t\t\t'Morbi tincidunt ornare massa eget egestas purus viverra accumsan',\n\t\t\t\t\tfr_CA:\n\t\t\t\t\t\t'Morbi tincidunt ornare massa eget egestas purus viverra accumsan',\n\t\t\t\t\tar:\n\t\t\t\t\t\t'Morbi tincidunt ornare massa eget egestas purus viverra accumsan',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\t...announcement,\n\t\t\t\tdateExpire: '2019-12-03',\n\t\t\t\tdatePosted: '2019-05-15',\n\t\t\t\tid: 5,\n\t\t\t\ttitle: {\n\t\t\t\t\ten: 'Nibh praesent tristique magna sit amet purus gravida quis',\n\t\t\t\t\tfr_CA: 'Nibh praesent tristique magna sit amet purus gravida quis',\n\t\t\t\t\tar: 'Nibh praesent tristique magna sit amet purus gravida quis',\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\n\t\treturn {\n\t\t\tform: {...form},\n\t\t\titems: [...announcements],\n\t\t\titemsMax: announcements.length,\n\t\t};\n\t},\n};\n<\/script>\n",Na={extends:H,data(){return{name:"AnnouncementsListPanel",examples:[{component:Ma,name:"Base",template:this.extractTemplate($a)}]}}},ja=Na,qa=(0,T.Z)(ja,ba,fa,!1,null,null,null),Wa=qa.exports,Va=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewBadge"},[e("badge",{attrs:{label:"32 submissions"}},[t._v("32")]),e("badge",{attrs:{label:"4 assigned submissions",isPrimary:!0}},[t._v("4")]),e("badge",{attrs:{isSuccess:!0}},[t._v("Published")]),e("badge",{attrs:{label:"7 new messages",isWarnable:!0}},[t._v("7")]),e("badge",{attrs:{label:"Participant assigned as author",hasDot:!0}},[t._v("Author")]),e("badge",{attrs:{label:"Currently in the submission stage",stage:"submission",isButton:!0}},[t._v(" Submission ")]),e("badge",{attrs:{label:"View all layout editors",isButton:!0}},[t._v(" Layout Editor ")]),e("badge",{attrs:{label:"25 comments"}},[e("icon",{attrs:{icon:"comment-o",inline:!0}}),t._v(" 25 ")],1)],1)},Ka=[],za={},Ha=(0,T.Z)(za,Va,Ka,!1,null,null,null),Za=Ha.exports,Ga='<template>\n\t<div class="previewBadge">\n\t\t<badge label="32 submissions">32</badge>\n\t\t<badge label="4 assigned submissions" :isPrimary="true">4</badge>\n\t\t<badge :isSuccess="true">Published</badge>\n\t\t<badge label="7 new messages" :isWarnable="true">7</badge>\n\t\t<badge label="Participant assigned as author" :hasDot="true">Author</badge>\n\t\t<badge\n\t\t\tlabel="Currently in the submission stage"\n\t\t\tstage="submission"\n\t\t\t:isButton="true"\n\t\t>\n\t\t\tSubmission\n\t\t</badge>\n\t\t<badge label="View all layout editors" :isButton="true">\n\t\t\tLayout Editor\n\t\t</badge>\n\t\t<badge label="25 comments">\n\t\t\t<icon icon="comment-o" :inline="true" />\n\t\t\t25\n\t\t</badge>\n\t</div>\n</template>\n\n<style lang="less">\n.previewBadge {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tmargin-top: -1rem;\n\tmargin-left: -1rem;\n\n\t> * {\n\t\tmargin-top: 1rem;\n\t\tmargin-left: 1rem;\n\t}\n}\n</style>\n',Ya="\n## Props\n\n| Key | Description |\n| --- | --- |\n| `label` | A hidden label for users without sight |\n| `isPrimary` | Badges which should stand out from adjacent badges |\n| `isSuccess` | Badges which describe a successful or complete state |\n| `isWarnable` | Badges which describe an alert or warning |\n| `isButton` | If the badge can be used to perform an action, set this to true. |\n| `hasDot` | Adds a small dot to the left of the `content` |\n| `stage` | Pass a stage name to use a special design for stag |badges. Supports: `submission`, `review`, `copyediting`, `production`. |\n\n## Events\n\n| Key | Description |\n| --- | --- |\n| `click` | This event will be emitted when the badge is clicked and `isButton` is `true`. |\n\n## Usage\n\nUse this component to display a short value in a badge which visually distinguishes it from the surrounding content.\n\n## Recommendations\n\nThis component is commonly used for tagging items as part of a group. This might include:\n\n- a submission's stage\n- a user's role\n- whether a notification is new or read\n\nIt is also common to use a badge to display a count of something that is related to an item. Examples might include:\n\n- the number of reviews a reviewer is currently undertaking\n- the number of submissions an editor has been assigned\n- the number of notifications a user has\n\n### Things to avoid\n\n**Avoid using too many badges.** Badges should be used to bring attention to key information. If there are too many of them, it will cancel the effect.\n\n**Avoid using badges for multiple things in the same space.** A badge works best when it visually links similar attributes of different objects together. Using badges for different kinds of attributes in the same space can make it difficult to determine what each value represents.\n\n## Accessibility\n\nA badge often relies on its visual proximity to indicate the meaning: a stage badge may appear beside a submission, a count of reviews beside a reviewer. When adding a badge, always include a `label` for those using a screen reader which fully describes it's meaning without requiring the information presented beside it.\n\n```html\n\x3c!-- Example: a badge representing the submission's stage --\x3e\n<badge label=\"Currently in the review stage\">\n\t{{ stage }}\n</badge>\n```\n",Ja={extends:H,data(){return{name:"Badge",readme:Ya,examples:[{component:Za,name:"Base",template:this.extractTemplate(Ga)}]}}},Xa=Ja,Qa=(0,T.Z)(Xa,ga,va,!1,null,null,null),tl=Qa.exports,el=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewButton"},[e("pkp-button",[t._v("Submit")]),e("pkp-button",{attrs:{isPrimary:!0}},[t._v("Primary")]),e("pkp-button",{attrs:{isWarnable:!0}},[t._v("Delete")]),e("pkp-button",[e("icon",{attrs:{icon:"filter",inline:!0}}),t._v(" Filters ")],1),e("pkp-button",{attrs:{isActive:t.isActive},on:{click:function(e){t.isActive=!t.isActive}}},[t._v(" Expand Details ")]),e("pkp-button",{attrs:{element:"a",href:"https://example.org"}},[t._v(" Button-like Link ")]),e("pkp-button",{attrs:{isLink:!0}},[t._v("Link-like Button")])],1)},nl=[],il={data(){return{isActive:!0}}},sl=il,al=(0,T.Z)(sl,el,nl,!1,null,null,null),ll=al.exports,rl='<template>\n\t<div class="previewButton">\n\t\t<pkp-button>Submit</pkp-button>\n\t\t<pkp-button :isPrimary="true">Primary</pkp-button>\n\t\t<pkp-button :isWarnable="true">Delete</pkp-button>\n\t\t<pkp-button>\n\t\t\t<icon icon="filter" :inline="true" />\n\t\t\tFilters\n\t\t</pkp-button>\n\t\t<pkp-button :isActive="isActive" @click="isActive = !isActive">\n\t\t\tExpand Details\n\t\t</pkp-button>\n\t\t<pkp-button element="a" href="https://example.org">\n\t\t\tButton-like Link\n\t\t</pkp-button>\n\t\t<pkp-button :isLink="true">Link-like Button</pkp-button>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tisActive: true,\n\t\t};\n\t},\n};\n<\/script>\n\n<style lang="less">\n.previewButton {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tmargin-top: -0.5rem;\n\tmargin-left: -0.5rem;\n\n\t> * {\n\t\tmargin-top: 0.5rem;\n\t\tmargin-left: 0.5rem;\n\t}\n}\n</style>\n',ol="## Props\n\n| Key | Description |\n| --- | --- |\n| `element` | Whether to use a `button` or `a` HTML tag. Default: `button` |\n| `href` | URL when using a link element. `element` must be set to `a` |\n| `isPrimary` | Use when this button represents the default or expected action in a group of actions. A single group of actions should never have more than one primary button. |\n| `isWarnable` | Use when this button represents an action such as delete, go back, revert or cancel. |\n| `isActive` | Use when the button controls another element, and that element is active. Think of it like an [On Air](https://www.google.co.uk/search?q=on+air+sign&tbm=isch) button. |\n| `isLink` | Use when you want the button to look more like a traditional link than a button. |\n\n## Events\n\n| Key | Description |\n| --- | --- |\n| `click` | When the button is clicked. |\n| `focus` | When the button receives focus. |\n| `blur` | When focus moves away from the button. |\n\n## Usage\n\nUse this component to display a button for an action.\n\n## Links vs Buttons\n\nThe link element, `<a>`, should only be used for actions which navigate away from the current page. When opening modals or performing actions on the same page, use the `<button>` element.\n\nThis is a good rule of thumb: if the URL changes when the action is clicked, use `<a>`. Otherwise, use `<button>`.\n",dl={extends:H,data(){return{name:"Button",readme:ol,examples:[{component:ll,name:"Base",template:this.extractTemplate(rl)}]}}},pl=dl,cl=(0,T.Z)(pl,_a,ya,!1,null,null,null),ul=cl.exports,ml=function(){var t=this,e=t._self._c;return e("button-row",[e("template",{slot:"end"},[e("pkp-button",{attrs:{"is-link":!0}},[e("icon",{attrs:{icon:"long-arrow-left",inline:!0}}),t._v(" Back ")],1)],1),e("pkp-button",[t._v("Save for Later")]),e("pkp-button",{attrs:{"is-primary":!0}},[t._v("Continue")])],2)},hl=[],bl={components:{ButtonRow:me}},fl=bl,gl=(0,T.Z)(fl,ml,hl,!1,null,null,null),vl=gl.exports,_l='<template>\n\t<button-row>\n\t\t<template slot="end">\n\t\t\t<pkp-button :is-link="true">\n\t\t\t\t<icon icon="long-arrow-left" :inline="true" />\n\t\t\t\tBack\n\t\t\t</pkp-button>\n\t\t</template>\n\t\t<pkp-button>Save for Later</pkp-button>\n\t\t<pkp-button :is-primary="true">Continue</pkp-button>\n\t</button-row>\n</template>\n\n<script>\nimport ButtonRow from \'../../../../components/ButtonRow/ButtonRow.vue\';\n\nexport default {\n\tcomponents: {\n\t\tButtonRow,\n\t},\n};\n<\/script>\n',yl="## Props\n\nThis component does not have any props.\n\n## Events\n\nThis component does not emit any events.\n\n## Usage\n\nUse this component to display a row of buttons or other actions.\n\n",kl={extends:H,data(){return{name:"ButtonRow",readme:yl,examples:[{component:vl,name:"Base",template:this.extractTemplate(_l)}]}}},wl=kl,Sl=(0,T.Z)(wl,ka,wa,!1,null,null,null),Tl=Sl.exports,Fl=function(){var t=this,e=t._self._c;return e("catalog-list-panel",{attrs:{addEntryForm:t.addEntryForm,apiUrl:"http://httpbin.org/get",catalogSortBy:"datePublished",catalogSortDir:1,csrfToken:"1234",filters:t.filters,id:"previewCatalogListPanel",infoUrl:"http://httbin.org/get",items:t.items,itemsMax:t.itemsMax,title:"Catalog"}})},xl=[],Pl=function(){var t=this,e=t._self._c;return e("div",[t._t("default",(function(){return[e("list-panel",{staticClass:"listPanel--selectReviewer",attrs:{isSidebarVisible:t.isSidebarVisible,items:t.currentReviewers},scopedSlots:t._u([{key:"item",fn:function({item:n}){return[e("select-reviewer-list-item",{key:n.id,attrs:{activeReviewsCountLabel:t.activeReviewsCountLabel,activeReviewsLabel:t.activeReviewsLabel,assignedToLastRound:t.lastRoundReviewerIds.includes(n.id),assignedToLastRoundLabel:t.assignedToLastRoundLabel,averageCompletionLabel:t.averageCompletionLabel,biographyLabel:t.biographyLabel,cancelledReviewsLabel:t.cancelledReviewsLabel,completedReviewsLabel:t.completedReviewsLabel,currentlyAssigned:t.currentlyAssigned.includes(n.id),currentlyAssignedLabel:t.currentlyAssignedLabel,daySinceLastAssignmentLabel:t.daySinceLastAssignmentLabel,daysSinceLastAssignmentLabel:t.daysSinceLastAssignmentLabel,daysSinceLastAssignmentDescriptionLabel:t.daysSinceLastAssignmentDescriptionLabel,declinedReviewsLabel:t.declinedReviewsLabel,gossipLabel:t.gossipLabel,item:n,neverAssignedLabel:t.neverAssignedLabel,reassignLabel:t.reassignLabel,reassignWithNameLabel:t.reassignWithNameLabel,reviewerRatingLabel:t.reviewerRatingLabel,reviewInterestsLabel:t.reviewInterestsLabel,selectReviewerLabel:t.selectReviewerLabel,selectorName:t.selectorName,warnOnAssignment:t.warnOnAssignment.includes(n.id),warnOnAssignmentLabel:t.warnOnAssignmentLabel,warnOnAssignmentUnlockLabel:t.warnOnAssignmentUnlockLabel}})]}}])},[e("pkp-header",{attrs:{slot:"header"},slot:"header"},[e("h2",[t._v(" "+t._s(t.title)+" ")]),t.isLoading?e("spinner"):t._e(),e("template",{slot:"actions"},[e("search",{attrs:{searchPhrase:t.searchPhrase},on:{"search-phrase-changed":t.setSearchPhrase}}),e("pkp-button",{attrs:{isActive:t.isSidebarVisible},on:{click:function(e){t.isSidebarVisible=!t.isSidebarVisible}}},[e("icon",{attrs:{icon:"filter",inline:!0}}),t._v(" "+t._s(t.__("common.filter"))+" ")],1)],1)],2),e("template",{slot:"sidebar"},[e("pkp-header",{attrs:{isOneLine:!1}},[e("h2",[e("icon",{attrs:{icon:"filter",inline:!0}}),t._v(" "+t._s(t.__("common.filter"))+" ")],1)]),t._l(t.filters,(function(n){return e(n.filterType||"filter-slider",t._b({key:n.param,tag:"component",attrs:{isFilterActive:t.isFilterActive(n.param,n.value)},on:{"add-filter":t.addFilter,"update-filter":t.addFilter,"remove-filter":t.removeFilter}},"component",n,!1))}))],2),t.isLoading?e("template",{slot:"itemsEmpty"},[t.isLoading?[e("spinner"),t._v(" "+t._s(t.__("common.loading"))+" ")]:[t._v(" "+t._s(t.emptyLabel)+" ")]],2):t._e(),e("template",{slot:"footer"},[t.lastPage>1?e("pagination",{attrs:{currentPage:t.currentPage,isLoading:t.isLoading,lastPage:t.lastPage},on:{"set-page":t.setPage}}):t._e()],1)],2)]}))],2)},Ll=[],Cl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpFilter pkpFilter--slider",class:t.classes},[t.isFilterActive?e("button",{staticClass:"pkpFilter__remove",on:{click:t.remove}},[e("icon",{attrs:{icon:"times-circle-o"}}),e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.__("common.filterRemove",{filterTitle:t.title}))+" ")])],1):e("button",{staticClass:"pkpFilter__add",on:{click:t.enable}},[e("icon",{attrs:{icon:"plus-square-o"}}),e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.__("common.filterAdd",{filterTitle:t.title}))+" ")])],1),e("div",{staticClass:"pkpFilter__inputTitle",attrs:{"aria-hidden":"true"},on:{click:t.toggle}},[t._v(" "+t._s(t.title)+" ")]),e("div",{staticClass:"pkpFilter__input pkpFilter__input--slider"},[e("label",{staticClass:"-screenReader",attrs:{for:"slider"}},[t._v(t._s(t.title))]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentValue,expression:"currentValue",modifiers:{number:!0}}],attrs:{type:"range",max:t.max,min:t.min,disabled:!t.isFilterActive,id:"slider"},domProps:{value:t.currentValue},on:{__r:function(e){t.currentValue=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}}),t.isFilterActive?e("output",{ref:"output",staticClass:"pkpFilter__value",style:t.valueStyles,attrs:{for:"slider"}},[e("span",{staticClass:"pkpFilter__valueCaret",attrs:{"aria-hidden":"true"}}),t.useStars?e("span",{staticClass:"pkpFilter__value--stars",attrs:{"aria-hidden":"true"}},t._l(5,(function(n){return e("icon",{key:n,attrs:{icon:n<=t.currentValue?"star":"star-o"}})})),1):[t._v(" "+t._s(t.currentValueLabel)+" ")]],2):t._e()])])},Al=[],Il=function(){var t=this,e=t._self._c;return e("div",{class:t.classes},[e("button",{staticClass:"pkpFilter__label",class:{"-isActive":t.isFilterActive},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toggle(t.param,t.value)}}},[t._v(" "+t._s(t.title)+" ")]),t.isFilterActive?e("button",{staticClass:"pkpFilter__remove",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.remove(t.param,t.value)}}},[e("icon",{attrs:{icon:"times-circle-o"}}),e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.__("common.filterRemove",{filterTitle:t.title}))+" ")])],1):t._e()])},Dl=[],El={props:{isFilterActive:{type:Boolean,default(){return!1}},param:{type:String,required:!0},title:{type:String,required:!0},value:{type:[String,Number,Boolean,Array,Object],required:!0}},computed:{classes(){let t=["pkpFilter"];return this.isFilterActive||t.push("pkpFilter--disabled"),t}},methods:{toggle(){this.isFilterActive?this.remove():this.$emit("add-filter",this.param,this.value)},remove(){this.$emit("remove-filter",this.param,this.value)}}},Rl=El,Bl=(0,T.Z)(Rl,Il,Dl,!1,null,null,null),Ul=Bl.exports,Ol=function(){var t=this,e=t._self._c;return"orcid"===t.icon?e("svg",{staticClass:"pkpIcon--orcid",class:t.classes,attrs:{viewBox:"0 0 256 256","aria-hidden":"true"}},[e("path",{staticClass:"pkpIcon--orcid__bg",attrs:{d:"M256,128c0,70.7-57.3,128-128,128C57.3,256,0,198.7,0,128C0,57.3,57.3,0,128,0C198.7,0,256,57.3,256,128z"}}),e("g",[e("path",{staticClass:"pkpIcon--orcid__fill",attrs:{d:"M86.3,186.2H70.9V79.1h15.4v48.4V186.2z"}}),e("path",{staticClass:"pkpIcon--orcid__fill",attrs:{d:"M108.9,79.1h41.6c39.6,0,57,28.3,57,53.6c0,27.5-21.5,53.6-56.8,53.6h-41.8V79.1z M124.3,172.4h24.5\n\t\t\tc34.9,0,42.9-26.5,42.9-39.7c0-21.5-13.7-39.7-43.7-39.7h-23.7V172.4z"}}),e("path",{staticClass:"pkpIcon--orcid__fill",attrs:{d:"M88.7,56.8c0,5.5-4.5,10.1-10.1,10.1c-5.6,0-10.1-4.6-10.1-10.1c0-5.6,4.5-10.1,10.1-10.1\n\t\t\tC84.2,46.7,88.7,51.3,88.7,56.8z"}})])]):e("span",{staticClass:"fa",class:t.classes,attrs:{"aria-hidden":"true"}})},Ml=[],$l={name:"Icon",props:{icon:String,inline:Boolean},computed:{classes(){let t=[];return"orcid"!==this.icon&&t.push("fa-"+this.icon),this.inline&&t.push("pkpIcon--inline"),t}}},Nl=$l,jl=(0,T.Z)(Nl,Ol,Ml,!1,null,null,null),ql=jl.exports,Wl={extends:Ul,components:{Icon:ql},props:{max:{type:Number,required:!0},min:{type:Number,required:!0},useStars:{type:Boolean,default(){return!1}},valueLabel:{type:String,default(){return"{$value}"}}},data(){return{currentValue:this.value}},computed:{currentValueLabel(){return this.valueLabel.replace("{$value}",this.currentValue)},valueStyles(){if(this.isFilterActive){const t=Number(100*(this.currentValue-this.min)/(this.max-this.min)),e=8+t/100*-17;return{left:`calc(${t}% + ${e}px)`}}return{}}},methods:{enable(){this.$emit("add-filter",this.param,this.currentValue)},updateCurrentValue:Rn()((function(t){this.$emit("update-filter",this.param,t)}),250),remove(){this.$emit("remove-filter",this.param)}},watch:{currentValue:function(t,e){this.updateCurrentValue(t)}}},Vl=Wl,Kl=(0,T.Z)(Vl,Cl,Al,!1,null,null,null),zl=Kl.exports,Hl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpFilter--slider pkpFilter--sliderMultirange",class:t.classes},[t.isFilterActive?e("button",{staticClass:"pkpFilter__remove",on:{click:t.remove}},[e("icon",{attrs:{icon:"times-circle-o"}}),e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.__("filterRemove",{filterTitle:t.title}))+" ")])],1):e("button",{staticClass:"pkpFilter__add",on:{click:t.enable}},[e("icon",{attrs:{icon:"plus-square-o"}}),e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.__("filterAdd",{filterTitle:t.title}))+" ")])],1),e("div",{staticClass:"pkpFilter__inputTitle",attrs:{tabindex:!t.isFilterActive&&-1,"aria-hidden":"true"},on:{click:t.toggle}},[t._v(" "+t._s(t.title)+" ")]),e("fieldset",{staticClass:"pkpFilter__input pkpFilter__input--slider pkpFilter__input--sliderMultirange"},[e("legend",{staticClass:"-screenReader"},[t._v(t._s(t.title))]),e("div",{staticClass:"pkpFilter__multirangeInput"},[e("label",{staticClass:"-screenReader",attrs:{for:"sliderMore"}},[t._v(" "+t._s(t.moreThanLabel)+" ")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentValue[0],expression:"currentValue[0]",modifiers:{number:!0}}],attrs:{type:"range",max:t.moreThanMax,min:t.min,disabled:!t.isFilterActive,id:"sliderMore"},domProps:{value:t.currentValue[0]},on:{__r:function(e){t.$set(t.currentValue,0,t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"pkpFilter__multirangeInput"},[e("label",{staticClass:"-screenReader",attrs:{for:"sliderLess"}},[t._v(" "+t._s(t.lessThanLabel)+" ")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentValue[1],expression:"currentValue[1]",modifiers:{number:!0}}],attrs:{type:"range",max:t.max,min:t.lessThanMin,disabled:!t.isFilterActive,id:"sliderLess"},domProps:{value:t.currentValue[1]},on:{__r:function(e){t.$set(t.currentValue,1,t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),e("div",{staticClass:"pkpFilter__value pkpFilter__value--multirange",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"pkpFilter__valueCaret",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.currentValueLabel)+" ")])])},Zl=[],Gl={extends:zl,props:{lessThanLabel:{type:String,required:!0},moreThanLabel:{type:String,required:!0},valueLabel:{type:String,required:!0}},computed:{lessThanMin(){return Math.max(this.min,this.currentValue[0])},moreThanMax(){return Math.min(this.max,this.currentValue[1])},currentValueLabel(){return this.valueLabel.replace("{$min}",this.currentValue[0]).replace("{$max}",this.currentValue[1])}}},Yl=Gl,Jl=(0,T.Z)(Yl,Hl,Zl,!1,null,null,null),Xl=Jl.exports,Ql=function(){var t=this,e=t._self._c;return e("div",{staticClass:"listPanel__item--reviewer",class:t.currentlyAssigned?"-isAssigned":""},[e("div",{staticClass:"listPanel__itemSummary"},[e("div",{staticClass:"listPanel__itemIdentity"},[e("div",{staticClass:"listPanel__itemTitle"},[t.item.reviewsActive&&t.canSelect?e("badge",{staticClass:"listPanel__item--reviewer__active"},[t._v(" "+t._s(t.activeReviewsCountLabel.replace("{$count}",t.item.reviewsActive))+" ")]):t._e(),t._v(" "+t._s(t.item.fullName)+" "),null!==t.item.reviewerRating&&t.canSelect?e("span",{staticClass:"listPanel__item--reviewer__rating"},[t._l(t.stars,(function(t,n){return e("icon",{key:n,class:t?"listPanel__item--reviewer__star--on":"listPanel__item--reviewer__star--off",attrs:{icon:"star"}})})),e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.reviewerRatingLabel.replace("{$rating}",t.item.reviewerRating))+" ")])],2):t._e()],1),e("div",{staticClass:"listPanel__itemSubtitle"},[t.item.affiliation||t.item.orcid?e("div",{staticClass:"listPanel__item--reviewer__affiliation"},[t._v(" "+t._s(t.localize(t.item.affiliation))+" "),t.item.orcid?e("a",{staticClass:"listPanel__item--reviewer__orcid",attrs:{href:t.item.orcid,target:"_blank"}},[e("icon",{attrs:{icon:"orcid",inline:!0}}),t._v(" "+t._s(t.item.orcid)+" ")],1):t._e()]):t._e()]),t.currentlyAssigned?e("div",{staticClass:"listPanel__item--reviewer__notice"},[e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}),t._v(" "+t._s(t.currentlyAssignedLabel)+" ")],1):t.assignedToLastRound?e("div",{staticClass:"listPanel__item--reviewer__notice"},[e("icon",{attrs:{icon:"thumb-tack",inline:!0}}),t._v(" "+t._s(t.assignedToLastRoundLabel)+" ")],1):t.warnOnAssignment&&!t.isWarningBypassed?e("div",{staticClass:"listPanel__item--reviewer__notice"},[e("icon",{attrs:{icon:"lock",inline:!0}}),t._v(" "+t._s(t.warnOnAssignmentLabel)+" "),e("button",{staticClass:"listPanel__item--reviewer__noticeAction",on:{click:function(e){return e.preventDefault(),t.unlockAssignment.apply(null,arguments)}}},[t._v(" "+t._s(t.warnOnAssignmentUnlockLabel)+" ")])],1):t.canSelect?e("div",{staticClass:"listPanel__item--reviewer__brief",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"listPanel__item--reviewer__complete"},[e("icon",{attrs:{icon:"check-circle-o",inline:!0}}),t._v(" "+t._s(t.item.reviewsCompleted)+" ")],1),e("span",{staticClass:"listPanel__item--reviewer__last"},[e("icon",{attrs:{icon:"history",inline:!0}}),t._v(" "+t._s(t.daysSinceLastAssignmentLabelCompiled)+" ")],1),t.item.interests.length?e("span",{staticClass:"listPanel__item--reviewer__interests"},[e("icon",{attrs:{icon:"book",inline:!0}}),t._v(" "+t._s(t.interestsString)+" ")],1):t._e()]):t._e()]),e("div",{staticClass:"listPanel__itemActions"},[t.canSelect?e("pkp-button",{on:{click:t.select}},[t.assignedToLastRound?[e("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.reassignLabel))]),e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.reassignWithName)+" ")])]:[e("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.selectReviewerLabel))]),e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.__("common.selectWithName",{name:t.item.fullName}))+" ")])]],2):t._e(),e("expander",{attrs:{isExpanded:t.isExpanded,itemName:t.item.fullName},on:{toggle:function(e){t.isExpanded=!t.isExpanded}}})],1)]),t.isExpanded?e("div",{staticClass:"listPanel__itemExpanded listPanel__itemExpanded--reviewer"},[e("list",[e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"clock-o",inline:!0}}),t._v(" "+t._s(t.item.reviewsActive)+" ")],1),t._v(" "+t._s(t.activeReviewsLabel)+" ")],2),e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"check-circle-o",inline:!0}}),t._v(" "+t._s(t.item.reviewsCompleted)+" ")],1),t._v(" "+t._s(t.completedReviewsLabel)+" ")],2),e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"times-circle-o",inline:!0}}),t._v(" "+t._s(t.item.reviewsDeclined)+" ")],1),t._v(" "+t._s(t.declinedReviewsLabel)+" ")],2),e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"ban",inline:!0}}),t._v(" "+t._s(t.item.reviewsCancelled)+" ")],1),t._v(" "+t._s(t.cancelledReviewsLabel)+" ")],2),e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"history",inline:!0}}),t._v(" "+t._s(t.daysSinceLastAssignment)+" ")],1),t._v(" "+t._s(t.daysSinceLastAssignmentDescriptionLabel)+" ")],2),e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"calendar",inline:!0}}),t._v(" "+t._s(t.item.averageReviewCompletionDays)+" ")],1),t._v(" "+t._s(t.averageCompletionLabel)+" ")],2),t.item.interests.length?e("list-item",[e("div",{staticClass:"listPanel__item--reviewer__detailHeading"},[e("icon",{attrs:{icon:"book",inline:!0}}),t._v(" "+t._s(t.reviewInterestsLabel)+" ")],1),t._v(" "+t._s(t.interestsString)+" ")]):t._e(),t.item.gossip?e("list-item",[e("div",{staticClass:"listPanel__item--reviewer__detailHeading"},[t._v(" "+t._s(t.gossipLabel)+" ")]),e("div",{domProps:{innerHTML:t._s(t.item.gossip)}})]):t._e(),t.localize(t.item.biography)?e("list-item",[e("div",{staticClass:"listPanel__item--reviewer__detailHeading"},[t._v(" "+t._s(t.biographyLabel)+" ")]),e("div",{domProps:{innerHTML:t._s(t.localize(t.item.biography))}})]):t._e()],1)],1):t._e()])},tr=[],er=function(){var t=this,e=t._self._c;return e("button",{staticClass:"expander",on:{click:function(e){return t.$emit("toggle")}}},[t.isExpanded?e("icon",{attrs:{icon:"angle-up"}}):e("icon",{attrs:{icon:"angle-down"}}),t.isExpanded?e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.__("list.viewLess",{name:t.itemName}))+" ")]):e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.__("list.viewMore",{name:t.itemName}))+" ")])],1)},nr=[],ir={props:{isExpanded:{type:Boolean,default(){return!1}},itemName:{type:String,required:!0}}},sr=ir,ar=(0,T.Z)(sr,er,nr,!1,null,null,null),lr=ar.exports,rr=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"list"},[t._t("default")],2)},or=[],dr={name:"List"},pr=dr,cr=(0,T.Z)(pr,rr,or,!1,null,null,null),ur=cr.exports,mr=function(){var t=this,e=t._self._c;return e("li",{staticClass:"listItem",class:t.classes},[t.hasValueSlot?e("span",{staticClass:"listItem__value"},[t._t("value")],2):t._e(),e("span",{staticClass:"listItem__label"},[t._t("default")],2)])},hr=[],br={name:"ListItem",computed:{classes(){let t=[];return this.hasValueSlot&&t.push("listItem--hasLabel"),t},hasValueSlot(){return this.$slots.value}}},fr=br,gr=(0,T.Z)(fr,mr,hr,!1,null,null,null),vr=gr.exports,_r={components:{Expander:lr,List:ur,ListItem:vr},props:{activeReviewsCountLabel:{type:String,required:!0},activeReviewsLabel:{type:String,required:!0},assignedToLastRound:{type:Boolean,required:!0},assignedToLastRoundLabel:{type:String,required:!0},averageCompletionLabel:{type:String,required:!0},biographyLabel:{type:String,required:!0},cancelledReviewsLabel:{type:String,required:!0},completedReviewsLabel:{type:String,required:!0},currentlyAssigned:{type:Boolean,required:!0},currentlyAssignedLabel:{type:String,required:!0},daySinceLastAssignmentLabel:{type:String,required:!0},daysSinceLastAssignmentLabel:{type:String,required:!0},daysSinceLastAssignmentDescriptionLabel:{type:String,required:!0},declinedReviewsLabel:{type:String,required:!0},gossipLabel:{type:String,required:!0},item:{type:Object,required:!0},neverAssignedLabel:{type:String,required:!0},reassignLabel:{type:String,required:!0},reassignWithNameLabel:{type:String,required:!0},reviewerRatingLabel:{type:String,required:!0},reviewInterestsLabel:{type:String,required:!0},selectReviewerLabel:{type:String,required:!0},warnOnAssignment:{type:Boolean,required:!0},warnOnAssignmentLabel:{type:String,required:!0},warnOnAssignmentUnlockLabel:{type:String,required:!0}},data(){return{isExpanded:!1,isWarningBypassed:!1}},computed:{canSelect(){return!this.currentlyAssigned&&(!this.warnOnAssignment||this.isWarningBypassed)},daysSinceLastAssignment(){if(!this.item.dateLastReviewAssignment)return 0;const t=t=>t.replace(/-/g,"/");return Math.floor((Date.parse(t(this.item.dateLastReviewAssignment))-Date.now())/864e5*-1)},daysSinceLastAssignmentLabelCompiled(){return this.daysSinceLastAssignment?this.daysSinceLastAssignment>1?this.daysSinceLastAssignmentLabel.replace("{$days}",this.daysSinceLastAssignment):this.daySinceLastAssignmentLabel:this.neverAssignedLabel},interestsString(){return this.item.interests&&this.item.interests.length?this.item.interests.map((t=>t.interest)).join(this.__("common.commaListSeparator")):""},reassignWithName(){return this.reassignWithNameLabel.replace("{$name}",this.item.fullName)},stars(){let t=[];if(this.item.reviewerRating)for(let e=0;e<5;e++)t.push(e<this.item.reviewerRating);return t}},methods:{select(){this.$emit("select",this.item),pkp.eventBus.$emit("selected:reviewer",this.item)},unlockAssignment(){this.isWarningBypassed=!0}}},yr=_r,kr=(0,T.Z)(yr,Ql,tr,!1,null,null,null),wr=kr.exports,Sr={components:{FilterSlider:zl,FilterSliderMultirange:Xl,ListPanel:Kt,Pagination:Jt,PkpHeader:jt,Search:Ui,SelectReviewerListItem:wr},mixins:[la],props:{activeReviewsCountLabel:{type:String,required:!0},activeReviewsLabel:{type:String,required:!0},assignedToLastRoundLabel:{type:String,required:!0},averageCompletionLabel:{type:String,required:!0},biographyLabel:{type:String,required:!0},cancelledReviewsLabel:{type:String,required:!0},completedReviewsLabel:{type:String,required:!0},currentlyAssigned:{type:Array,default(){return[]}},currentlyAssignedLabel:{type:String,required:!0},daySinceLastAssignmentLabel:{type:String,required:!0},daysSinceLastAssignmentLabel:{type:String,required:!0},daysSinceLastAssignmentDescriptionLabel:{type:String,required:!0},declinedReviewsLabel:{type:String,required:!0},emptyLabel:{type:String,required:!0},filters:{type:Array,default(){return[]}},gossipLabel:{type:String,required:!0},id:{type:String,required:!0},items:{type:Array,default(){return[]}},itemsMax:{type:Number,default(){return 0}},lastRoundReviewers:{type:Array,default(){return[]}},neverAssignedLabel:{type:String,required:!0},reassignLabel:{type:String,required:!0},reassignWithNameLabel:{type:String,required:!0},reviewerRatingLabel:{type:String,required:!0},reviewInterestsLabel:{type:String,required:!0},selectorName:{type:String,required:!0},selectReviewerLabel:{type:String,required:!0},title:{type:String,required:!0},warnOnAssignment:{type:Array,default(){return[]}},warnOnAssignmentLabel:{type:String,required:!0},warnOnAssignmentUnlockLabel:{type:String,required:!0}},data(){return{isLoading:!1,isSidebarVisible:!1}},computed:{currentReviewers(){return Object.keys(this.activeFilters).length?this.items:[...this.lastRoundReviewers,...this.items.filter((t=>!this.lastRoundReviewerIds.includes(t.id)))]},lastRoundReviewerIds(){return this.lastRoundReviewers.map((t=>t.id))}},methods:{addFilter(t,e){let n={...this.activeFilters};n[t]=e,this.activeFilters=n},isFilterActive(t,e){return this.activeFilters.hasOwnProperty(t)},removeFilter(t,e){if(this.activeFilters.hasOwnProperty(t)){let e={...this.activeFilters};delete e[t],this.activeFilters=e}},setItems(t,e){this.$emit("set",this.id,{items:t,itemsMax:e})}},watch:{activeFilters(t,e){this.offset=0,t&&Object.keys(t).length&&(this.isSidebarVisible=!0)}}},Tr=Sr,Fr=(0,T.Z)(Tr,Pl,Ll,!1,null,null,null),xr=Fr.exports,Pr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"submissionsListPanel"},[e("list-panel",{staticClass:"listPanel--submissions",attrs:{isSidebarVisible:t.isSidebarVisible,items:t.items},scopedSlots:t._u([{key:"item",fn:function({item:n}){return[t._t("item",(function(){return[e("submissions-list-item",{key:n.id,attrs:{item:n,apiUrl:t.apiUrl,infoUrl:t.infoUrl,assignParticipantUrl:t.assignParticipantUrl},on:{addFilter:t.addFilter}})]}),{item:n})]}}],null,!0)},[e("pkp-header",{attrs:{slot:"header"},slot:"header"},[e("h2",[t._v(t._s(t.title))]),t.isLoading?e("spinner"):t._e(),e("template",{slot:"actions"},[e("search",{attrs:{searchPhrase:t.searchPhrase},on:{"search-phrase-changed":t.setSearchPhrase}}),e("pkp-button",{attrs:{isActive:t.isSidebarVisible},on:{click:function(e){t.isSidebarVisible=!t.isSidebarVisible}}},[e("icon",{attrs:{icon:"filter",inline:!0}}),t._v(" "+t._s(t.__("common.filter"))+" ")],1),t.addUrl&&t.currentUserCanAddSubmission?e("pkp-button",{attrs:{element:"a",href:t.addUrl}},[t._v(" "+t._s(t.__("submission.submit.newSubmissionSingle"))+" ")]):t._e()],1)],2),e("template",{slot:"sidebar"},[e("pkp-header",{attrs:{isOneLine:!1}},[e("h3",[e("icon",{attrs:{icon:"filter",inline:!0}}),t._v(" "+t._s(t.__("common.filter"))+" ")],1)]),t._l(t.filters,(function(n,i){return e("div",{key:i,staticClass:"listPanel__block"},[n.heading?e("pkp-header",[e("h4",[t._v(t._s(n.heading))])]):t._e(),t._l(n.filters,(function(n){return e(n.filterType||"pkp-filter",t._b({key:n.param+n.value,tag:"component",attrs:{isFilterActive:t.isFilterActive(n.param,n.value)},on:{"add-filter":t.addFilter,"remove-filter":t.removeFilter,"update-filter":t.addFilter}},"component",n,!1))}))],2)}))],2),e("template",{slot:"itemsEmpty"},[t.isLoading?[e("spinner"),t._v(" "+t._s(t.__("common.loading"))+" ")]:[t._v(" "+t._s(t.__("submission.list.empty"))+" ")]],2),t.lastPage>1?e("pagination",{attrs:{slot:"footer",currentPage:t.currentPage,isLoading:t.isLoading,lastPage:t.lastPage},on:{"set-page":t.setPage},slot:"footer"}):t._e()],2)],1)},Lr=[],Cr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpFilter--autosuggest",class:t.classes},[e(t.component,t._b({tag:"component",on:{change:t.changeSelection}},"component",t.autosuggest,!1))],1)},Ar=[],Ir={name:"FieldSelectUsers",extends:Nn,methods:{setSuggestions(t){const e=t.filter((t=>!this.selected.find((e=>e.id===t.id)))).map((t=>({value:t.id,label:t.fullName})));this.suggestions=e}}},Dr=Ir,Er=(0,T.Z)(Dr,Sa,Ta,!1,null,null,null),Rr=Er.exports,Br={name:"FieldSelectIssues",extends:Nn,methods:{setSuggestions(t){const e=t.filter((t=>!this.selected.find((e=>e.value===t.id)))).map((t=>({value:t.id,label:t.identification})));this.suggestions=e}}},Ur=Br,Or=(0,T.Z)(Ur,Fa,xa,!1,null,null,null),Mr=Or.exports,$r={extends:Ul,components:{FieldAutosuggestPreset:Vn,FieldSelectUsers:Rr,FieldSelectIssues:Mr},props:{component:{type:String,required:!0},autosuggestProps:{type:Object,required:!0}},data(){return{currentValue:this.value,currentSelected:this.autosuggestProps.selected}},computed:{autosuggest(){return{...this.autosuggestProps,value:this.currentValue,selected:this.currentSelected}}},methods:{changeSelection(t,e,n,i){"value"===e?this.currentValue=n:"selected"===e&&(this.currentSelected=n)}},watch:{currentValue(t,e){t.length?this.$emit("add-filter",this.param,t):this.$emit("remove-filter",this.param)}}},Nr=$r,jr=(0,T.Z)(Nr,Cr,Ar,!1,null,null,null),qr=jr.exports,Wr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"listPanel__item--submission"},[e("div",{staticClass:"listPanel__itemSummary"},[e("div",{staticClass:"listPanel__itemIdentity listPanel__itemIdentity--submission"},[e("div",{staticClass:"listPanel__item--submission__id"},[t._v(" "+t._s(t.item.id)+" ")]),e("div",{staticClass:"listPanel__itemTitle"},[t.currentUserIsReviewer?e("span",[t._v(" "+t._s(t.__("submission.list.reviewAssignment"))+" ")]):t.currentPublication.authorsStringShort?e("span",[t._v(" "+t._s(t.currentPublication.authorsStringShort)+" ")]):t._e()]),e("div",{staticClass:"listPanel__itemSubtitle",domProps:{innerHTML:t._s(t.localizeSubmission(t.currentPublication.fullTitle,t.currentPublication.locale))}}),t.currentUserIsReviewer?e("div",{staticClass:"listPanel__item--submission__reviewDetails"},[t.currentUserLatestReviewAssignment.responsePending?e("span",{staticClass:"listPanel__item--submission__dueDate"},[t._v(" "+t._s(t.__("submission.list.responseDue",{date:t.currentUserLatestReviewAssignment.responseDue}))+" ")]):t._e(),t.currentUserLatestReviewAssignment.reviewPending?e("span",{staticClass:"listPanel__item--submission__dueDate"},[t._v(" "+t._s(t.__("submission.list.reviewDue",{date:t.currentUserLatestReviewAssignment.due}))+" ")]):t._e()]):t._e(),t.reviewerWorkflowLink?e("div",{staticClass:"listPanel__item--submission__notice"},[e("span",{domProps:{innerHTML:t._s(t.reviewerWorkflowLink)}})]):t.notice?e("div",{staticClass:"listPanel__item--submission__notice"},[e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}),t._v(" "+t._s(t.notice)+" "),t.shouldAssignEditor?e("button",{staticClass:"-linkButton",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.openAssignParticipant.apply(null,arguments)}}},[t._v(" "+t._s(t.__("submission.list.assignEditor"))+" ")]):t._e()],1):t._e()]),e("div",{staticClass:"listPanel__itemActions"},[t.currentUserIsReviewer?[t.currentUserLatestReviewAssignment.reviewCancelled?e("div",{staticClass:"listPanel__item--submission__reviewCancelled"},[e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}),t._v(" "+t._s(t.__("submission.list.reviewCancelled"))+" ")],1):t._e(),t.currentUserLatestReviewAssignment.reviewComplete?e("div",{staticClass:"listPanel__item--submission__reviewComplete"},[e("icon",{attrs:{icon:"check",inline:!0}}),t._v(" "+t._s(t.__("submission.list.reviewComplete"))+" ")],1):t._e()]:e("div",{staticClass:"listPanel__item--submission__itemSummaryDetails"},[e("div",{staticClass:"listPanel__item--submission__itemSummaryDetailsRow"},[e("div",{staticClass:"listPanel__item--submission__flags",attrs:{"aria-hidden":"true"}},[t.isReviewStage?e("span",[e("icon",{attrs:{icon:"user-o",inline:!0}}),t._v(" "+t._s(t.completedReviewsCount)+"/"+t._s(t.currentReviewAssignments.length)+" ")],1):t._e(),t.activeStage.files.count?e("span",[e("icon",{attrs:{icon:"file-text-o",inline:!0}}),t._v(" "+t._s(t.activeStage.files.count)+" ")],1):t._e(),t.openQueryCount?e("span",[e("icon",{attrs:{icon:"comment-o",inline:!0}}),t._v(" "+t._s(t.openQueryCount)+" ")],1):t._e()]),e("badge",{staticClass:"listPanel__item--submission__stage",attrs:{isButton:!t.isArchived,label:t.currentStageDescription,stage:t.isArchived?"":t.currentStage,isPrimary:t.isScheduled,isSuccess:t.isPublished,isWarnable:t.isDeclined},on:{click:function(e){return t.filterByStage(t.activeStage.id)}}},[t._v(" "+t._s(t.currentStageLabel)+" ")])],1)]),e("pkp-button",{attrs:{element:"a",href:t.item.urlWorkflow}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.__("common.view")))]),t.currentUserIsReviewer?e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.__("common.viewWithName",{name:t.localizeSubmission(t.currentPublication.fullTitle,t.currentPublication.locale)}))+" ")]):e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.__("common.viewWithName",{name:t.currentPublication.authorsStringShort}))+" ")])]),t.currentUserIsReviewer?t._e():e("expander",{attrs:{isExpanded:t.isExpanded,itemName:t.currentPublication.authorsStringShort},on:{toggle:function(e){t.isExpanded=!t.isExpanded}}})],2)]),t.isExpanded?e("div",{staticClass:"listPanel__itemExpanded listPanel__itemExpanded--submission"},[e("list",[t.isReviewStage?e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"user-o",inline:!0}}),t._v(" "+t._s(t.completedReviewsCount)+"/"+t._s(t.currentReviewAssignments.length)+" ")],1),t._v(" "+t._s(t.__("submission.list.reviewsCompleted"))+" ")],2):t._e(),t.isSubmissionStage?t._e():e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"file-text-o",inline:!0}}),t._v(" "+t._s(t.activeStage.files.count)+" ")],1),t._v(" "+t._s(t.activeStageFilesLabel)+" ")],2),t.item.submissionProgress?t._e():e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"comment-o",inline:!0}}),t._v(" "+t._s(t.openQueryCount)+" ")],1),t._v(" "+t._s(t.__("submission.list.discussions"))+" ")],2),t.dualWorkflowLinks?e("list-item",[e("span",{domProps:{innerHTML:t._s(t.dualWorkflowLinks)}})]):t._e(),e("list-item",[e("span",[t._v(" "+t._s(t.__("common.lastActivity",{date:t.localizeDate(t.item.dateLastActivity)}))+" ")])])],1),e("div",{staticClass:"listPanel__itemExpandedActions"},[t.currentUserCanViewInfoCenter?e("pkp-button",{on:{click:t.openInfoCenter}},[t._v(" "+t._s(t.__("submission.list.infoCenter"))+" ")]):t._e(),t.currentUserCanDelete?e("pkp-button",{attrs:{isWarnable:!0},on:{click:t.deleteSubmissionPrompt}},[t._v(" "+t._s(t.__("common.delete"))+" ")]):t._e()],1)],1):t._e()])},Vr=[],Kr={methods:{localizeSubmission:function(t,e){if("undefined"===typeof t)return"";if(t.hasOwnProperty($.pkp.app.currentLocale)&&t[$.pkp.app.currentLocale])return t[$.pkp.app.currentLocale];if(t.hasOwnProperty(e)&&t[e])return t[e];if(t.hasOwnProperty($.pkp.app.primaryLocale)&&t[$.pkp.app.primaryLocale])return t[$.pkp.app.primaryLocale];for(var n in t)if(t[n])return t[n];return""}}},zr={name:"SubmissionsListItem",mixins:[Dn,la,Kr,mt],components:{Expander:lr,List:ur,ListItem:vr},props:{apiUrl:{type:String,required:!0},assignParticipantUrl:{type:String,required:!0},infoUrl:{type:String,required:!0},item:{type:Object,required:!0}},data(){return{isExpanded:!1,mask:null,noticeActions:[],noticeActionLabels:[]}},computed:{currentPublication(){return this.item.publications.find((t=>t.id===this.item.currentPublicationId))},currentUserCanDelete(){return!(this.userAssignedRole(pkp.const.ROLE_ID_AUTHOR)||!this.userAssignedRole([pkp.const.ROLE_ID_MANAGER,pkp.const.ROLE_ID_SITE_ADMIN])||this.item.status!==pkp.const.STATUS_DECLINED)||!(!this.userAssignedRole(pkp.const.ROLE_ID_AUTHOR)||!this.item.submissionProgress)},currentUserCanViewInfoCenter(){return this.userAssignedRole([pkp.const.ROLE_ID_SITE_ADMIN,pkp.const.ROLE_ID_MANAGER,pkp.const.ROLE_ID_SUB_EDITOR])},currentUserIsReviewer(){for(var t of this.item.reviewAssignments)if(t.isCurrentUserAssigned)return!0;return!1},activeStage(){return this.item.stages.find((t=>!0===t.isActiveStage))},notice(){var t="";if(this.item.submissionProgress)return t;if(this.shouldAssignEditor&&(t=this.activeStage.status),this.userAssignedRole([pkp.const.ROLE_ID_MANAGER,pkp.const.ROLE_ID_SUB_EDITOR])&&this.isReviewStage){switch(this.activeStage.statusId){case pkp.const.REVIEW_ROUND_STATUS_PENDING_REVIEWERS:case pkp.const.REVIEW_ROUND_STATUS_REVIEWS_READY:case pkp.const.REVIEW_ROUND_STATUS_REVIEWS_COMPLETED:case pkp.const.REVIEW_ROUND_STATUS_REVIEWS_OVERDUE:case pkp.const.REVIEW_ROUND_STATUS_REVISIONS_SUBMITTED:case pkp.const.REVIEW_ROUND_STATUS_RESUBMIT_FOR_REVIEW_SUBMITTED:t=this.activeStage.status;break}if(!this.activeStage.currentUserCanRecommendOnly)switch(this.activeStage.statusId){case pkp.const.REVIEW_ROUND_STATUS_RECOMMENDATIONS_READY:case pkp.const.REVIEW_ROUND_STATUS_RECOMMENDATIONS_COMPLETED:t=this.activeStage.status;break}}if(this.userAssignedRole(pkp.const.ROLE_ID_AUTHOR)&&this.isReviewStage)switch(this.activeStage.statusId){case pkp.const.REVIEW_ROUND_STATUS_REVISIONS_REQUESTED:case pkp.const.REVIEW_ROUND_STATUS_RESUBMIT_FOR_REVIEW:t=this.activeStage.status;break}if(this.currentUserIsReviewer)switch(this.currentUserLatestReviewAssignment.statusId){case pkp.const.REVIEW_ASSIGNMENT_STATUS_AWAITING_RESPONSE:case pkp.const.REVIEW_ASSIGNMENT_STATUS_RESPONSE_OVERDUE:case pkp.const.REVIEW_ASSIGNMENT_STATUS_REVIEW_OVERDUE:case pkp.const.REVIEW_ASSIGNMENT_STATUS_REQUEST_RESEND:t=this.currentUserLatestReviewAssignment.status;break}return t},shouldAssignEditor(){return this.userAssignedRole(pkp.const.ROLE_ID_MANAGER)&&this.activeStage.id===pkp.const.WORKFLOW_STAGE_ID_SUBMISSION&&this.activeStage.statusId===pkp.const.STAGE_STATUS_SUBMISSION_UNASSIGNED},currentStage(){switch(this.activeStage.id){case pkp.const.WORKFLOW_STAGE_ID_SUBMISSION:return"submission";case pkp.const.WORKFLOW_STAGE_ID_INTERNAL_REVIEW:case pkp.const.WORKFLOW_STAGE_ID_EXTERNAL_REVIEW:return"review";case pkp.const.WORKFLOW_STAGE_ID_EDITING:return"copyediting";case pkp.const.WORKFLOW_STAGE_ID_PRODUCTION:return"production"}return""},currentStageLabel(){return this.isArchived?this.item.statusLabel:this.item.submissionProgress?this.__("submissions.incomplete"):this.activeStage.label},currentStageDescription(){return this.__("submission.list.currentStage",{stage:this.currentStageLabel})},isArchived(){return this.item.status===pkp.const.STATUS_SCHEDULED||this.item.status===pkp.const.STATUS_PUBLISHED||this.item.status===pkp.const.STATUS_DECLINED},isDeclined(){return this.item.status===pkp.const.STATUS_DECLINED},isScheduled(){return this.item.status===pkp.const.STATUS_SCHEDULED},isPublished(){return this.item.status===pkp.const.STATUS_PUBLISHED},openQueryCount(){return this.activeStage.openQueryCount},activeStageFilesLabel(){switch(this.activeStage.id){case pkp.const.WORKFLOW_STAGE_ID_INTERNAL_REVIEW:case pkp.const.WORKFLOW_STAGE_ID_EXTERNAL_REVIEW:return this.__("submission.list.revisionsSubmitted");case pkp.const.WORKFLOW_STAGE_ID_EDITING:return this.__("submission.list.copyeditsSubmitted");case pkp.const.WORKFLOW_STAGE_ID_PRODUCTION:return this.__("submission.list.galleysCreated")}return""},isSubmissionStage(){return this.activeStage.id===pkp.const.WORKFLOW_STAGE_ID_SUBMISSION},isReviewStage(){return this.activeStage.id===pkp.const.WORKFLOW_STAGE_ID_INTERNAL_REVIEW||this.activeStage.id===pkp.const.WORKFLOW_STAGE_ID_EXTERNAL_REVIEW},currentRoleAssignments(){let t=[];return this.item.stages.forEach((e=>{e.currentUserAssignedRoles.forEach((e=>{-1===t.indexOf(e)&&t.push(e)}))})),t},dualWorkflowLinks(){return this.userAssignedRole(pkp.const.ROLE_ID_AUTHOR)&&this.userAssignedRole([pkp.const.ROLE_ID_MANAGER,pkp.const.ROLE_ID_SUB_EDITOR,pkp.const.ROLE_ID_ASSISTANT])?this.__("submission.list.dualWorkflowLinks",{urlAuthorWorkflow:this.item.urlAuthorWorkflow,urlEditorialWorkflow:this.item.urlEditorialWorkflow}):""},reviewerWorkflowLink(){return this.currentUserIsReviewer&&this.userAssignedRole([pkp.const.ROLE_ID_MANAGER,pkp.const.ROLE_ID_SUB_EDITOR,pkp.const.ROLE_ID_ASSISTANT])?this.__("submission.list.reviewerWorkflowLink",{urlEditorialWorkflow:this.item.urlEditorialWorkflow}):""},currentReviewAssignments(){if(!this.item.reviewRounds.length||!this.item.reviewAssignments.length)return[];var t=this.item.reviewRounds[this.item.reviewRounds.length-1].id;return this.item.reviewAssignments.filter((e=>e.roundId===t))},currentUserLatestReviewAssignment(){if(!this.currentUserIsReviewer)return!1;var t=this.item.reviewAssignments.filter((t=>!0===t.isCurrentUserAssigned));if(!t.length)return!1;var e=t.reduce(((t,e)=>t.round>e.round?t:e));switch(e.statusId){case pkp.const.REVIEW_ASSIGNMENT_STATUS_AWAITING_RESPONSE:case pkp.const.REVIEW_ASSIGNMENT_STATUS_RESPONSE_OVERDUE:case pkp.const.REVIEW_ASSIGNMENT_STATUS_REQUEST_RESEND:e.responsePending=!0,e.reviewPending=!0;break;case pkp.const.REVIEW_ASSIGNMENT_STATUS_ACCEPTED:case pkp.const.REVIEW_ASSIGNMENT_STATUS_REVIEW_OVERDUE:e.reviewPending=!0;break;case pkp.const.REVIEW_ASSIGNMENT_STATUS_RECEIVED:case pkp.const.REVIEW_ASSIGNMENT_STATUS_COMPLETE:case pkp.const.REVIEW_ASSIGNMENT_STATUS_THANKED:e.reviewComplete=!0;break}return e},completedReviewsCount(){return this.isReviewStage?this.currentReviewAssignments.filter((t=>t.statusId>=pkp.const.REVIEW_ASSIGNMENT_STATUS_RECEIVED)).length:0}},methods:{userAssignedRole:function(t){if(Array.isArray(t)||(t=[t]),this.currentRoleAssignments.length)return t.some((t=>this.currentRoleAssignments.includes(t)));var e=t.filter((t=>t===pkp.const.ROLE_ID_SITE_ADMIN||t===pkp.const.ROLE_ID_MANAGER));return!!e.length&&this.userHasRole(e)},filterByStage:function(t){this.$emit("addFilter","stageIds",t)},openInfoCenter(){var t={title:this.localizeSubmission(this.currentPublication.fullTitle,this.currentPublication.locale),url:this.infoUrl.replace("__id__",this.item.id),closeCallback:this.resetFocusInfoCenter};$('<div id="'+$.pkp.classes.Helper.uuid()+'" class="pkp_modal pkpModalWrapper" tabindex="-1"></div>').pkpHandler("$.pkp.controllers.modal.AjaxModalHandler",t)},resetFocusInfoCenter(){this.$el.querySelector(".listPanel__item__openInfoCenter").focus()},openAssignParticipant(){var t={title:this.__("submission.list.assignEditor"),url:this.assignParticipantUrl.replace("__id__",this.item.id).replace("__stageId__",this.activeStage.id),closeCallback:this.resetFocusAssignParticipant};$('<div id="'+$.pkp.classes.Helper.uuid()+'" class="pkp_modal pkpModalWrapper" tabIndex="-1"></div>').pkpHandler("$.pkp.controllers.modal.AjaxModalHandler",t)},resetFocusAssignParticipant(){this.$el.querySelector(".listPanel__item--submission__notice button").focus()},deleteSubmissionPrompt(){this.openDialog({name:"deleteSubmission",title:this.__("common.delete"),message:this.__("editor.submissionArchive.confirmDelete"),actions:[{label:this.__("common.yes"),isPrimary:!0,callback:this.deleteSubmission},{label:this.__("common.no"),isWarnable:!0,callback:()=>this.$modal.hide("deleteSubmission")}]})},deleteSubmission(){var t=this;$.ajax({url:this.apiUrl+"/"+this.item.id,type:"POST",headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"DELETE"},error:this.ajaxErrorCallback,success(){pkp.eventBus.$emit("deleted:submission",{id:t.item.id})},complete(){t.$modal.hide("deleteSubmission")}})},userHasRole(t){Array.isArray(t)||(t=[t]);var e=!1;return t.forEach((t=>{pkp.currentUser.roles.indexOf(t)>-1&&(e=!0)})),e}}},Hr=zr,Zr=(0,T.Z)(Hr,Wr,Vr,!1,null,null,null),Gr=Zr.exports,Yr={mixins:[la],components:{ListPanel:Kt,Pagination:Jt,PkpFilter:Ul,PkpFilterSlider:zl,PkpFilterAutosuggest:qr,PkpHeader:jt,Search:Ui,SubmissionsListItem:Gr},props:{addUrl:{type:String,required:!0},assignParticipantUrl:{type:String,default(){return""}},filters:{type:Array,default(){return[]}},id:{type:String,required:!0},infoUrl:{type:String,required:!0},items:{type:Array,default(){return[]}},itemsMax:{type:Number,defaut(){return 0}},title:{type:String,required:!0},allowSubmissions:{type:Boolean,default(){return!0}}},data(){return{isSidebarVisible:!1}},computed:{currentUserCanFilter(){return this.userHasRole([pkp.const.ROLE_ID_MANAGER,pkp.const.ROLE_ID_SUB_EDITOR,pkp.const.ROLE_ID_ASSISTANT])},currentUserCanAddSubmission(){return this.allowSubmissions&&this.userHasRole([pkp.const.ROLE_ID_MANAGER,pkp.const.ROLE_ID_SUB_EDITOR,pkp.const.ROLE_ID_ASSISTANT,pkp.const.ROLE_ID_AUTHOR,pkp.const.ROLE_ID_REVIEWER])}},methods:{addFilter(t,e){if("isIncomplete"===t)this.activeFilters={isIncomplete:e},this.get();else{let n={...this.activeFilters};n.hasOwnProperty("isIncomplete")&&delete n.isIncomplete,["isOverdue","daysInactive","assignedTo","issueIds","sectionIds","categoryIds","assignedTo"].includes(t)?n[t]=e:(n[t]||(n[t]=[]),n[t].push(e)),this.activeFilters=n}},isFilterActive(t,e){return!!Object.keys(this.activeFilters).includes(t)&&(Array.isArray(this.activeFilters[t])?this.activeFilters[t].includes(e):!!["isOverdue","daysInactive"].includes(t)||this.activeFilters[t]===e)},removeFilter(t,e){let n={...this.activeFilters};["isIncomplete","isOverdue","daysInactive","issueIds","sectionIds","categoryIds","assignedTo"].includes(t)?delete n[t]:n[t]=n[t].filter((t=>t!==e)),this.activeFilters=n},setItems(t,e){this.$emit("set",this.id,{items:t,itemsMax:e})},userHasRole(t){Array.isArray(t)||(t=[t]);var e=!1;return t.forEach((t=>{pkp.currentUser.roles.indexOf(t)>-1&&(e=!0)})),e}},mounted(){pkp.eventBus.$on("updated:submission",(()=>this.get())),pkp.eventBus.$on("deleted:submission",(t=>{t.id&&this.items.find((e=>e.id===t.id))&&this.setItems(this.items.filter((e=>t.id!==e.id)),this.itemsMax-1)}))},destroyed(){pkp.eventBus.$off("updated:submission"),pkp.eventBus.$off("deleted:submission")}},Jr=Yr,Xr=(0,T.Z)(Jr,Pr,Lr,!1,null,null,null),Qr=Xr.exports,to={name:"Container",components:{ListPanel:Kt,PkpForm:aa,SelectReviewerListPanel:xr,SubmissionsListPanel:Qr},data(){return{components:{}}},methods:{get(t){return this.components[t]?this.components[t]:{}},set:function(t,e){let n={...this.get(t)};Object.keys(e).forEach((function(t){n[t]=e[t]})),this.components[t]=n}},mounted(){pkp.eventBus.$on("set-form-languages",(t=>{let e;Array.isArray(t)?e=[...t]:(e={...t},e.isGlobalEvent&&delete e.isGlobalEvent,e.handler&&delete e.handler,e=Object.values(e)),Object.keys(this.components).forEach((t=>{"undefined"!==typeof this.components[t].supportedFormLocales&&(this.components[t].supportedFormLocales=e)}))}))},destroyed(){pkp.eventBus.$off("set-form-languages")}},eo=to,no=(0,T.Z)(eo,Pa,La,!1,null,null,null),io=no.exports,so=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpDropdown"},[e("pkp-button",{ref:"button",attrs:{isActive:t.isActive,isLink:t.isLink,isPrimary:t.isPrimary,isWarnable:t.isWarnable,"aria-describedby":t.ariaDescribedBy,"aria-controls":t.id,"aria-expanded":t.isOpen},on:{click:t.toggle,blur:t.closeOnBlur}},[t._t("button",(function(){return[t.icon?e("icon",{attrs:{icon:t.icon,inline:!0}}):t._e(),t._v(" "+t._s(t.label)+" ")]}))],2),t.isOpen?e("div",{staticClass:"pkpDropdown__content",attrs:{id:t.id},on:{click:t.preserveFocus}},[t._t("default")],2):t._e(),t.isOpen?e("span",{staticClass:"pkpDropdown__caret"}):t._e()],1)},ao=[],lo={props:{ariaDescribedBy:{type:String,default:""},icon:{type:String,default:""},label:{type:String,default:""},isActive:{type:Boolean,default:!1},isLink:{type:Boolean,default:!1},isPrimary:{type:Boolean,default:!1},isWarnable:{type:Boolean,default:!1}},data(){return{isOpen:!1}},computed:{id(){return this._uid}},methods:{preserveFocus(t){document.activeElement===document.body&&this.$refs.button.$el.focus()},toggle(){this.isOpen=!this.isOpen},closeOnBlur(){setTimeout((()=>{if(this.$el.contains(document.activeElement))var t=setInterval((()=>{this.$el.contains(document.activeElement)||(this.isOpen=!1,window.clearInterval(t))}),1e3);else this.isOpen=!1}),100)}}},ro=lo,oo=(0,T.Z)(ro,so,ao,!1,null,null,null),po=oo.exports,co={extends:io,name:"Page",components:{Dropdown:po,Notification:Bt,PkpHeader:jt},data(){return{breadcrumbs:[],isLoading:!1,menu:[],notifications:[],notificationInterval:null,tasksUrl:"",unreadTasksCount:0}},computed:{backToDashboardLink(){return this.useBackToDashboard?this.menu[Object.keys(this.menu)[0]]:null},backToDashboardLabel(){return this.backToDashboardLink?this.__("navigation.backTo",{page:this.backToDashboardLink.name}):null},useBackToDashboard(){return!!this.menu&&1===Object.keys(this.menu).length&&!this.menu[Object.keys(this.menu)[0]].isCurrent}},methods:{dismissNotification(t){this.notifications=this.notifications.filter((e=>e.key!==t))},openUrlTab(){let t=window.location.hash.slice(1).split("/");while(t.length)pkp.eventBus.$emit("open-tab",t.shift())},openTasks(){var t={url:this.tasksUrl,closeCallback:this.$refs.tasksButton.focus()};$('<div id="'+$.pkp.classes.Helper.uuid()+'" class="pkp_modal pkpModalWrapper" tabindex="-1"></div>').pkpHandler("$.pkp.controllers.modal.AjaxModalHandler",t)}},created(){window.location.hash&&this.openUrlTab(),window.onhashchange=this.openUrlTab},mounted(){let t=0;pkp.eventBus.$on("notify",((e,n)=>{this.notifications.push({key:t,message:e,type:n??"notice",expire:Date.now()+5e3}),t++})),this.notificationInterval=setInterval((()=>{this.notifications.length&&(this.$refs.notifications.matches(":hover")||(this.notifications=this.notifications.filter((t=>t.expire>Date.now()))))}),250),pkp.eventBus.$on("clear-all-notify",(()=>this.notifications=[])),pkp.eventBus.$on("update:unread-tasks-count",(t=>this.unreadTasksCount=t.count))},destroyed(){pkp.eventBus.$off("notify"),pkp.eventBus.$off("clear-all-notify"),clearInterval(this.notificationInterval),pkp.eventBus.$off("update:unread-tasks-count")}},uo=co,mo=(0,T.Z)(uo,Ca,Aa,!1,null,null,null),ho=mo.exports,bo=function(){var t=this,e=t._self._c;return e("div",[e("list-panel",{staticClass:"listPanel--catalog",class:{"-isOrdering":t.isOrdering,"-isLoading":t.isLoading},attrs:{isSidebarVisible:t.isSidebarVisible,items:t.items},scopedSlots:t._u([{key:"item",fn:function({item:n}){return[e("catalog-list-item",{key:n.id,attrs:{item:n,filterAssocType:t.filterAssocType,filterAssocId:t.filterAssocId,isOrdering:t.isOrdering,apiUrl:t.apiUrl},on:{"update:item":t.updateItem,"order-up":t.itemOrderUp,"order-down":t.itemOrderDown}})]}}])},[e("template",{slot:"header"},[e("pkp-header",[e("h2",[t._v(t._s(t.title))]),t.isLoading?e("spinner"):t._e(),e("template",{slot:"actions"},[e("search",{attrs:{searchPhrase:t.searchPhrase},on:{"search-phrase-changed":t.setSearchPhrase}}),e("pkp-button",{attrs:{isActive:t.isSidebarVisible},on:{click:function(e){t.isSidebarVisible=!t.isSidebarVisible}}},[e("icon",{attrs:{icon:"filter",inline:!0}}),t._v(" "+t._s(t.__("common.filter"))+" ")],1),t.canOrderCurrent?[e("pkp-button",{staticClass:"listPanel--catalog__orderToggle",attrs:{icon:"sort",isActive:t.isOrdering},on:{click:t.toggleOrdering}},[t._v(" "+t._s(t.orderingLabel)+" ")]),t.isOrdering?e("pkp-button",{staticClass:"listPanel--catalog__orderCancel",attrs:{isWarnable:!0},on:{click:t.cancelOrdering}},[t._v(" "+t._s(t.__("common.cancel"))+" ")]):t._e()]:t._e(),e("pkp-button",{ref:"addEntryButton",on:{click:function(e){return t.$modal.show("addCatalogEntry")}}},[t._v(" "+t._s(t.__("submission.catalogEntry.new"))+" ")])],2)],2),t.isOrdering?e("notification",[t._v(" "+t._s(t.orderingDescription)+" ")]):t._e(),t.items.length?e("div",{staticClass:"listPanel--catalog__headings",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"listPanel--catalog__heading"},[t._v(" "+t._s(t.featuredLabel)+" ")]),e("span",{staticClass:"listPanel--catalog__heading"},[t._v(" "+t._s(t.newReleaseLabel)+" ")])]):t._e()],1),e("template",{slot:"sidebar"},[e("pkp-header",{attrs:{isOneLine:!1}},[e("h3",[e("icon",{attrs:{icon:"filter",inline:!0}}),t._v(" "+t._s(t.__("common.filter"))+" ")],1)]),t._l(t.filters,(function(n,i){return e("div",{key:i,staticClass:"listPanel__block"},[n.heading?e("pkp-header",[e("h4",[t._v(t._s(n.heading))])]):t._e(),t._l(n.filters,(function(n){return e("pkp-filter",t._b({key:n.param+n.value,attrs:{isFilterActive:t.isFilterActive(n.param,n.value)},on:{"add-filter":t.addFilter,"remove-filter":t.removeFilter}},"pkp-filter",n,!1))}))],2)}))],2),t.isLoading?e("template",{slot:"itemsEmpty"},[e("spinner"),t._v(" "+t._s(t.__("common.loading"))+" ")],1):t._e(),t.lastPage>1?e("pagination",{attrs:{slot:"footer",currentPage:t.currentPage,isLoading:t.isLoading,lastPage:t.lastPage},on:{"set-page":t.setPage},slot:"footer"}):t._e()],2),e("modal",{attrs:{closeLabel:t.__("common.close"),name:"addCatalogEntry",title:t.__("submission.catalogEntry.new")},on:{closed:t.addEntryFormClosed}},[e("pkp-form",t._b({on:{set:t.setAddEntryForm,success:t.addEntryFormSuccess}},"pkp-form",t.addEntryForm,!1))],1)],1)},fo=[],go=function(){var t=this,e=t._self._c;return e("div",{staticClass:"listPanel__item--catalog",class:{"-isFeatured":t.isFeatured}},[e("div",{staticClass:"listPanel__itemSummary"},[e("div",{staticClass:"listPanel__itemIdentity listPanel__itemIdentity--catalog"},[e("div",{staticClass:"listPanel__item--catalog__id"},[t._v(" "+t._s(t.item.id)+" ")]),e("div",{staticClass:"listPanel__itemTitle"},[t.currentPublication.authorsStringShort?e("span",{staticClass:"listPanel__item--submission__author"},[t._v(" "+t._s(t.currentPublication.authorsStringShort)+" ")]):t._e()]),e("div",{staticClass:"listPanel__itemSubtitle"},[t._v(" "+t._s(t.localize(t.currentPublication.fullTitle))+" ")])]),e("div",{staticClass:"listPanel__itemActions listPanel__itemActions--catalog"},[e("pkp-button",{attrs:{element:"a",href:t.item.urlWorkflow}},[t._v(" "+t._s(t.__("submission.list.viewSubmission"))+" ")]),e("pkp-button",{attrs:{element:"a",href:t.item.urlPublished}},[t._v(" "+t._s(t.__("submission.list.viewEntry"))+" ")]),e("button",{staticClass:"listPanel__item--catalog__select listPanel__item--catalog__select--first",on:{click:function(e){return e.preventDefault(),t.toggleFeatured.apply(null,arguments)}}},[t.isFeatured?e("icon",{attrs:{icon:"check-square-o"}}):e("icon",{attrs:{icon:"square-o"}}),e("span",{staticClass:"-screenReader"},[t.isFeatured?[t._v(" "+t._s(t.__("catalog.manage.isFeatured"))+" ")]:[t._v(" "+t._s(t.__("catalog.manage.isNotFeatured"))+" ")]],2)],1),e("button",{staticClass:"listPanel__item--catalog__select",on:{click:function(e){return e.preventDefault(),t.toggleNewRelease.apply(null,arguments)}}},[e("icon",{attrs:{icon:t.isNewRelease?"check-square-o":"square-o"}}),e("span",{staticClass:"-screenReader"},[t.isNewRelease?[t._v(" "+t._s(t.__("catalog.manage.isNewRelease"))+" ")]:[t._v(" "+t._s(t.__("catalog.manage.isNotNewRelease"))+" ")]],2)],1)],1)]),t.isOrdering?e("orderer",{attrs:{itemId:t.item.id,itemTitle:t.item.title},on:{up:function(e){return t.$emit("order-up",t.item)},down:function(e){return t.$emit("order-down",t.item)}}}):t._e(),t.isSaving||t.isLoading?e("div",{staticClass:"listPanel__itemMask--catalog"}):t._e()],1)},vo=[],_o={name:"CatalogListItem",components:{Orderer:hn},mixins:[Dn],props:["apiUrl","filterAssocType","filterAssocId","isOrdering","item"],data(){return{isLoading:!1,isSaving:!1}},computed:{currentPublication(){return this.item.publications.find((t=>t.id===this.item.currentPublicationId))},isFeatured(){if(!this.item.hasOwnProperty("featured"))return!1;const t=this.item.featured.find((t=>t.assoc_type===this.filterAssocType&&t.assoc_id===this.filterAssocId));return"undefined"!==typeof t},isNewRelease(){if(!this.item.hasOwnProperty("newRelease"))return!1;const t=this.item.newRelease.find((t=>t.assoc_type===this.filterAssocType&&t.assoc_id===this.filterAssocId));return"undefined"!==typeof t}},methods:{toggleFeatured(){const t=this.item.featured.find((t=>t.assoc_type===this.filterAssocType));if(t)this.$emit("update:item",{...this.item,featured:this.item.featured.filter((t=>t.assoc_type!==this.filterAssocType))});else{let t=[...this.item.featured];t.push({assoc_type:this.filterAssocType,assoc_id:this.filterAssocId,seq:1}),this.$emit("update:item",{...this.item,featured:t})}this.$nextTick((()=>this.saveDisplayFlags()))},toggleNewRelease(){const t=this.item.newRelease.find((t=>t.assoc_type===this.filterAssocType)),e="undefined"!==typeof t;if(e)this.$emit("update:item",{...this.item,newRelease:this.item.newRelease.filter((t=>t.assoc_type!==this.filterAssocType))});else{let t=[...this.item.newRelease];t.push({assoc_type:this.filterAssocType,assoc_id:this.filterAssocId,seq:1}),this.$emit("update:item",{...this.item,newRelease:t})}this.$nextTick((()=>this.saveDisplayFlags()))},saveDisplayFlags(){this.isLoading=!0;const t=this;$.ajax({url:this.apiUrl+"/saveDisplayFlags",type:"POST",headers:{"X-Csrf-Token":pkp.currentUser.csrfToken},data:{submissionId:this.item.id,featured:this.item.featured,newRelease:this.item.newRelease},error:function(e){t.ajaxErrorCallback(e)},success:function(e){"undefined"!==typeof e.featured&&t.$emit("update:item",{...t.item,featured:e.featured}),"undefined"!==typeof e.newRelease&&t.$emit("update:item",{...t.item,newRelease:e.newRelease})},complete(){t.isLoading=!1}})}}},yo=_o,ko=(0,T.Z)(yo,go,vo,!1,null,null,null),wo=ko.exports,So={components:{CatalogListItem:wo,ListPanel:Kt,Modal:ot,Notification:Bt,Pagination:Jt,PkpForm:aa,PkpHeader:jt,PkpFilter:Ul,Search:Ui},mixins:[Dn,la],props:{addEntryForm:{type:Object,required:!0},catalogSortBy:{type:String,default(){return"datePublished"}},catalogSortDir:{type:Number,default(){return 1}},contextId:{type:Number,default(){return 0}},csrfToken:{type:String,required:!0},filters:{type:Array,default(){return[]}},id:{type:String,required:!0},items:{type:Array,default(){return[]}},itemsMax:{type:Number,defaut(){return 0}},title:{type:String,default(){return""}}},data(){return{newEntries:[],isOrdering:!1,isSidebarVisible:!1}},computed:{canOrderCurrent(){for(let t of this.items)for(let e of t.featured)if(e.assoc_type===this.filterAssocType&&e.assoc_id===this.filterAssocId)return!0;return!1},orderingLabel(){return this.isOrdering?this.__("submission.list.saveFeatureOrder"):this.__("submission.list.orderFeatures")},featuredLabel(){return this.filterAssocType===pkp.const.ASSOC_TYPE_CATEGORY?this.__("catalog.manage.categoryFeatured"):this.filterAssocType===pkp.const.ASSOC_TYPE_SERIES?this.__("catalog.manage.seriesFeatured"):this.__("catalog.manage.featured")},newReleaseLabel(){return this.filterAssocType===pkp.const.ASSOC_TYPE_CATEGORY?this.__("catalog.manage.feature.categoryNewRelease"):this.filterAssocType===pkp.const.ASSOC_TYPE_SERIES?this.__("catalog.manage.feature.seriesNewRelease"):this.__("catalog.manage.feature.newRelease")},orderingDescription(){let t=null;return this.filterAssocType===pkp.const.ASSOC_TYPE_CATEGORY?t=this.getFilter("categoryIds",this.filterAssocId):this.filterAssocType===pkp.const.ASSOC_TYPE_SERIES&&(t=this.getFilter("seriesIds",this.filterAssocId)),t?this.__("submission.list.orderingFeaturesSection",{title:t.title}):this.__("submission.list.orderingFeatures")},filterAssocType(){return this.activeFilters.hasOwnProperty("categoryIds")?pkp.const.ASSOC_TYPE_CATEGORY:this.activeFilters.hasOwnProperty("seriesIds")?pkp.const.ASSOC_TYPE_SERIES:pkp.const.ASSOC_TYPE_PRESS},filterAssocId(){return this.activeFilters.hasOwnProperty("categoryIds")?this.activeFilters.categoryIds:this.activeFilters.hasOwnProperty("seriesIds")?this.activeFilters.seriesIds:this.contextId}},methods:{addEntryFormSuccess(){this.$modal.hide("addCatalogEntry"),this.get()},addEntryFormClosed(){this.setFocusToRef("addEntryButton"),this.addEntryForm.fields.find((t=>"submissionIds"===t.name)).selected=[]},addFilter(t,e){let n={};n[t]=e,this.activeFilters=n},removeFilter(t,e){this.activeFilters={}},isFilterActive(t,e){return!!Object.keys(this.activeFilters).includes(t)&&(Array.isArray(this.activeFilters[t])?this.activeFilters[t].includes(e):this.activeFilters[t]===e)},cancelOrdering(){this.isOrdering=!1,this.$emit("set",this.id,{offset:0}),this.$nextTick((()=>this.get()))},itemOrderDown(t){var e=this.items.findIndex((e=>t.id==e.id));if(e===this.items.length-1)return;let n=[...this.items];n.splice(e+1,0,n.splice(e,1)[0]),this.$emit("set",this.id,{items:n})},itemOrderUp(t){var e=this.items.findIndex((e=>t.id==e.id));if(0===e)return;let n=[...this.items];n.splice(e-1,0,n.splice(e,1)[0]),this.$emit("set",this.id,{items:n})},getFilter(t,e){for(let n of this.filters)for(let i of n.filters)if(i.param===t&&i.value===e)return i;return{}},setAddEntryForm(t,e){let n={...this.addEntryForm};Object.keys(e).forEach((function(t){n[t]=e[t]})),this.$emit("set",this.id,{addEntryForm:e})},setFilter(t,e){this.activeFilters={},this.activeFilters[t]=e,this.get()},setItems(t,e){this.$emit("set",this.id,{items:t,itemsMax:e})},updateItem(t){let e=this.items.map((e=>e.id===t.id?t:e));this.$emit("set",this.id,{items:e})},updateSortOrder(){let t={...this.getParams};if(this.activeFilters.hasOwnProperty("categoryIds")){const e=this.getFilter("categoryIds",this.activeFilters.categoryIds);t.orderBy=e.sortBy,t.orderDirection=e.sortDir||this.catalogSortDir}else if(this.activeFilters.hasOwnProperty("seriesIds")){const e=this.getFilter("seriesIds",this.activeFilters.seriesIds);t.orderBy=e.sortBy||this.catalogSortBy,t.orderDirection=e.sortDir||this.catalogSortDir}else t.orderBy=this.catalogSortBy,t.orderDirection=this.catalogSortDir;this.$emit("set",this.id,{getParams:t})},setItemOrderSequence(){const t=[];let e=0;for(const i of this.items){const n=i.featured.find((t=>t.assoc_type===this.filterAssocType));n&&(n.seq=e,t.push({id:i.id,seq:n.seq}),e++)}this.isLoading=!0;let n=this;$.ajax({url:this.apiUrl+"/saveFeaturedOrder",type:"POST",headers:{"X-Csrf-Token":pkp.currentUser.csrfToken},data:{assocType:this.filterAssocType,assocId:this.filterAssocId,featured:t},error(t){n.ajaxErrorCallback(t)},complete(){n.isLoading=!1}})},toggleOrdering(){this.isOrdering&&this.setItemOrderSequence(),this.isOrdering=!this.isOrdering}},created(){this.$watch("activeFilters",(function(t,e){t!==e&&this.updateSortOrder()}))}},To=So,Fo=(0,T.Z)(To,bo,fo,!1,null,null,null),xo=Fo.exports,Po={contextId:1,doi:"10.1234/abcd1234",id:1,status:1},Lo={due:"2019-07-23",id:14,isCurrentUserAssigned:!1,responseDue:"2019-07-23",round:1,roundId:15,status:"Waiting for a response from the reviewer.",statusId:pkp.const.REVIEW_ASSIGNMENT_STATUS_AWAITING_RESPONSE};const Co={affiliation:{en:"Public Knowledge Project",fr_CA:""},email:"dbarnes@mailinator.com",familyName:{en:"Barnes",fr_CA:""},fullName:"Daniel Barnes",givenName:{en:"Daniel",fr_CA:""},id:20,includeInBrowse:!0,orcid:"",preferredPublicName:{fr_CA:"",en:""},publicationId:17,seq:1,userGroupId:14,userGroupName:{fr_CA:"",en:"Author"}},Ao={affiliation:{en:"University of Public Knowledge",fr_CA:""},email:"lipsum@mailinator.com",familyName:{en:"Ipsum",fr_CA:"Ipsum"},fullName:"Dr. L. P. Ipsum",givenName:{en:"Lorem",fr_CA:"French Lorem"},id:21,includeInBrowse:!0,orcid:"https://orcid.org/0000-0001-5756-5406",preferredPublicName:{en:"Dr. L. P. Ipsum",fr_CA:"Dr F. L. P. Ipsum"},publicationId:17,seq:1,userGroupId:14,userGroupName:{fr_CA:"",en:"Author"}};var Io,Do,Eo,Ro,Bo,Uo,Oo,Mo,$o,No,jo,qo,Wo,Vo,Ko=[{...Co},{...Ao}],zo={_href:"http://localhost:8000/publicknowledge/api/v1/submissions/17/publications/17",abstract:{en:"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>",fr_CA:"<p>FR Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>"},accessStatus:0,authors:[...Ko],authorsString:"Daniel Barnes, Dr. L. P. Ipsum",authorsStringShort:"Barnes, et al",categoryIds:[2,3],citations:{fr_CA:"",en:""},copyrightHolder:{fr_CA:"",en:""},copyrightYear:null,coverImage:{fr_CA:null,en:null},coverage:{fr_CA:"",en:""},datePublished:null,disciplines:{fr_CA:[],en:[]},doiObject:{...Po},fullTitle:{en:"The Lorem ipsum dolor sit amet: Excepteur sint occaecat cupidatat non proident",fr_CA:"Le Frorem ipsum dolor sit amet: Frexcepteur sint occaecat cupidatat non proident"},galleys:[{fileId:36,id:7,isApproved:!1,label:"PDF",locale:"en",doiObject:{...Po},publicationId:17,seq:0,urlPublished:"http://...",urlRemote:""},{fileId:null,id:8,isApproved:!1,label:"Remote",locale:"en",doiObject:{...Po},publicationId:17,seq:1,urlPublished:"http://...",urlRemote:"http://google.com"},{fileId:37,id:9,isApproved:!1,label:"Supplementaru",locale:"en",doiObject:{...Po},publicationId:17,seq:2,urlPublished:"http://...",urlRemote:""}],hideAuthor:null,id:17,isPublished:!1,issueId:null,keywords:{en:["new keyword","and second keyword"],fr_CA:["fr keyword one","fr keyword two"]},language:null,lastModified:"2019-06-06 15:00:37",licenseUrl:null,locale:"en",pages:null,prefix:{fr_CA:"Le",en:"The"},primaryContactId:20,"pub-id::publisher-id":"lorem-ipsum",publicationDateType:"pub",publicationSummary:{fr_CA:"",en:""},publicationType:"publication",rights:{fr_CA:"",en:""},sectionId:1,seq:0,source:{fr_CA:"",en:""},subjects:{fr_CA:[],en:[]},submissionId:17,subtitle:{en:"Excepteur sint occaecat cupidatat non proident",fr_CA:"Frexcepteur sint occaecat cupidatat non proident"},supportingAgencies:{fr_CA:[],en:[]},title:{en:"Lorem ipsum dolor sit amet",fr_CA:"Frorem ipsum dolor sit amet"},type:{fr_CA:"",en:""},urlPublished:"http://localhost:8000/publicknowledge/article/view/lorem-ipsum/version/17"},Ho={_href:"http://localhost:8000/publicknowledge/api/v1/submissions/1",contextId:1,currentPublicationId:17,dateLastActivity:"2019-06-25 16:52:47",dateSubmitted:"2019-05-30 12:28:18",id:1,lastModified:"2019-06-25 16:40:29",publications:[{...zo}],reviewAssignments:[],reviewRounds:[],stageId:1,stages:[{id:1,label:"Submission",isActiveStage:!0,queries:[],currentUserAssignedRoles:[],files:{count:0}},{id:3,label:"Review",isActiveStage:!1,queries:[],currentUserAssignedRoles:[],status:"Waiting for reviewers to be selected",statusId:6,files:{count:0},currentUserCanRecommendOnly:!1},{id:4,label:"Copyediting",isActiveStage:!1,queries:[],currentUserAssignedRoles:[],files:{count:0}},{id:5,label:"Production",isActiveStage:!1,queries:[],currentUserAssignedRoles:[],files:{count:0}}],status:1,statusLabel:"Queued",submissionProgress:"",urlAuthorWorkflow:"http://localhost:8000/publicknowledge/authorDashboard/submission/1",urlEditorialWorkflow:"http://localhost:8000/publicknowledge/workflow/access/1",urlPublished:"http://localhost:8000/publicknowledge/article/view/1",urlWorkflow:"http://localhost:8000/publicknowledge/workflow/access/1"},Zo=[Ho,{...Ho,id:2,currentPublicationId:22,publications:[{...Ho.publications[0],id:22,authorsString:"Catherine Kwantes",authorsStringShort:"Kwantes",doiObject:{...Po,status:4,crossref_batchId:"_123456",crossref_failedMsg:"This is a sample failure message"},fullTitle:{en:"Quisque vel ultrices ut vel sollicitudin vel varius suscipit phasellus"},isPublished:!0}],stages:Ho.stages.map((t=>({...t,currentUserAssignedRoles:[pkp.const.ROLE_ID_MANAGER]}))),status:3,urlAuthorWorkflow:Ho.urlAuthorWorkflow.replace("1","2"),urlEditorialWorkflow:Ho.urlEditorialWorkflow.replace("1","2"),urlPublished:Ho.urlPublished.replace("1","2"),urlWorkflow:Ho.urlWorkflow.replace("1","2")},{...Ho,id:3,currentPublicationId:45,publications:[{...Ho.publications[0],id:45,authorsString:"Domatilia Sokoloff",authorsStringShort:"Sokoloff",fullTitle:{en:"Metus ut elit est ultrices vivamus mauris est quisque arcu"}}],stages:Ho.stages.map((t=>t.id===pkp.const.WORKFLOW_STAGE_ID_SUBMISSION?{...t,status:"No editor has been assigned to this submission.",statusId:pkp.const.STAGE_STATUS_SUBMISSION_UNASSIGNED}:t)),urlAuthorWorkflow:Ho.urlAuthorWorkflow.replace("1","3"),urlEditorialWorkflow:Ho.urlEditorialWorkflow.replace("1","3"),urlPublished:Ho.urlPublished.replace("1","3"),urlWorkflow:Ho.urlWorkflow.replace("1","3")},{...Ho,id:4,currentPublicationId:87,publications:[{...Ho.publications[0],id:87,authors:[],authorsString:"",authorsStringShort:"",fullTitle:{en:"Submission title when current user is assigned as reviewer and editor"}}],reviewAssignments:[{...Lo,due:"2025-12-05",responseDue:"2017-01-01",isCurrentUserAssigned:!0,status:"The reviewer has missed the response due date.",statusId:pkp.const.REVIEW_ASSIGNMENT_STATUS_RESPONSE_OVERDUE}],stages:Ho.stages.map((t=>t.id===pkp.const.WORKFLOW_STAGE_ID_SUBMISSION?{...t,isActiveStage:!1}:t.id===pkp.const.WORKFLOW_STAGE_ID_EXTERNAL_REVIEW?{...t,isActiveStage:!0,status:"A review is overdue.",statusId:pkp.const.REVIEW_ROUND_STATUS_REVIEWS_OVERDUE}:t)),urlAuthorWorkflow:Ho.urlAuthorWorkflow.replace("1","4"),urlEditorialWorkflow:Ho.urlEditorialWorkflow.replace("1","4"),urlPublished:Ho.urlPublished.replace("1","4"),urlWorkflow:Ho.urlWorkflow.replace("1","4")},{...Ho,id:5,currentPublicationId:12,publications:[{...Ho.publications[0],id:12,authorsString:"Convallis Tellus",authorsStringShort:"Tellus",fullTitle:{en:"Scelerisque felis imperdiet proin fermentum: Pretium quam vulputate dignissim suspendisse in est"}}],reviewAssignments:[{...Lo,due:"2025-12-05",responseDue:"2024-12-05",status:"Waiting for a response from the reviewer.",statusId:pkp.const.REVIEW_ASSIGNMENT_STATUS_AWAITING_RESPONSE},{...Lo,due:"2025-12-05",responseDue:"2024-12-05",status:"The reviewer has submitted their review.",statusId:pkp.const.REVIEW_ASSIGNMENT_STATUS_RECEIVED},{...Lo,due:"2025-12-05",responseDue:"2024-12-05",status:"The reviewer has submitted their review.",statusId:pkp.const.REVIEW_ASSIGNMENT_STATUS_RECEIVED}],stages:Ho.stages.map((t=>t.id===pkp.const.WORKFLOW_STAGE_ID_SUBMISSION?{...t,isActiveStage:!1}:t.id===pkp.const.WORKFLOW_STAGE_ID_EXTERNAL_REVIEW?{...t,isActiveStage:!0,status:"Awaiting responses from reviewers.",statusId:pkp.const.REVIEW_ROUND_STATUS_PENDING_REVIEWS}:t)),urlAuthorWorkflow:Ho.urlAuthorWorkflow.replace("1","5"),urlEditorialWorkflow:Ho.urlEditorialWorkflow.replace("1","5"),urlPublished:Ho.urlPublished.replace("1","5"),urlWorkflow:Ho.urlWorkflow.replace("1","5")},{...Ho,id:6,currentPublicationId:71,publications:[{...Ho.publications[0],id:71,authorsString:"Curabitur Eget",authorsStringShort:"Eget",fullTitle:{en:"Mi eget mauris pharetra et ultrices neque ornare aenean"}}],reviewAssignments:[{...Lo,due:"2025-12-05",responseDue:"2024-12-05",status:"The reviewer has submitted their review.",statusId:pkp.const.REVIEW_ASSIGNMENT_STATUS_RECEIVED},{...Lo,due:"2025-12-05",responseDue:"2024-12-05",status:"The reviewer has submitted their review.",statusId:pkp.const.REVIEW_ASSIGNMENT_STATUS_RECEIVED},{...Lo,due:"2025-12-05",responseDue:"2024-12-05",status:"The reviewer has submitted their review.",statusId:pkp.const.REVIEW_ROUND_STATUS_REVIEWS_COMPLETED}],stages:Ho.stages.map((t=>t.id===pkp.const.WORKFLOW_STAGE_ID_SUBMISSION?{...t,isActiveStage:!1}:t.id===pkp.const.WORKFLOW_STAGE_ID_EXTERNAL_REVIEW?{...t,isActiveStage:!0,status:"All reviewers have responded and a decision is needed.",statusId:pkp.const.REVIEW_ROUND_STATUS_PENDING_REVIEWS}:t)),urlAuthorWorkflow:Ho.urlAuthorWorkflow.replace("1","6"),urlEditorialWorkflow:Ho.urlEditorialWorkflow.replace("1","6"),urlPublished:Ho.urlPublished.replace("1","6"),urlWorkflow:Ho.urlWorkflow.replace("1","6")},{...Ho,id:7,currentPublicationId:123,publications:[{...Ho.publications[0],id:123,authorsString:"Sed Aenean",authorsStringShort:"Aenean",fullTitle:{en:"Sed sed mattis amet eget aenean leo est nam sit"}}],stages:Ho.stages.map((t=>t.id===pkp.const.WORKFLOW_STAGE_ID_SUBMISSION?{...t,isActiveStage:!1}:t.id===pkp.const.WORKFLOW_STAGE_ID_EDITING?{...t,isActiveStage:!0,queries:[{assocId:21,assocType:1048585,closed:!1,id:47,sequence:1,stageId:4}],files:{count:2},currentUserAssignedRoles:[pkp.const.ROLE_ID_MANAGER]}:t)),urlAuthorWorkflow:Ho.urlAuthorWorkflow.replace("1","7"),urlEditorialWorkflow:Ho.urlEditorialWorkflow.replace("1","7"),urlPublished:Ho.urlPublished.replace("1","7"),urlWorkflow:Ho.urlWorkflow.replace("1","7")},{...Ho,id:8,currentPublicationId:872,publications:[{...Ho.publications[0],id:872,authorsString:"Lacus Agittis",authorsStringShort:"Agittis",fullTitle:{en:"Lacus ut leo dolor nam neque nam dolor aenean sagittis"}}],stages:Ho.stages.map((t=>t.id===pkp.const.WORKFLOW_STAGE_ID_SUBMISSION?{...t,isActiveStage:!1}:t.id===pkp.const.WORKFLOW_STAGE_ID_PRODUCTION?{...t,isActiveStage:!0,queries:[{assocId:21,assocType:1048585,closed:!1,id:47,sequence:1,stageId:5}],files:{count:4},currentUserAssignedRoles:[pkp.const.ROLE_ID_MANAGER]}:t)),urlAuthorWorkflow:Ho.urlAuthorWorkflow.replace("1","8"),urlEditorialWorkflow:Ho.urlEditorialWorkflow.replace("1","8"),urlPublished:Ho.urlPublished.replace("1","8"),urlWorkflow:Ho.urlWorkflow.replace("1","8")},{...Ho,id:9,currentPublicationId:321,publications:[{...Ho.publications[0],id:321,authorsString:"Ullamco Excepteur",authorsStringShort:"Excepteur",fullTitle:{en:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur"}}],reviewAssignments:[{...Lo,due:"2025-12-05",responseDue:"2017-01-01",status:"The reviewer has missed the response due date.",statusId:pkp.const.REVIEW_ASSIGNMENT_STATUS_RESPONSE_OVERDUE}],stages:Ho.stages.map((t=>t.id===pkp.const.WORKFLOW_STAGE_ID_SUBMISSION?{...t,isActiveStage:!1}:t.id===pkp.const.WORKFLOW_STAGE_ID_EXTERNAL_REVIEW?{...t,isActiveStage:!0,status:"A review is overdue.",statusId:pkp.const.REVIEW_ROUND_STATUS_REVIEWS_OVERDUE}:t)),urlAuthorWorkflow:Ho.urlAuthorWorkflow.replace("1","9"),urlEditorialWorkflow:Ho.urlEditorialWorkflow.replace("1","9"),urlPublished:Ho.urlPublished.replace("1","9"),urlWorkflow:Ho.urlWorkflow.replace("1","9")},{...Ho,id:10,currentPublicationId:87,publications:[{...Ho.publications[0],id:87,authors:[],authorsString:"",authorsStringShort:"",fullTitle:{en:"Submission title when current user has completed a review"}}],reviewAssignments:[{...Lo,due:"2025-12-05",responseDue:"2017-01-01",isCurrentUserAssigned:!0,status:"This review has been completed.",statusId:pkp.const.REVIEW_ASSIGNMENT_STATUS_COMPLETE}],stages:Ho.stages.map((t=>t.id===pkp.const.WORKFLOW_STAGE_ID_SUBMISSION?{...t,isActiveStage:!1}:t.id===pkp.const.WORKFLOW_STAGE_ID_EXTERNAL_REVIEW?{...t,isActiveStage:!0,status:"A new review has been submitted.",statusId:pkp.const.REVIEW_ROUND_STATUS_REVIEWS_READY}:t)),urlAuthorWorkflow:Ho.urlAuthorWorkflow.replace("1","10"),urlEditorialWorkflow:Ho.urlEditorialWorkflow.replace("1","10"),urlPublished:Ho.urlPublished.replace("1","10"),urlWorkflow:Ho.urlWorkflow.replace("1","10")}],Go={extends:ho,components:{CatalogListPanel:xo},data(){const t=(t,e)=>Math.floor(Math.random()*(e-t)+t);let e=Zo.map(((e,n)=>{const i=n%2?1:2,s=t(1,3);return e.series={id:"1",position:"1",title:""},e.category=[{id:i,image:{},parent_id:0,path:"example",press_id:1,seq:1e4}],e.featured=[{assoc_id:i,assoc_type:pkp.const.ASSOC_TYPE_CATEGORY,seq:0},{assoc_id:s,assoc_type:pkp.const.ASSOC_TYPE_SERIES,seq:0}],e.newRelease=3===n?[{assoc_id:s,assoc_type:pkp.const.ASSOC_TYPE_SERIES}]:[],e.urlPublished="/catalog/book/1",e}));return{addEntryForm:{method:"PUT",action:"/example/default",errors:{},fields:[{name:"submissionIds",component:"field-select-submissions",label:"Find Submission",isRequired:!0,selected:[],value:[],groupId:"default"}],groups:[{id:"default",pageId:"default"}],pages:[{id:"default",submitButton:{label:"Add Entry",isPrimary:!0}}],primaryLocale:"en",visibleLocales:["en"],supportedFormLocales:[{key:"en",label:"English"}],isSaving:!1},filters:[{heading:"Categories",filters:[{title:"Example Category",param:"categoryIds",value:1,sortBy:"",sortDir:""},{title:"Another Category",param:"categoryIds",value:2,sortBy:"",sortDir:""}]},{heading:"Series",filters:[{title:"Library & Information Studies",param:"seriesIds",value:1,sortBy:"seriesPosition",sortDir:"DESC"},{title:"Political Economy",param:"seriesIds",value:2,sortBy:"",sortDir:"ASC"},{title:"History",param:"seriesIds",value:3,sortBy:"seriesIds",sortDir:""}]}],items:[...e],itemsMax:e.length}},created(){pkp.localeKeys["submission.catalogEntry.new"]="Add Entry",pkp.localeKeys["submission.list.saveFeatureOrder"]="Save Order",pkp.localeKeys["submission.list.orderFeatures"]="Order Features",pkp.localeKeys["catalog.manage.categoryFeatured"]="Featured in category",pkp.localeKeys["catalog.manage.seriesFeatured"]="Featured in series",pkp.localeKeys["catalog.manage.featured"]="Featured",pkp.localeKeys["catalog.manage.feature.categoryNewRelease"]="New release in category",pkp.localeKeys["catalog.manage.feature.seriesNewRelease"]="New release in series",pkp.localeKeys["catalog.manage.feature.newRelease"]="New Release",pkp.localeKeys["submission.list.orderingFeatures"]="Drag-and-drop or tap the up and down buttons to change the order of features on the homepage.",pkp.localeKeys["submission.list.orderingFeaturesSection"]="Drag-and-drop or tap the up and down buttons to change the order of features in {$title}.",pkp.localeKeys["catalog.manage.isFeatured"]="This monograph is featured. Make this monograph not featured.",pkp.localeKeys["catalog.manage.isNotFeatured"]="This monograph is not featured. Make this monograph featured.",pkp.localeKeys["catalog.manage.isNewRelease"]="This monograph is a new release. Make this monograph not a new release.",pkp.localeKeys["catalog.manage.isNotNewRelease"]="This monograph is not a new release. Make this monograph a new release.",pkp.localeKeys["submission.list.viewEntry"]="View Entry",pkp.localeKeys["submission.list.viewSubmission"]="View Submission"}},Yo=Go,Jo=(0,T.Z)(Yo,Fl,xl,!1,null,null,null),Xo=Jo.exports,Qo="<template>\n\t<catalog-list-panel\n\t\t:addEntryForm=\"addEntryForm\"\n\t\tapiUrl=\"http://httpbin.org/get\"\n\t\tcatalogSortBy=\"datePublished\"\n\t\t:catalogSortDir=\"1\"\n\t\tcsrfToken=\"1234\"\n\t\t:filters=\"filters\"\n\t\tid=\"previewCatalogListPanel\"\n\t\tinfoUrl=\"http://httbin.org/get\"\n\t\t:items=\"items\"\n\t\t:itemsMax=\"itemsMax\"\n\t\ttitle=\"Catalog\"\n\t/>\n</template>\n\n<script>\nimport Page from '@/components/Container/Page.vue';\nimport CatalogListPanel from '@/components/ListPanel/submissions/CatalogListPanel.vue';\nimport submissions from '@/docs/data/submissions';\n\nexport default {\n\textends: Page,\n\tcomponents: {\n\t\tCatalogListPanel,\n\t},\n\tdata() {\n\t\tconst getRandomInt = (min, max) => {\n\t\t\treturn Math.floor(Math.random() * (max - min) + min);\n\t\t};\n\n\t\tlet items = submissions.map((item, i) => {\n\t\t\tconst categoryId = i % 2 ? 1 : 2;\n\t\t\tconst seriesId = getRandomInt(1, 3);\n\t\t\titem.series = {\n\t\t\t\tid: '1',\n\t\t\t\tposition: '1',\n\t\t\t\ttitle: '',\n\t\t\t};\n\t\t\titem.category = [\n\t\t\t\t{\n\t\t\t\t\tid: categoryId,\n\t\t\t\t\timage: {},\n\t\t\t\t\tparent_id: 0,\n\t\t\t\t\tpath: 'example',\n\t\t\t\t\tpress_id: 1,\n\t\t\t\t\tseq: 10000,\n\t\t\t\t},\n\t\t\t];\n\t\t\titem.featured = [\n\t\t\t\t{\n\t\t\t\t\tassoc_id: categoryId,\n\t\t\t\t\tassoc_type: pkp.const.ASSOC_TYPE_CATEGORY,\n\t\t\t\t\tseq: 0,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tassoc_id: seriesId,\n\t\t\t\t\tassoc_type: pkp.const.ASSOC_TYPE_SERIES,\n\t\t\t\t\tseq: 0,\n\t\t\t\t},\n\t\t\t];\n\t\t\tif (i === 3) {\n\t\t\t\titem.newRelease = [\n\t\t\t\t\t{\n\t\t\t\t\t\tassoc_id: seriesId,\n\t\t\t\t\t\tassoc_type: pkp.const.ASSOC_TYPE_SERIES,\n\t\t\t\t\t},\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\titem.newRelease = [];\n\t\t\t}\n\t\t\titem.urlPublished = '/catalog/book/1';\n\n\t\t\treturn item;\n\t\t});\n\n\t\treturn {\n\t\t\taddEntryForm: {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\taction: '/example/default',\n\t\t\t\terrors: {},\n\t\t\t\tfields: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'submissionIds',\n\t\t\t\t\t\tcomponent: 'field-select-submissions',\n\t\t\t\t\t\tlabel: 'Find Submission',\n\t\t\t\t\t\tisRequired: true,\n\t\t\t\t\t\tselected: [],\n\t\t\t\t\t\tvalue: [],\n\t\t\t\t\t\tgroupId: 'default',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tgroups: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'default',\n\t\t\t\t\t\tpageId: 'default',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tpages: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'default',\n\t\t\t\t\t\tsubmitButton: {\n\t\t\t\t\t\t\tlabel: 'Add Entry',\n\t\t\t\t\t\t\tisPrimary: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tprimaryLocale: 'en',\n\t\t\t\tvisibleLocales: ['en'],\n\t\t\t\tsupportedFormLocales: [\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'en',\n\t\t\t\t\t\tlabel: 'English',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tisSaving: false,\n\t\t\t},\n\t\t\tfilters: [\n\t\t\t\t{\n\t\t\t\t\theading: 'Categories',\n\t\t\t\t\tfilters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Example Category',\n\t\t\t\t\t\t\tparam: 'categoryIds',\n\t\t\t\t\t\t\tvalue: 1,\n\t\t\t\t\t\t\tsortBy: '',\n\t\t\t\t\t\t\tsortDir: '',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Another Category',\n\t\t\t\t\t\t\tparam: 'categoryIds',\n\t\t\t\t\t\t\tvalue: 2,\n\t\t\t\t\t\t\tsortBy: '',\n\t\t\t\t\t\t\tsortDir: '',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\theading: 'Series',\n\t\t\t\t\tfilters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Library & Information Studies',\n\t\t\t\t\t\t\tparam: 'seriesIds',\n\t\t\t\t\t\t\tvalue: 1,\n\t\t\t\t\t\t\tsortBy: 'seriesPosition',\n\t\t\t\t\t\t\tsortDir: 'DESC',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Political Economy',\n\t\t\t\t\t\t\tparam: 'seriesIds',\n\t\t\t\t\t\t\tvalue: 2,\n\t\t\t\t\t\t\tsortBy: '',\n\t\t\t\t\t\t\tsortDir: 'ASC',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'History',\n\t\t\t\t\t\t\tparam: 'seriesIds',\n\t\t\t\t\t\t\tvalue: 3,\n\t\t\t\t\t\t\tsortBy: 'seriesIds',\n\t\t\t\t\t\t\tsortDir: '',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t],\n\t\t\titems: [...items],\n\t\t\titemsMax: items.length,\n\t\t};\n\t},\n\tcreated() {\n\t\t/**\n\t\t * Add required locale keys\n\t\t */\n\t\tpkp.localeKeys['submission.catalogEntry.new'] = 'Add Entry';\n\t\tpkp.localeKeys['submission.list.saveFeatureOrder'] = 'Save Order';\n\t\tpkp.localeKeys['submission.list.orderFeatures'] = 'Order Features';\n\t\tpkp.localeKeys['catalog.manage.categoryFeatured'] = 'Featured in category';\n\t\tpkp.localeKeys['catalog.manage.seriesFeatured'] = 'Featured in series';\n\t\tpkp.localeKeys['catalog.manage.featured'] = 'Featured';\n\t\tpkp.localeKeys['catalog.manage.feature.categoryNewRelease'] =\n\t\t\t'New release in category';\n\t\tpkp.localeKeys['catalog.manage.feature.seriesNewRelease'] =\n\t\t\t'New release in series';\n\t\tpkp.localeKeys['catalog.manage.feature.newRelease'] = 'New Release';\n\t\tpkp.localeKeys['submission.list.orderingFeatures'] =\n\t\t\t'Drag-and-drop or tap the up and down buttons to change the order of features on the homepage.';\n\t\tpkp.localeKeys['submission.list.orderingFeaturesSection'] =\n\t\t\t'Drag-and-drop or tap the up and down buttons to change the order of features in {$title}.';\n\t\tpkp.localeKeys['catalog.manage.isFeatured'] =\n\t\t\t'This monograph is featured. Make this monograph not featured.';\n\t\tpkp.localeKeys['catalog.manage.isNotFeatured'] =\n\t\t\t'This monograph is not featured. Make this monograph featured.';\n\t\tpkp.localeKeys['catalog.manage.isNewRelease'] =\n\t\t\t'This monograph is a new release. Make this monograph not a new release.';\n\t\tpkp.localeKeys['catalog.manage.isNotNewRelease'] =\n\t\t\t'This monograph is not a new release. Make this monograph a new release.';\n\t\tpkp.localeKeys['submission.list.viewEntry'] = 'View Entry';\n\t\tpkp.localeKeys['submission.list.viewSubmission'] = 'View Submission';\n\t},\n};\n<\/script>\n",td={extends:H,data(){return{name:"CatalogListPanel",examples:[{component:Xo,name:"Base",template:this.extractTemplate(Qo)}]}}},ed=td,nd=(0,T.Z)(ed,Io,Do,!1,null,null,null),id=nd.exports,sd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewChart"},[e("line-chart",{attrs:{chartData:t.chartData,chartOptions:t.chartOptions}})],1)},ad=[],ld=n(56663),rd={extends:ld.x1,mixins:[ld.tA.reactiveProp],props:{chartData:{type:Object,required:!0},chartOptions:{type:Object,default(){return{}}}},computed:{options(){return{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:32,bottom:8,left:32,right:64}},legend:{display:!1},elements:{point:{borderWidth:0,backgroundColor:"#D00A6C"},line:{tension:.2,borderWidth:2,borderColor:"#D00A6C",backgroundColor:"transparent"}},scales:{xAxes:[{gridLines:{color:"transparent",zeroLineColor:"transparent"},ticks:{fontColor:"rgba(255,255,255,0.85)",fontFamily:'"Noto Sans", "Noto Kufi Arabic", -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen-Sans", "Ubuntu", "Cantarell", "Helvetica Neue", sans-serif',fontStyle:700,padding:8,maxTicksLimit:5,maxRotation:0,minRotation:0}}],yAxes:[{gridLines:{color:"#006798",borderDash:[1,10],zeroLineColor:"#006798",drawBorder:!1},ticks:{fontColor:"rgba(255,255,255,0.85)"}}]},...this.chartOptions}}},mounted(){this.renderChart(this.chartData,this.options)}},od=rd,dd=(0,T.Z)(od,Eo,Ro,!1,null,null,null),pd=dd.exports,cd={components:{LineChart:pd},data(){return{chartData:{labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Total Views",data:[40,20,12,39,-10,40,39,80,40,20,12,11]}]},chartOptions:{}}}},ud=cd,md=(0,T.Z)(ud,sd,ad,!1,null,null,null),hd=md.exports,bd="<template>\n\t<div class=\"previewChart\">\n\t\t<line-chart :chartData=\"chartData\" :chartOptions=\"chartOptions\" />\n\t</div>\n</template>\n\n<script>\nimport LineChart from '@/components/Chart/LineChart.vue';\n\nexport default {\n\tcomponents: {\n\t\tLineChart,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tchartData: {\n\t\t\t\tlabels: [\n\t\t\t\t\t'January',\n\t\t\t\t\t'February',\n\t\t\t\t\t'March',\n\t\t\t\t\t'April',\n\t\t\t\t\t'May',\n\t\t\t\t\t'June',\n\t\t\t\t\t'July',\n\t\t\t\t\t'August',\n\t\t\t\t\t'September',\n\t\t\t\t\t'October',\n\t\t\t\t\t'November',\n\t\t\t\t\t'December',\n\t\t\t\t],\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Total Views',\n\t\t\t\t\t\tdata: [40, 20, 12, 39, -10, 40, 39, 80, 40, 20, 12, 11],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\tchartOptions: {},\n\t\t};\n\t},\n};\n<\/script>\n",fd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewChart"},[e("doughnut-chart",{attrs:{chartData:t.chartData}})],1)},gd=[],vd={extends:ld.$I,mixins:[ld.tA.reactiveProp],props:{chartData:{type:Object,required:!0},chartOptions:{type:Object,default:function(){return{}}}},computed:{options:function(){return{responsive:!0,maintainAspectRatio:!1,cutoutPercentage:80,layout:{padding:{top:32,bottom:32,left:32,right:32}},legend:{display:!1},elements:{arc:{borderWidth:0}},...this.chartOptions}}},mounted:function(){this.renderChart(this.chartData,this.options)}},_d=vd,yd=(0,T.Z)(_d,Bo,Uo,!1,null,null,null),kd=yd.exports,wd={components:{DoughnutChart:kd},data(){return{chartData:{labels:["Submission","Review","Copyediting","Production"],datasets:[{data:[12,27,4,8],backgroundColor:["#d00a0a","#e05c14","#006798","#00b28d"]}]}}}},Sd=wd,Td=(0,T.Z)(Sd,fd,gd,!1,null,null,null),Fd=Td.exports,xd="<template>\n\t<div class=\"previewChart\">\n\t\t<doughnut-chart :chartData=\"chartData\" />\n\t</div>\n</template>\n\n<script>\nimport DoughnutChart from '@/components/Chart/DoughnutChart.vue';\n\nexport default {\n\tcomponents: {\n\t\tDoughnutChart,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tchartData: {\n\t\t\t\tlabels: ['Submission', 'Review', 'Copyediting', 'Production'],\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: [12, 27, 4, 8],\n\t\t\t\t\t\tbackgroundColor: ['#d00a0a', '#e05c14', '#006798', '#00b28d'],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",Pd="## Props\n\n| Key | Description |\n| --- | --- |\n| `chartData` | An object representing the data to be charted. This object corresponds to the `data` property in [this example](https://www.chartjs.org/docs/latest/#creating-a-chart) in the Chart.js docs. |\n| `chartOptions` | Optional. An object representing the configuration options for the chart. Options passed with this prop will be merged with defaults.<br><br>This object corresponds to the `options` property in [this example](https://www.chartjs.org/docs/latest/getting-started/usage.html#creating-a-chart) in the Chart.js docs. There are many [configuration options](https://www.chartjs.org/docs/latest/). |\n\n## Events\n\nThis component does not emit any events.\n\n## Usage\n\nChart components extend the [vue-chartjs](https://github.com/apertureless/vue-chartjs) component. You can [create additional chart types](https://github.com/apertureless/vue-chartjs#how-to-use).\n",Ld={extends:H,data(){return{name:"Chart",readme:Pd,examples:[{component:hd,name:"Base",template:this.extractTemplate(bd)},{component:Fd,name:"Doughnut",template:this.extractTemplate(xd)}]}}},Cd=Ld,Ad=(0,T.Z)(Cd,Oo,Mo,!1,null,null,null),Id=Ad.exports,Dd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewComposer"},[e("composer",{attrs:{addCCLabel:"Add CC/BCC",attachedFilesLabel:"Attached Files:",attachers:t.attachers,attachFilesLabel:"Attach Files",attachments:t.attachments,bcc:t.bcc,bccLabel:"BCC:",body:t.body,bodyLabel:"Message",canChangeRecipients:!1,cc:t.cc,ccLabel:"CC:",confirmSwitchLocaleLabel:"Are you sure you want to change to {$localeName} to compose this email? Any changes you have made to the subject and body of the email will be lost.",deselectLabel:"Deselect",emailTemplates:t.emailTemplates,emailTemplatesApiUrl:t.emailTemplatesApiUrl,findTemplateLabel:"Find Template",initialTemplateKey:t.initialTemplateKey,insertLabel:"Insert",insertModalLabel:"Insert Content",insertContentLabel:"Content",insertSearchLabel:"Find content to insert",loadTemplateLabel:"Email Templates",locale:t.locale,locales:t.locales,moreSearchResultsLabel:"{$number} more",removeItemLabel:"Remove {$item}",searchingLabel:"Searching",searchResultsLabel:"Search Results",subject:t.subject,subjectLabel:"Subject:",switchToLabel:"Switch To:",switchToNamedLanguageLabel:"Switch to {$name}",to:t.to,recipientsLabel:"To:",recipientOptions:t.recipientOptions,recipients:t.recipientOptions.map((t=>t.value)),variables:t.variables},on:{set:t.composerChanged}},[e("template",{slot:"description"},[e("h2",[t._v("Notify Authors")]),e("p",[t._v(" Send an email to the authors to let them know that their submission has been accepted for publication. ")])])],2)],1)},Ed=[],Rd=function(){var t=this,e=t._self._c;return e("panel",{staticClass:"composer"},[e("panel-section",[e("template",{slot:"header"},[t._t("description"),t.emailTemplates.length||t.emailTemplatesApiUrl?e("div",{staticClass:"composer__templates"},[e("div",{staticClass:"composer__templates__heading"},[t._v(" "+t._s(t.loadTemplateLabel)+" ")]),t.emailTemplatesApiUrl?e("search",{staticClass:"composer__templates__search",attrs:{searchLabel:t.findTemplateLabel,searchPhrase:t.searchPhrase},on:{"search-phrase-changed":t=>this.searchPhrase=t}}):t._e(),e("ul",{staticClass:"composer__templates__list",attrs:{"aria-live":"true","aria-label":t.searchResultsLabel}},[t.searchPhrase?[t._l(t.limitedSearchResults,(function(n){return e("li",{key:n.key},[e("button",{staticClass:"composer__template",on:{click:function(e){return t.loadTemplate(n.key)}}},[e("div",{staticClass:"composer__template__name -linkButton"},[t._v(" "+t._s(t.localize(n.name))+" ")]),t.localize(n.body)?e("div",{staticClass:"composer__template__body"},[t._v(" "+t._s(t.getBodySnippet(t.localize(n.body)))+" ")]):t._e()])])})),t.searchResults.length>t.showSearchResultCount?e("li",[e("button",{staticClass:"-linkButton composer__templates__moreSearchResults",on:{click:function(e){t.showSearchResultCount=t.searchResults.length}}},[e("icon",{attrs:{icon:"plus-circle",inline:!0}}),t._v(" "+t._s(t.moreSearchResultsLabel.replace("{$number}",t.searchResults.length-t.showSearchResultCount))+" ")],1)]):t._e()]:t._l(t.emailTemplates,(function(n){return e("li",{key:n.key},[e("button",{staticClass:"composer__template",on:{click:function(e){return t.loadTemplate(n.key)}}},[e("div",{staticClass:"composer__template__name -linkButton"},[t._v(" "+t._s(t.localize(n.name))+" ")]),t.localize(n.body)?e("div",{staticClass:"composer__template__body"},[t._v(" "+t._s(t.getBodySnippet(t.localize(n.body)))+" ")]):t._e()])])}))],2),t.isSearching?e("div",{staticClass:"composer__templates__searching",attrs:{role:"alert"}},[e("spinner"),t._v(" "+t._s(t.searchingLabel)+" ")],1):t._e(),t.otherLocales.length?e("div",{staticClass:"composer__locales"},[t._v(" "+t._s(t.switchToLabel)+" "),t._l(t.otherLocales,(function(n,i){return[t.locale!==n.locale?e("button",{key:n.locale,staticClass:"-linkButton",on:{click:function(e){return t.openSwitchLocale(n.locale)}}},[t._v(" "+t._s(n.name)+" ")]):t._e(),i<t.otherLocales.length-1?[t._v(" "+t._s(t.__("common.commaListSeparator"))+" ")]:t._e()]}))],2):t._e()],1):t._e()],2),e("div",{staticClass:"composer__message"},[e("div",{staticClass:"composer__recipients__wrapper"},[e("field-autosuggest-preset",{staticClass:"composer__recipients",attrs:{name:"to",label:t.recipientsLabel,isLabelInline:!0,deselectLabel:t.deselectLabel,"all-errors":t.errors,groupId:"composer",formId:t.id,selectedLabel:t.recipientsLabel,options:t.localizedRecipientOptions,selected:t.recipientsSelected,value:t.recipients,"is-disabled":!t.canChangeRecipients},on:{change:t.changeRecipients}}),t.ccIsEnabled?t._e():e("button",{ref:"ccButtons",staticClass:"composer__ccToggle -linkButton",on:{click:t.enableCC}},[t._v(" "+t._s(t.addCCLabel)+" ")])],1),t.ccIsEnabled?e("div",{staticClass:"composer__text",class:{"composer__text--focus":"cc"===t.isFocused},on:{click:function(e){return t.setFocusToRef("cc")}}},[e("label",{attrs:{for:t.id+"-cc"}},[t._v(t._s(t.ccLabel))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ccBinded,expression:"ccBinded"}],attrs:{type:"text",name:"cc",id:t.id+"-cc","aria-described-by":t.errors.cc?t.id+"-cc-error":"","aria-invalid":!!t.errors.cc},domProps:{value:t.ccBinded},on:{focus:()=>this.isFocused="cc",blur:()=>this.isFocused="",input:function(e){e.target.composing||(t.ccBinded=e.target.value)}}})]):t._e(),t.errors.cc?e("field-error",{attrs:{id:t.id+"-cc-error",messages:t.errors.cc}}):t._e(),t.ccIsEnabled?e("div",{staticClass:"composer__text",class:{"composer__text--focus":"bcc"===t.isFocused},on:{click:function(e){return t.setFocusToRef("bcc")}}},[e("label",{attrs:{for:t.id+"-bcc"}},[t._v(t._s(t.bccLabel))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.bccBinded,expression:"bccBinded"}],attrs:{type:"text",name:"bcc",id:t.id+"-bcc","aria-described-by":t.errors.bcc?t.id+"-bcc-error":"","aria-invalid":!!t.errors.bcc},domProps:{value:t.bccBinded},on:{focus:()=>this.isFocused="bcc",blur:()=>this.isFocused="",input:function(e){e.target.composing||(t.bccBinded=e.target.value)}}})]):t._e(),t.errors.bcc?e("field-error",{attrs:{id:t.id+"-bcc-error",messages:t.errors.bcc}}):t._e(),e("div",{staticClass:"composer__text",class:{"composer__text--focus":"subject"===t.isFocused},on:{click:function(e){return t.setFocusToRef("subject")}}},[e("label",{attrs:{for:t.id+"-subject"}},[t._v(t._s(t.subjectLabel))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.subjectBinded,expression:"subjectBinded"}],attrs:{type:"text",name:"subject",id:t.id+"-subject","aria-described-by":t.errors.subject?t.id+"-subject-error":"","aria-invalid":!!t.errors.subject},domProps:{value:t.subjectBinded},on:{focus:()=>this.isFocused="subject",blur:()=>this.isFocused="",input:function(e){e.target.composing||(t.subjectBinded=e.target.value)}}})]),t.errors.subject?e("field-error",{attrs:{id:t.id+"-subject-error",messages:t.errors.subject}}):t._e(),e("field-prepared-content",{staticClass:"composer__body",attrs:{name:"body",label:t.bodyLabel,groupId:"message",primaryLocale:"en","all-errors":t.errors,init:t.bodyInit,formId:t.id,plugins:"link",size:"large",toolbar:"bold italic superscript subscript | link",value:t.body,preparedContent:t.compiledVariables,insertLabel:t.insertLabel,insertModalLabel:t.insertModalLabel,preparedContentLabel:t.insertContentLabel,searchLabel:t.insertSearchLabel},on:{change:(t,e,n)=>this.emitChange({body:n})}},[t.attachments.length?e("div",{ref:"attachedFiles",staticClass:"composer__attachments",attrs:{slot:"footer"},slot:"footer"},[e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.attachedFilesLabel)+" ")]),t._l(t.attachments,(function(n,i){return e("badge",{key:i,staticClass:"composer__attachment"},[e("icon",{staticClass:"composer__attachment__documentType",attrs:{icon:t.getDocumentTypeIcon(n),inline:!0}}),t._v(" "+t._s(n.name)+" "),e("button",{staticClass:"composer__attachment__remove",on:{click:function(e){return t.removeAttachment(i)}}},[e("icon",{attrs:{icon:"times"}}),e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.removeItemLabel.replace("{$item}",n.name))+" ")])],1)],1)}))],2):t._e()]),e("modal",{attrs:{closeLabel:t.__("common.close"),name:t.fileAttacherModalId,title:t.attachFilesLabel},on:{closed:t.resetFocusAfterAttachment}},[e("file-attacher",{attrs:{attachers:t.attachers},on:{"attached:files":t.addAttachments}})],1),t.errors.attachments?e("field-error",{attrs:{id:t.id+"-attachments-error",messages:t.errors.attachments}}):t._e(),t.isLoadingTemplate?e("div",{staticClass:"composer__loadingTemplateMask",attrs:{role:"alert"}},[e("spinner"),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.__("common.loading")))])],1):t._e()],1)],2)],1)},Bd=[],Ud=function(){var t=this,e=t._self._c;return e("div",{staticClass:"fileAttacher"},[t._l(t.attachers,(function(n,i){return e("action-panel",{key:i,attrs:{id:"attacher"+i}},[e("h2",[t._v(t._s(n.label))]),e("p",{domProps:{innerHTML:t._s(n.description)}}),e("template",{slot:"actions"},[e("pkp-button",{attrs:{"aria-describedby":"attacher"+i},on:{click:function(e){return t.setAttacher(n)}}},[t._v(" "+t._s(n.button)+" ")])],1)],2)})),e("modal",{attrs:{closeLabel:t.__("common.close"),name:"attacher",title:t.currentAttacher?t.currentAttacher.label:""},on:{closed:t.resetFocus}},[t.currentAttacher?e(t.currentAttacher.component,t._b({tag:"component",on:{"selected:files":t.attachFiles,cancel:t.cancel}},"component",t.currentAttacher,!1)):t._e()],1)],2)},Od=[],Md=function(){var t=this,e=t._self._c;return e("div",{staticClass:"fileAttacherFileStage",attrs:{"aria-live":"polite"}},[e("list-panel",{attrs:{items:t.files,isLoading:t.isLoading},scopedSlots:t._u([{key:"item",fn:function({item:n}){return[e("select-submission-file-list-item",{attrs:{documentType:n.documentType,downloadLabel:t.downloadLabel,genreName:t.localize(n.genreName),genreIsPrimary:!n.genreIsDependent&&!n.genreIsSupplementary,fileId:n.id,name:t.localize(n.name),url:n.url}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"checkbox"},domProps:{value:n.id,checked:Array.isArray(t.selected)?t._i(t.selected,n.id)>-1:t.selected},on:{change:function(e){var i=t.selected,s=e.target,a=!!s.checked;if(Array.isArray(i)){var l=n.id,r=t._i(i,l);s.checked?r<0&&(t.selected=i.concat([l])):r>-1&&(t.selected=i.slice(0,r).concat(i.slice(r+1)))}else t.selected=a}}})])]}}])},[e("pkp-header",{attrs:{slot:"header"},slot:"header"},[e("h2",[t._v(t._s(t.currentFileStage.label))]),e("template",{slot:"actions"},[t.fileStages.length>1?e("dropdown",{attrs:{label:"Other Files"}},[e("ul",t._l(t.fileStages,(function(n){return e("li",{key:n.label},[e("button",{staticClass:"pkpDropdown__action",on:{click:function(e){t.currentFileStage=n}}},[t._v(" "+t._s(n.label)+" ")])])})),0)]):t._e()],1)],2),t.isLoading?e("div",{attrs:{slot:"itemsEmpty"},slot:"itemsEmpty"},[e("spinner"),t._v(" "+t._s(t.__("common.loading"))+" ")],1):t._e()],1),e("button-row",{staticClass:"fileAttacher__footer"},[e("template",{slot:"end"},[e("pkp-button",{attrs:{"is-link":!0},on:{click:function(e){return t.$emit("cancel")}}},[e("icon",{attrs:{icon:"long-arrow-left",inline:!0}}),t._v(" "+t._s(t.backLabel)+" ")],1)],1),e("pkp-button",{attrs:{isDisabled:!t.selected.length},on:{click:function(e){return t.$emit("selected:files",t.selectedFiles)}}},[t._v(" "+t._s(t.attachSelectedLabel)+" ")])],2)],1)},$d=[],Nd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"selectSubmissionFileListItem"},[e("label",{staticClass:"selectSubmissionFileListItem__label"},[e("div",{staticClass:"selectSubmissionFileListItem__selector"},[t._t("default")],2),e("file",{staticClass:"selectSubmissionFileListItem__file",attrs:{documentType:t.documentType,fileId:t.fileId,id:t.describedById,name:t.name}})],1),t.uploadedDetails||t.genreName||t.url?e("div",{staticClass:"listPanel__itemActions"},[t.uploadedDetails?e("span",[t._v(" "+t._s(t.uploadedDetails)+" ")]):t._e(),t.genreName?e("badge",{attrs:{"is-primary":t.genreIsPrimary}},[t._v(" "+t._s(t.genreName)+" ")]):t._e(),t.url?e("pkp-button",{staticClass:"selectSubmissionFileListItem__download",attrs:{element:"a",href:t.url,target:"_blank",rel:"noopener noreferrer","aria-describedby":t.describedById}},[e("icon",{attrs:{icon:"download"}}),e("span",{staticClass:"-screenReader"},[t._v(t._s(t.downloadLabel))])],1):t._e()],1):t._e()])},jd=[],qd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"file"},[e("icon",{staticClass:"file__documentType",attrs:{icon:t.documentTypeIcon,inline:!0}}),t.fileId?e("span",{staticClass:"file__id"},[t._v(" "+t._s(t.fileId)+" ")]):t._e(),t._v(" "+t._s(t.name)+" ")],1)},Wd=[],Vd={props:{documentType:{type:String,default(){return""}},fileId:{type:Number,default(){return 0}},name:{type:String,required:!0}},computed:{documentTypeIcon(){return pkp.documentTypeIcons&&pkp.documentTypeIcons[this.documentType]?pkp.documentTypeIcons[this.documentType]:"file-o"}}},Kd=Vd,zd=(0,T.Z)(Kd,qd,Wd,!1,null,null,null),Hd=zd.exports,Zd={components:{File:Hd},props:{createdAt:{type:String,default(){return""}},documentType:{type:String,default(){return""}},downloadLabel:{type:String,required:!0},genreName:{type:String,default(){return""}},genreIsPrimary:{type:Boolean,default(){return!1}},fileId:{type:Number,default(){return 0}},name:{type:String,required:!0},uploadedBy:{type:String,default(){return""}},url:{type:String,default(){return""}}},data(){return{describedById:""}},computed:{uploadedDetails(){return this.uploadedBy?this.createdAt?this.__("common.uploadedByAndWhen",{name:this.uploadedBy,date:this.createdAt.substring(0,10)}):this.__("common.uploaded"):""}},created(){this.describedById=$.pkp.classes.Helper.uuid()}},Gd=Zd,Yd=(0,T.Z)(Gd,Nd,jd,!1,null,null,null),Jd=Yd.exports,Xd={name:"FileAttacherFileStage",mixins:[Dn],components:{ButtonRow:me,Dropdown:po,ListPanel:Kt,PkpHeader:jt,SelectSubmissionFileListItem:Jd},props:{attachSelectedLabel:{type:String,required:!0},backLabel:{type:String,required:!0},component:{type:String,required:!0},downloadLabel:{type:String,required:!0},fileStages:{type:Array,required:!0},submissionFilesApiUrl:{type:String,required:!0}},data(){return{currentFileStage:{},isLoading:!1,files:[],selected:[]}},computed:{selectedFiles(){return this.files.filter((t=>this.selected.includes(t.id)))}},methods:{getFiles(){let t=this;this.isLoading=!0,this.files=[],$.ajax({url:this.submissionFilesApiUrl,type:"GET",data:this.currentFileStage.queryParams,success(e){t.files=e.items},error:this.ajaxErrorCallback,complete(e){t.isLoading=!1}})}},watch:{currentFileStage(t,e){this.getFiles()}},created(){this.currentFileStage=this.fileStages[0]}},Qd=Xd,tp=(0,T.Z)(Qd,Md,$d,!1,null,null,null),ep=tp.exports,np=function(){var t=this,e=t._self._c;return e("div",{staticClass:"fileAttacherLibrary",attrs:{"aria-live":"polite"}},[t.files.length?e("div",t._l(t.files,(function(n,i){return e("select-submission-file-list-item",{key:i,attrs:{documentType:n.documentType,downloadLabel:t.downloadLabel,genreName:n.typeName,fileId:n.id,name:t.localize(n.name),url:n.url}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"checkbox"},domProps:{value:n.id,checked:Array.isArray(t.selected)?t._i(t.selected,n.id)>-1:t.selected},on:{change:function(e){var i=t.selected,s=e.target,a=!!s.checked;if(Array.isArray(i)){var l=n.id,r=t._i(i,l);s.checked?r<0&&(t.selected=i.concat([l])):r>-1&&(t.selected=i.slice(0,r).concat(i.slice(r+1)))}else t.selected=a}}})])})),1):e("div",{staticClass:"fileAttacherLibrary__message"},[t.isLoading?e("div",[e("spinner"),t._v(" "+t._s(t.__("common.loading"))+" ")],1):e("div",[t._v(" "+t._s(t.__("common.noItemsFound"))+" ")])]),e("button-row",{staticClass:"fileAttacher__footer"},[e("template",{slot:"end"},[e("pkp-button",{attrs:{"is-link":!0},on:{click:function(e){return t.$emit("cancel")}}},[e("icon",{attrs:{icon:"long-arrow-left",inline:!0}}),t._v(" "+t._s(t.backLabel)+" ")],1)],1),e("pkp-button",{attrs:{isDisabled:!t.selected.length},on:{click:function(e){return t.$emit("selected:files",t.selectedFiles)}}},[t._v(" "+t._s(t.attachSelectedLabel)+" ")])],2)],1)},ip=[],sp={name:"FileAttacherLibrary",mixins:[Dn],components:{ButtonRow:me,SelectSubmissionFileListItem:Jd},props:{attachSelectedLabel:{type:String,required:!0},backLabel:{type:String,required:!0},component:{type:String,required:!0},downloadLabel:{type:String,required:!0},includeSubmissionId:{type:Number,default(){return-1}},libraryApiUrl:{type:String,required:!0}},data(){return{isLoading:!1,files:[],selected:[]}},computed:{selectedFiles(){return this.files.filter((t=>this.selected.includes(t.id)))}},methods:{getFiles(){let t=this;this.isLoading=!0,this.files=[],$.ajax({url:this.libraryApiUrl,type:"GET",data:this.includeSubmissionId?{includeSubmissionId:this.includeSubmissionId}:{},success(e){t.files=e.items},error:this.ajaxErrorCallback,complete(e){t.isLoading=!1}})}},watch:{selected(t,e){this.$emit("selected",t)}},created(){this.getFiles()}},ap=sp,lp=(0,T.Z)(ap,np,ip,!1,null,null,null),rp=lp.exports,op=function(){var t=this,e=t._self._c;return e("div",{staticClass:"fileAttacherReviewFiles"},[t.files.length?t._l(t.files,(function(n,i){return e("select-submission-file-list-item",{key:i,attrs:{documentType:n.documentType,downloadLabel:t.downloadLabel,genreName:n.typeName,fileId:n.id,name:n.reviewerName+" — "+t.localize(n.name),url:n.url}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"checkbox"},domProps:{value:n.id,checked:Array.isArray(t.selected)?t._i(t.selected,n.id)>-1:t.selected},on:{change:function(e){var i=t.selected,s=e.target,a=!!s.checked;if(Array.isArray(i)){var l=n.id,r=t._i(i,l);s.checked?r<0&&(t.selected=i.concat([l])):r>-1&&(t.selected=i.slice(0,r).concat(i.slice(r+1)))}else t.selected=a}}})])})):e("div",{staticClass:"fileAttacherReviewFiles__noFiles"},[t._v(" "+t._s(t.__("common.noItemsFound"))+" ")]),e("button-row",{staticClass:"fileAttacher__footer"},[e("template",{slot:"end"},[e("pkp-button",{attrs:{"is-link":!0},on:{click:function(e){return t.$emit("cancel")}}},[e("icon",{attrs:{icon:"long-arrow-left",inline:!0}}),t._v(" "+t._s(t.backLabel)+" ")],1)],1),e("pkp-button",{attrs:{isDisabled:!t.selected.length},on:{click:function(e){return t.$emit("selected:files",t.selectedFiles)}}},[t._v(" "+t._s(t.attachSelectedLabel)+" ")])],2)],2)},dp=[],pp={name:"FileAttacherReviewFiles",components:{ButtonRow:me,SelectSubmissionFileListItem:Jd},props:{attachSelectedLabel:{type:String,required:!0},backLabel:{type:String,required:!0},component:{type:String,required:!0},downloadLabel:{type:String,required:!0},files:{type:Array,required:!0}},data(){return{selected:[]}},computed:{selectedFiles(){return this.files.filter((t=>this.selected.includes(t.id)))}}},cp=pp,up=(0,T.Z)(cp,op,dp,!1,null,null,null),mp=up.exports,hp=function(){var t=this,e=t._self._c;return e("div",{staticClass:"fileAttacherUpload"},[e("div",{staticClass:"fileAttacherUpload__wrapper"},[t.files.length?e("div",{staticClass:"fileAttacherUpload__files"},[t._l(t.files,(function(n,i){return["progress"in n?[e("file-upload-progress",{key:i,attrs:{cancelUploadLabel:"Cancel Upload",errors:n.errors,name:n.name,progress:n.progress},on:{cancel:function(e){return t.removeFile(i)}}})]:e("div",{key:i,staticClass:"fileAttacherUploader__uploadedFile"},[e("file",{attrs:{id:"FileAttacherUpload__UploadedFile__"+i,name:n.form?n.form.name:n.name,documentType:n.documentType||"default"}}),e("pkp-button",{staticClass:"fileAttacherUploader__uploadedFile__remove",attrs:{"aria-describedby":"FileAttacherUpload__UploadedFile__"+i,isWarnable:!0},on:{click:function(e){return t.removeFile(i)}}},[e("span",{staticClass:"aria-hidden"},[t._v(t._s(t.__("common.remove")))]),e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.removeItemLabel.replace("{$item}",n.form?n.form.name:n.name))+" ")])])],1)]}))],2):e("div",{staticClass:"fileAttacherUpload__prompt"},[e("p",[t._v(" "+t._s(t.dragAndDropMessage)+" "),e("button",{staticClass:"-linkButton",on:{click:t.selectFile}},[t._v(" "+t._s(t.dragAndDropOrUploadMessage)+" ")])])]),e("file-uploader",{ref:"uploader",attrs:{apiUrl:t.temporaryFilesApiUrl,files:t.files,id:"previewFileUploader",options:t.dropzoneOptions,uploadProgressLabel:"Uploading {$percent}% complete"},on:{"updated:files":t.updateFiles}})],1),e("button-row",{staticClass:"fileAttacher__footer"},[e("template",{slot:"end"},[e("pkp-button",{attrs:{"is-link":!0},on:{click:function(e){return t.$emit("cancel")}}},[e("icon",{attrs:{icon:"long-arrow-left",inline:!0}}),t._v(" "+t._s(t.backLabel)+" ")],1)],1),e("pkp-button",{on:{click:t.selectFile}},[t._v(" "+t._s(t.addFilesLabel)+" ")]),e("pkp-button",{attrs:{isPrimary:!0,isDisabled:!t.files.length||t.isUploading},on:{click:function(e){return t.$emit("selected:files",t.files)}}},[t._v(" "+t._s(t.attachFilesLabel)+" ")])],2)],1)},bp=[],fp=function(){var t=this,e=t._self._c;return e("div",{staticClass:"fileUploader",class:{"-isDragging":t.isDragging},attrs:{id:t.id}},[e("vue-dropzone",{ref:"dropzone",attrs:{id:t.dropzoneId,options:t.dropzoneOptions},on:{"vdropzone-error":t.dropzoneError,"vdropzone-files-added":t.dropzoneFilesAdded,"vdropzone-removed-file":t.dropzoneRemovedFile,"vdropzone-success":t.dropzoneSuccess,"vdropzone-upload-progress":t.dropzoneUploadProgress,"vdropzone-total-upload-progress":t.dropzoneTotalUploadProgress,"vdropzone-drop":t.drop}}),t.status?e("span",{staticClass:"-screenReader",attrs:{role:"status"}},[t._v(" "+t._s(t.status)+" ")]):t._e()],1)},gp=[],vp={components:{VueDropzone:Os()},props:{apiUrl:{type:String,required:!0},filenameLocale:{type:String,default(){return""}},files:{type:Array,required:!0},id:{type:String,required:!0},options:{type:Object,default(){return{}}},queryParams:{type:Object,default(){return{}}},uploadProgressLabel:{type:String,required:!0}},data(){return{dragEventCounter:0,isDragging:!1,status:""}},computed:{dropzoneId(){return this.id+"dropzone"},dropzoneOptions(){return{method:"POST",url:this.apiUrl,thumbnailWidth:240,hiddenInputContainer:"#"+this.id,addRemoveLinks:!0,previewTemplate:"<p></p>",headers:{"X-Csrf-Token":pkp.currentUser.csrfToken},params:(t,e)=>{const n=this.filenameLocale?"name["+this.filenameLocale+"]":"name";return{...this.queryParams,[n]:t[0].name}},...this.options}}},methods:{cancelUpload(t){const e=this.$refs.dropzone.dropzone.files.find((e=>e.upload.uuid===t));e&&this.$refs.dropzone.removeFile(e)},dragenter(t){this.dragEventCounter=this.dragEventCounter+1,this.isDragging=t.dataTransfer.types.includes("Files")},dragleave(t){this.dragEventCounter=this.dragEventCounter-1,this.isDragging=this.dragEventCounter>0},drop(t){t.preventDefault(),"drop"===t.type&&(this.isDragging=!1,this.dragEventCounter=0)},dropzoneError(t,e){let n=[];"string"===typeof e?n=[e]:"undefined"!==typeof e.errorMessage?n=[e.errorMessage]:"object"===typeof e&&null!==e&&(n=Object.keys(e).map((t=>e[t])).flat()),this.$nextTick((()=>{this.$nextTick((()=>{this.$nextTick((()=>{const e=this.files.map((e=>(e.id===t.upload.uuid&&(e.errors=n),e)));this.$emit("updated:files",e)}))}))}))},dropzoneFilesAdded(t){this.$nextTick((()=>{const e=Array.from(t).map((t=>({id:t.upload.uuid,name:t.upload.filename,progress:t.upload.progress,errors:[]})));this.$emit("updated:files",this.files.concat(e))}))},dropzoneRemovedFile(t){const e=this.files.filter((e=>!e.id||e.id!==t.upload.uuid));this.$emit("updated:files",e)},dropzoneSuccess(t,e){const n=this.files.map((n=>n.id===t.upload.uuid?e:n));this.$emit("updated:files",n)},dropzoneTotalUploadProgress(t){this.status=this.uploadProgressLabel.replace("{$percent}",t.toFixed(0))},dropzoneUploadProgress(t,e){const n=this.files.map((n=>(n.id===t.upload.uuid&&(n.progress=e),n)));this.$emit("set",this.id,n)},openFileBrowser(){this.$refs.dropzone.dropzone.hiddenFileInput.click()}},mounted(){document.addEventListener("dragenter",this.dragenter,!0),document.addEventListener("dragleave",this.dragleave,!0),document.addEventListener("dragover",this.drop,!0),document.addEventListener("drop",this.drop)},destroyed(){document.removeEventListener("dragenter",this.dragenter,!0),document.removeEventListener("dragleave",this.dragleave,!0),document.removeEventListener("dragover",this.drop,!0),document.removeEventListener("drop",this.drop)}},_p=vp,yp=(0,T.Z)(_p,fp,gp,!1,null,null,null),kp=yp.exports,wp=function(){var t=this,e=t._self._c;return e("div",{staticClass:"fileUploadProgress"},[e("div",{staticClass:"fileUploadProgress__row"},[e("div",{staticClass:"fileUploadProgress__name",attrs:{id:t.uuid}},[t._v(" "+t._s(t.name)+" ")]),e("div",{staticClass:"fileUploadProgress__actions"},[e("pkp-button",{attrs:{"is-warnable":!0,"aria-describedby":t.uuid},on:{click:function(e){return t.$emit("cancel")}}},[t._v(" "+t._s(t.cancelUploadLabel)+" ")])],1)]),t.errors.length?e("field-error",{attrs:{messages:t.errors}}):e("progress-bar",{attrs:{value:t.progress}})],1)},Sp=[],Tp=function(){var t=this,e=t._self._c;return e("div",{staticClass:"progressBar"},[e("div",{staticClass:"progressBar__progress",style:{width:t.progress+"%"},attrs:{"aria-valuenow":t.value,"aria-valuemin":t.min,"aria-valuemax":t.max,role:"progressbar"}})])},Fp=[],xp={props:{max:{type:Number,default(){return 100}},min:{type:Number,default(){return 0}},value:{type:Number,required:!0}},computed:{progress(){return(this.value/this.max*100).toFixed(0)}}},Pp=xp,Lp=(0,T.Z)(Pp,Tp,Fp,!1,null,null,null),Cp=Lp.exports,Ap={components:{FieldError:Ie,ProgressBar:Cp},props:{cancelUploadLabel:{type:String,required:!0},errors:{type:Array,required:!0},name:{type:String,required:!0},progress:{type:Number,required:!0}},data(){return{uuid:""}},created(){this.uuid=$.pkp.classes.Helper.uuid()}},Ip=Ap,Dp=(0,T.Z)(Ip,wp,Sp,!1,null,null,null),Ep=Dp.exports,Rp={name:"FileAttacherUpload",components:{ButtonRow:me,File:Hd,FileUploader:kp,FileUploadProgress:Ep},props:{addFilesLabel:{type:String,required:!0},attachFilesLabel:{type:String,required:!0},backLabel:{type:String,required:!0},component:{type:String,required:!0},dragAndDropMessage:{type:String,required:!0},dragAndDropOrUploadMessage:{type:String,required:!0},dropzoneOptions:{type:Object,required:!0},removeItemLabel:{type:String,required:!0},temporaryFilesApiUrl:{type:String,required:!0}},data(){return{files:[]}},computed:{isUploading(){return this.files.filter((t=>"progress"in t===!0)).length>1}},methods:{removeFile(t){this.files=this.files.filter(((e,n)=>n!==t))},selectFile(){this.$refs.uploader.openFileBrowser()},updateFiles(t){this.files=[...t]}}},Bp=Rp,Up=(0,T.Z)(Bp,hp,bp,!1,null,null,null),Op=Up.exports,Mp={name:"FileAttacher",components:{ActionPanel:tt,FileAttacherFileStage:ep,FileAttacherLibrary:rp,FileAttacherReviewFiles:mp,FileAttacherUpload:Op,Modal:ot},props:{attachers:{type:Array,required:!0}},data(){return{currentAttacher:null,resetFocusTo:null}},methods:{attachFiles(t){this.$emit("attached:files",this.currentAttacher.component,t),this.$modal.hide("attacher")},cancel(){this.$modal.hide("attacher"),this.$nextTick((()=>this.currentAttacher=null))},resetFocus(){this.resetFocusTo&&this.resetFocusTo.focus()},setAttacher(t){this.currentAttacher=t,this.resetFocusTo=document.activeElement,this.$modal.show("attacher")}}},$p=Mp,Np=(0,T.Z)($p,Ud,Od,!1,null,null,null),jp=Np.exports,qp={name:"Composer",mixins:[Dn,mt,ji],components:{FieldAutosuggestPreset:Vn,FieldError:Ie,FieldPreparedContent:Ki,FileAttacher:jp,Modal:ot,Search:Ui},props:{addCCLabel:{type:String,required:!0},attachers:{type:Array,default(){return[]}},attachments:{type:Array,default(){return[]}},attachFilesLabel:{type:String,required:!0},attachedFilesLabel:{type:String,required:!0},bcc:{type:String,default(){return""}},bccLabel:{type:String,required:!0},body:{type:String,default(){return""}},bodyLabel:{type:String,required:!0},canChangeRecipients:{type:Boolean,default(){return!0}},cc:{type:String,default(){return""}},ccLabel:{type:String,required:!0},confirmSwitchLocaleLabel:{type:String,required:!0},deselectLabel:{type:String,required:!0},emailTemplates:{type:Array,default(){return[]}},emailTemplatesApiUrl:{type:String,default(){return""}},errors:{type:Object,default(){return{}}},findTemplateLabel:{type:String,required:!0},id:{type:String,default(){return"composer"}},initialTemplateKey:{type:String,default(){return""}},insertLabel:{type:String,required:!0},insertModalLabel:{type:String,required:!0},insertContentLabel:{type:String,required:!0},insertSearchLabel:{type:String,default(){return""}},loadTemplateLabel:{type:String,required:!0},locale:{type:String,required:!0},locales:{type:Array,default(){return[]}},moreSearchResultsLabel:{type:String,required:!0},recipients:{type:Array,default(){return[]}},recipientsLabel:{type:String,required:!0},recipientOptions:{type:Array,required:!0},removeItemLabel:{type:String,required:!0},searchingLabel:{type:String,required:!0},searchResultsLabel:{type:String,required:!0},separateEmails:{type:Boolean,default(){return!1}},subject:{type:String,default(){return""}},subjectLabel:{type:String,required:!0},switchToLabel:{type:String,required:!0},switchToNamedLanguageLabel:{type:String,required:!0},variables:{type:Object,default(){return{}}}},data(){return{ccIsEnabled:!1,isFocused:"",isLoadingTemplate:!1,isSearching:!1,latestSearchRequest:"",searchPhrase:"",searchResults:[],showSearchResultCount:10}},computed:{bccBinded:{get(){return this.bcc},set(t){this.emitChange({bcc:t})}},bodyInit(){if(!this.attachers.length)return{};let t=this;return{setup:function(e){e.ui.registry.addButton("pkpAttachFiles",{icon:"upload",text:t.__("common.attachFiles"),onAction(){t.$modal.show(t.fileAttacherModalId)}}),e.settings.toolbar+=" | pkpAttachFiles"}}},ccBinded:{get(){return this.cc},set(t){this.emitChange({cc:t})}},compiledVariables(){const t=[...this.localizedVariables],e=t.find((t=>"recipientName"===t.key));return e?(this.separateEmails?e.value="{$recipientName}":this.canChangeRecipients&&(e.value=this.recipientVariable),t):t},fileAttacherModalId(){return this.id+"fileAttacher"},limitedSearchResults(){return this.searchResults.slice(0,this.showSearchResultCount)},localizedRecipientOptions(){const t=this.locale??$.pkp.app.currentLocale;return this.recipientOptions.map((e=>({value:e.value,label:e.label[t]})))},localizedVariables(){return this.variables[this.locale]?this.variables[this.locale]:[]},otherLocales(){return this.locales.filter((t=>t.locale!==this.locale))},recipientVariable(){let t=this.recipientsSelected.map((t=>t.label)).join(this.__("common.commaListSeparator"));return t||"{$recipientName}"},subjectBinded:{get(){return this.subject},set(t){this.emitChange({subject:t})}},recipientsSelected(){return this.localizedRecipientOptions.filter((t=>this.recipients.includes(t.value)))}},methods:{addAttachments(t,e){const n=[...this.attachments,...e.map((e=>{switch(t){case"FileAttacherUpload":return{name:e.name,temporaryFileId:e.id,documentType:e.documentType};case"FileAttacherFileStage":case"FileAttacherReviewFiles":{const t=this.localize(e.name,this.locale).trim();return{name:""===t?this.localize(e.name):t,submissionFileId:e.id,documentType:e.documentType}}case"FileAttacherLibrary":return{name:e.filename,libraryFileId:e.id,documentType:e.documentType}}}))];this.emitChange({attachments:n}),this.$modal.hide(this.fileAttacherModalId)},changeRecipients(t,e,n){"value"===e&&this.emitChange({recipients:n})},getDocumentTypeIcon(t){return pkp.documentTypeIcons&&t.documentType&&pkp.documentTypeIcons[t.documentType]?pkp.documentTypeIcons[t.documentType]:"file-o"},emitChange(t){this.$emit("set",this.id,t)},enableCC(){this.ccIsEnabled=!0,this.$nextTick((()=>{this.updateToPadding()}))},getBodySnippet(t){const e=70;let n=document.createElement("span");n.innerHTML=t;const i=n.textContent.trim();return i.length<e-3?i:i.substring(0,e).trim()+"..."},loadTemplate(t){this.isLoadingTemplate=!0;const e=this.emailTemplates.find((e=>e.key===t));if(e)return void setTimeout((()=>{this.setBody(e.body[this.locale]),this.setSubject(e.subject[this.locale]),this.isLoadingTemplate=!1}),1e3);this.latestLoadRequest=$.pkp.classes.Helper.uuid();const n=this;$.ajax({url:this.emailTemplatesApiUrl+"/"+t,type:"GET",_uuid:this.latestLoadRequest,error(t){n.latestLoadRequest===this._uuid&&n.ajaxErrorCallback(t)},success(t){n.latestLoadRequest===this._uuid&&(n.setBody(t.body[n.locale]),n.setSubject(t.subject[n.locale]))},complete(){n.latestLoadRequest===this._uuid&&(n.isLoadingTemplate=!1)}})},openSwitchLocale(t){const e=this.locales.find((e=>e.locale===t)).name;this.openDialog({name:"confirmLocaleSwitch",title:this.switchToNamedLanguageLabel.replace("{$name}",e),message:this.confirmSwitchLocaleLabel.replace("{$localeName}",e),actions:[{label:this.switchToNamedLanguageLabel.replace("{$name}",e),isPrimary:!0,callback:()=>{this.switchLocale(t),this.$modal.hide("confirmLocaleSwitch")}},{label:this.__("common.cancel"),isWarnable:!0,callback:()=>this.$modal.hide("confirmLocaleSwitch")}]})},removeAttachment(t){this.emitChange({attachments:this.attachments.filter(((e,n)=>n!==t))})},resetFocusAfterAttachment(){this.$nextTick((()=>{this.$refs.attachedFiles?this.$refs.attachedFiles.focus():this.setFocusIn(this.$el.querySelector(".composer__body"))}))},search(){if(this.emailTemplatesApiUrl)if(this.searchPhrase){this.isSearching=!0,this.latestSearchRequest=$.pkp.classes.Helper.uuid(),this.showSearchResultCount=10;var t=this;$.ajax({url:this.emailTemplatesApiUrl,type:"GET",data:{searchPhrase:this.searchPhrase},_uuid:this.latestSearchRequest,error:function(e){t.latestSearchRequest===this._uuid&&t.ajaxErrorCallback(e)},success:function(e){t.latestSearchRequest===this._uuid&&(t.searchResults=e.items)},complete(){t.latestSearchRequest===this._uuid&&(t.isSearching=!1)}})}else this.searchResults=[]},setBody(t){this.emitChange({body:t})},setSubject(t){this.emitChange({subject:this.renderPreparedContent(t,this.compiledVariables)})},switchLocale(t){this.emitChange({locale:t}),this.$nextTick((()=>this.loadTemplate(this.initialTemplateKey)))},updateToPadding(){const t=this.$el.querySelector(".pkpAutosuggest__inputWrapper"),e=this.$refs.ccButtons?this.$refs.ccButtons.offsetWidth+"px":"";$.pkp.app.rtlLocales.includes(this.locale)?t.style.paddingLeft=e:t.style.paddingRight=e;const n=t.querySelectorAll(".resize-sensor");[...n].forEach((t=>{t.style.width="1px",setTimeout((()=>t.style.width="auto"),1e3)}))}},created(){this.initialTemplateKey&&this.loadTemplate(this.initialTemplateKey)},mounted(){this.updateToPadding()},watch:{searchPhrase(){this.$nextTick((()=>this.search()))}}},Wp=qp,Vp=(0,T.Z)(Wp,Rd,Bd,!1,null,null,null),Kp=Vp.exports,zp={extends:Kp,methods:{search(){if(this.emailTemplatesApiUrl)if(this.searchPhrase){this.isSearching=!0,this.latestSearchRequest=$.pkp.classes.Helper.uuid();var t=this;setTimeout((()=>{t.searchResults=[{key:"EDITOR_DECISION_ACCEPT",subject:{en:"Editor Decision"}},{key:"EXAMPLE_ONE",subject:{en:"Example One"}},{key:"EXAMPLE_TWO",subject:{en:"Example Two"}}],t.isSearching=!1}),1e3)}else this.searchResults=[]}}},Hp=zp,Zp=(0,T.Z)(Hp,$o,No,!1,null,null,null),Gp=Zp.exports,Yp={_href:"http://localhost:8000/publicknowledge/api/v1/emailTemplates/EDITOR_DECISION_ACCEPT",body:{en:"<p>Dear {$senderName},</p>\n\t\t\t<p>I am delighted to inform you that your submission, {$submissionTitle}, has been accepted for publication. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>\n\t\t\t<p>Sincerely,</p>\n\t\t\t<p>{$senderName}<br>{$journalName}</p>",fr_CA:"<p>Chear {$senderName},</p>\n\t\t\t<p>J'ai le plaisir de vous informer que votre soumission, {$submissionTitle}, a été acceptée pour publication. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>\n\t\t\t<p>Sincèrement,</p>\n\t\t\t<p>{$senderName}<br>{$journalName}</p>"},contextId:null,id:null,key:"EDITOR_DECISION_ACCEPT",name:{en:"Accept for Publication"},stageId:3,subject:{en:"Your submission has been accepted for publication in {$journalName}",fr_CA:"Votre soumission a été acceptée pour publication dans {$journalName}"}},Jp={maxFilesize:2,url:"https://httpbin.org/post",dropzoneDictDefaultMessage:"Drop files here to upload",dropzoneDictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dropzoneDictFallbackText:"Please use the fallback form below to upload your files.",dropzoneDictFileTooBig:"File is too big ({{filesize}}mb). Files larger than {{maxFilesize}}mb can not be uploaded.",dropzoneDictInvalidFileType:"Files of this type can not be uploaded.",dropzoneDictResponseError:"Server responded with {{statusCode}} code. Please contact the system administrator if this problem persists.",dropzoneDictCancelUpload:"Cancel upload",dropzoneDictUploadCanceled:"Upload canceled",dropzoneDictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dropzoneDictRemoveFile:"Remove file",dropzoneDictMaxFilesExceeded:"You can not upload any more files."},Xp=[{component:"FileAttacherUpload",label:"Upload File",description:"Upload a file from your computer.",button:"Upload File",dropzoneOptions:{...Jp},temporaryFilesApiUrl:"http://example.org",addFilesLabel:"Add Files",attachFilesLabel:"Attach Files",backLabel:"Back",dragAndDropMessage:"Drag and drop files here.",dragAndDropOrUploadMessage:"Or upload a file",removeItemLabel:"Remove {$item}"},{component:"FileAttacherReviewFiles",label:"Review Files",description:"Attach files that were uploaded by reviewers.",button:"Attach Review File",attachSelectedLabel:"Attach Selected",backLabel:"Back",downloadLabel:"Download",files:[{id:142,name:{en:"jpk-review-document.docx"},documentType:"word",url:"http://example.org",reviewerName:"Adela Gallego"},{id:191,name:{en:"review-for-jpk.docx"},documentType:"word",url:"http://example.org",reviewerName:"Aisla McCrae"}]},{component:"FileAttacherFileStage",label:"Submission Files",description:"Attach files uploaded during the submission workflow, such as revisions or files to be reviewed.",button:"Attach Submission Files",submissionFilesApiUrl:"http://example.org",attachSelectedLabel:"Attach Selected",backLabel:"Back",downloadLabel:"Download",fileStages:[{label:"Revisions",queryParams:{fileStage:15,reviewRoundId:1}},{label:"Files for Review",queryParams:{fileStage:4,reviewRoundId:1}}]},{component:"FileAttacherLibrary",label:"Library Files",description:"Attach files from the Submission and Publisher Libraries.",button:"Attach Library Files",libraryApiUrl:"http://example.org",includeSubmissionId:15,attachSelectedLabel:"Attach Selected",backLabel:"Back",downloadLabel:"Download"}],Qp=[{key:"contactName",value:"Daniel Barnes",description:"The name of the primary journal contact"},{key:"contactEmail",value:"dbarnes@example.org",description:"The email of the primary journal contact"},{key:"journalName",value:"Journal of Public Knowledge",description:"The name of the journal"},{key:"journalUrl",value:"http://example.org/publicknowledge",description:"The URL of the journal"},{key:"principleContactSignature",value:"<p>Daniel Barnes<br>Editor, Public Knowledge Project</p>",description:"The journal's contact signature"},{key:"recipientName",value:"Carlo Corino",description:"The name of the recipient"},{key:"reviewerComments",value:"<p><strong>Reviewer 1:</strong><br>Recommendation: Accept<br></p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>",description:"The comments and recommendations from reviewers"},{key:"revisionsDueDate",value:"2021-03-21",description:"The date the revisions are due"},{key:"signature",value:"<p>Daniel Barnes<br>Editor, Public Knowledge Project</p>",description:"The name of the sender"},{key:"submissionTitle",value:"The influence of lactation on the quantity and quality of cashmere production",description:"The title of the submission"},{key:"submissionUrl",value:"http://example.org/publicknowledge/workflow/access/21",description:"The URL to the submission's editorial workflow"}],tc={components:{Composer:Gp},data(){const t=[Yp];t.push({...Yp,key:"ACCEPTED_CONDITIONAL",name:{en:"Accepted With Conditions"},subject:{en:"Accepted With Conditions"}}),t.push({...Yp,key:"ACCEPTED_EARLY_PUBLICATION",name:{en:"Accepted for Early Publication"},subject:{en:"Accepted for Early Publication"}});const e=[{value:2,label:{en:"Carlo Corino",fr_CA:"Carlo Fr Corino"}},{value:3,label:{en:"Daniel Barnes",fr_CA:"Daniel Fr Barnes"}},{value:4,label:{en:"Stephanie Minoue",fr_CA:"Stephanie Fr Minoue"}},{value:5,label:{en:"Paul Hudson",fr_CA:"Paul Fr Hudson"}}];return{attachers:[...Xp],attachments:[],bcc:"",body:"",cc:"",initialTemplateKey:"EDITOR_DECISION_ACCEPT",emailTemplates:t,emailTemplatesApiUrl:"http://localhost:8000/publicknowledge/api/v1/emailTemplates",locale:"en",locales:[{locale:"en",name:"English"},{locale:"fr_CA",name:"French"}],subject:"",to:[2,3],recipientOptions:e,recipients:e.map((t=>t.value)),variables:{en:[...Qp],fr_CA:[...Qp]}}},methods:{composerChanged(t,e){Object.keys(e).forEach((t=>{this[t]=e[t]}))}}},ec=tc,nc=(0,T.Z)(ec,Dd,Ed,!1,null,null,null),ic=nc.exports,sc='<template>\n\t<div class="previewComposer">\n\t\t<composer\n\t\t\taddCCLabel="Add CC/BCC"\n\t\t\tattachedFilesLabel="Attached Files:"\n\t\t\t:attachers="attachers"\n\t\t\tattachFilesLabel="Attach Files"\n\t\t\t:attachments="attachments"\n\t\t\t:bcc="bcc"\n\t\t\tbccLabel="BCC:"\n\t\t\t:body="body"\n\t\t\tbodyLabel="Message"\n\t\t\t:canChangeRecipients="false"\n\t\t\t:cc="cc"\n\t\t\tccLabel="CC:"\n\t\t\tconfirmSwitchLocaleLabel="Are you sure you want to change to {$localeName} to compose this email? Any changes you have made to the subject and body of the email will be lost."\n\t\t\tdeselectLabel="Deselect"\n\t\t\t:emailTemplates="emailTemplates"\n\t\t\t:emailTemplatesApiUrl="emailTemplatesApiUrl"\n\t\t\tfindTemplateLabel="Find Template"\n\t\t\t:initialTemplateKey="initialTemplateKey"\n\t\t\tinsertLabel="Insert"\n\t\t\tinsertModalLabel="Insert Content"\n\t\t\tinsertContentLabel="Content"\n\t\t\tinsertSearchLabel="Find content to insert"\n\t\t\tloadTemplateLabel="Email Templates"\n\t\t\t:locale="locale"\n\t\t\t:locales="locales"\n\t\t\tmoreSearchResultsLabel="{$number} more"\n\t\t\tremoveItemLabel="Remove {$item}"\n\t\t\tsearchingLabel="Searching"\n\t\t\tsearchResultsLabel="Search Results"\n\t\t\t:subject="subject"\n\t\t\tsubjectLabel="Subject:"\n\t\t\tswitchToLabel="Switch To:"\n\t\t\tswitchToNamedLanguageLabel="Switch to {$name}"\n\t\t\t:to="to"\n\t\t\trecipientsLabel="To:"\n\t\t\t:recipientOptions="recipientOptions"\n\t\t\t:recipients="recipientOptions.map((r) => r.value)"\n\t\t\t:variables="variables"\n\t\t\t@set="composerChanged"\n\t\t>\n\t\t\t<template slot="description">\n\t\t\t\t<h2>Notify Authors</h2>\n\t\t\t\t<p>\n\t\t\t\t\tSend an email to the authors to let them know that their submission\n\t\t\t\t\thas been accepted for publication.\n\t\t\t\t</p>\n\t\t\t</template>\n\t\t</composer>\n\t</div>\n</template>\n\n<script>\nimport Composer from \'./ExampleComposer.vue\';\nimport emailTemplate from \'@/docs/data/emailTemplate\';\nimport fileAttachers from \'@/docs/data/fileAttachers\';\nimport insertContent from \'../../../data/insertContent\';\n\nexport default {\n\tcomponents: {\n\t\tComposer,\n\t},\n\tdata() {\n\t\tconst emailTemplates = [emailTemplate];\n\t\temailTemplates.push({\n\t\t\t...emailTemplate,\n\t\t\tkey: \'ACCEPTED_CONDITIONAL\',\n\t\t\tname: {\n\t\t\t\ten: \'Accepted With Conditions\',\n\t\t\t},\n\t\t\tsubject: {\n\t\t\t\ten: \'Accepted With Conditions\',\n\t\t\t},\n\t\t});\n\t\temailTemplates.push({\n\t\t\t...emailTemplate,\n\t\t\tkey: \'ACCEPTED_EARLY_PUBLICATION\',\n\t\t\tname: {\n\t\t\t\ten: \'Accepted for Early Publication\',\n\t\t\t},\n\t\t\tsubject: {\n\t\t\t\ten: \'Accepted for Early Publication\',\n\t\t\t},\n\t\t});\n\t\tconst recipientOptions = [\n\t\t\t{\n\t\t\t\tvalue: 2,\n\t\t\t\tlabel: {\n\t\t\t\t\ten: \'Carlo Corino\',\n\t\t\t\t\tfr_CA: \'Carlo Fr Corino\',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: 3,\n\t\t\t\tlabel: {\n\t\t\t\t\ten: \'Daniel Barnes\',\n\t\t\t\t\tfr_CA: \'Daniel Fr Barnes\',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: 4,\n\t\t\t\tlabel: {\n\t\t\t\t\ten: \'Stephanie Minoue\',\n\t\t\t\t\tfr_CA: \'Stephanie Fr Minoue\',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: 5,\n\t\t\t\tlabel: {\n\t\t\t\t\ten: \'Paul Hudson\',\n\t\t\t\t\tfr_CA: \'Paul Fr Hudson\',\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\n\t\treturn {\n\t\t\tattachers: [...fileAttachers],\n\t\t\tattachments: [],\n\t\t\tbcc: \'\',\n\t\t\tbody: \'\',\n\t\t\tcc: \'\',\n\t\t\tinitialTemplateKey: \'EDITOR_DECISION_ACCEPT\',\n\t\t\temailTemplates: emailTemplates,\n\t\t\temailTemplatesApiUrl:\n\t\t\t\t\'http://localhost:8000/publicknowledge/api/v1/emailTemplates\',\n\t\t\tlocale: \'en\',\n\t\t\tlocales: [\n\t\t\t\t{\n\t\t\t\t\tlocale: \'en\',\n\t\t\t\t\tname: \'English\',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlocale: \'fr_CA\',\n\t\t\t\t\tname: \'French\',\n\t\t\t\t},\n\t\t\t],\n\t\t\tsubject: \'\',\n\t\t\tto: [2, 3],\n\t\t\trecipientOptions: recipientOptions,\n\t\t\trecipients: recipientOptions.map((r) => r.value),\n\t\t\tvariables: {\n\t\t\t\ten: [...insertContent],\n\t\t\t\tfr_CA: [...insertContent],\n\t\t\t},\n\t\t};\n\t},\n\tmethods: {\n\t\tcomposerChanged(id, data) {\n\t\t\tObject.keys(data).forEach((key) => {\n\t\t\t\tthis[key] = data[key];\n\t\t\t});\n\t\t},\n\t},\n};\n<\/script>\n',ac="## Props\n\n| Key | Description |\n| --- | --- |\n| `bcc` | A comma-separated list of email addresses for recipients that should be BCC'd in the email. |\n| `body` | The body of the email message. |\n| `canChangeRecipients` | Can the recipients be modified? Default: `false` |\n| `cc` | A comma-separated list of email addresses for recipients that should be CC'd in the email. |\n| `emailTemplates` | An array of `emailTemplate`s appropriate for this message. |\n| `emailTemplatesApiUrl` | The URL to the API endpoint to get `emailTemplate`s. |\n| `subject` | The subject of the email messsage. |\n| `to` | The recipients of this email. Expects an array of user IDs. |\n| `variables` | An object containing key/value pairs to convert placeholders like `{$recipientName}` with the appropriate values. |\n\n## Events\n\nThis is some text\n\n## Usage\n\nThis is some text.",lc={extends:H,data(){return{name:"Composer",readme:ac,examples:[{component:ic,name:"Base",template:this.extractTemplate(sc)}]}}},rc=lc,oc=(0,T.Z)(rc,jo,qo,!1,null,null,null),dc=oc.exports,pc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewDateRange"},[e("date-range",{attrs:{dateEnd:t.dateEnd,dateEndMax:"",dateStart:t.dateStart,dateStartMin:"",options:[{dateStart:"2018-10-18",dateEnd:"2019-01-18",label:"Last 90 days"},{dateStart:"2018-12-28",dateEnd:"2019-12-01",label:"Last 30 days"},{dateStart:"2018-01-01",dateEnd:"2018-12-31",label:"Last 12 months"},{dateStart:"",dateEnd:"",label:"All dates"}],uniqueId:"example-view-date-range",dateRangeLabel:"Date Range",dateFormatInstructionsLabel:"Enter each date in the format YYYY-MM-DD. For example, if you want the date for 15 January, 2019, enter 2019-01-15.",changeDateRangeLabel:"Change date range",sinceDateLabel:"Since {$date}",untilDateLabel:"Until {$date}",allDatesLabel:"All dates",customRangeLabel:"Custom Range",fromDateLabel:"From",toDateLabel:"To",applyLabel:"Apply",invalidDateLabel:"The date format is not valid. Enter each date in the format YYYY-MM-DD.",dateDoesNotExistLabel:"One of the dates entered does not exist.",invalidDateRangeLabel:"The start date must be before the end date.",invalidStartDateMinLabel:"The start date may not be earlier than {$date}.",invalidEndDateMaxLabel:"The end date may not be later than {$date}."},on:{"set-range":t.setRange}})],1)},cc=[],uc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpDateRange"},[e("span",{staticClass:"-screenReader"},[t._v(t._s(t.dateRangeLabel))]),e("span",{staticClass:"pkpDateRange__current",domProps:{innerHTML:t._s(t.currentRange)}}),e("button",{ref:"toggleButton",staticClass:"pkpDateRange__button",on:{click:t.toggle,blur:t.closeOnBlur}},[e("icon",{attrs:{icon:"calendar"}}),e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.changeDateRangeLabel)+" ")])],1),t.options&&this.isOpen?e("div",{staticClass:"pkpDateRange__options"},[e("div",{staticClass:"pkpDateRange__optionGroup"},t._l(t.options,(function(n){return e("div",{key:n.value},[e("button",{ref:n.value,refInFor:!0,staticClass:"pkpDateRange__option",on:{click:function(e){return t.selectOption(n.dateStart,n.dateEnd)}}},[t._v(" "+t._s(n.label)+" ")])])})),0),e("form",{staticClass:"pkpDateRange__optionGroup pkpDateRange__form",on:{submit:t.applyCustomRange}},[e("fieldset",{staticClass:"pkpDateRange__inputGroup"},[e("legend",[t._v(t._s(t.customRangeLabel))]),e("div",{staticClass:"-screenReader",attrs:{id:t.uniqueId+"-describedBy"}},[t._v(" "+t._s(t.dateFormatInstructionsLabel)+" ")]),e("label",[e("span",{staticClass:"-screenReader"},[t._v(t._s(t.fromDateLabel))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.localDateStart,expression:"localDateStart"}],ref:"dateStart",staticClass:"pkpDateRange__input pkpDateRange__input--start",attrs:{placeholder:"YYYY-MM-DD","aria-describedby":t.uniqueId+"-describedBy","aria-invalid":!!t.errorMessage},domProps:{value:t.localDateStart},on:{focus:t.focus,input:function(e){e.target.composing||(t.localDateStart=e.target.value)}}})]),e("span",{staticClass:"pkpDateRange__separator"},[t._v("—")]),e("label",[e("span",{staticClass:"-screenReader"},[t._v(t._s(t.toDateLabel))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.localDateEnd,expression:"localDateEnd"}],ref:"dateEnd",staticClass:"pkpDateRange__input pkpDateRange__input--end",attrs:{placeholder:"YYYY-MM-DD","aria-describedby":t.uniqueId+"-describedBy","aria-invalid":!!t.errorMessage},domProps:{value:t.localDateEnd},on:{focus:t.focus,input:function(e){e.target.composing||(t.localDateEnd=e.target.value)}}})])]),e("pkp-button",{on:{click:t.applyCustomRange}},[t._v(t._s(t.applyLabel))]),t.errorMessage?e("div",{staticClass:"pkpDateRange__error"},[e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}),e("span",{domProps:{innerHTML:t._s(t.errorMessage)}})],1):t._e()],1)]):t._e()])},mc=[],hc={props:{uniqueId:{type:String,required:!0},dateStart:{type:String,default:""},dateStartMin:{type:String,default:""},dateEnd:{type:String,default:""},dateEndMax:{type:String,default:""},dateRangeLabel:{type:String,required:!0},dateFormatInstructionsLabel:{type:String,required:!0},changeDateRangeLabel:{type:String,required:!0},sinceDateLabel:{type:String,required:!0},untilDateLabel:{type:String,required:!0},allDatesLabel:{type:String,required:!0},customRangeLabel:{type:String,required:!0},fromDateLabel:{type:String,required:!0},toDateLabel:{type:String,required:!0},applyLabel:{type:String,required:!0},invalidDateLabel:{type:String,required:!0},dateDoesNotExistLabel:{type:String,required:!0},invalidDateRangeLabel:{type:String,required:!0},invalidStartDateMinLabel:{type:String,required:!0},invalidEndDateMaxLabel:{type:String,required:!0},options:Array},data(){return{isOpen:!1,localDateStart:"",localDateEnd:"",errorMessage:""}},computed:{currentRange(){return this.dateStart&&!this.dateEnd?this.replaceLocaleParams(this.sinceDateLabel,{date:this.dateStart}):!this.dateStart&&this.dateEnd?this.replaceLocaleParams(this.untilDateLabel,{date:this.dateEnd}):this.dateStart||this.dateEnd?this.dateStart+" — "+this.dateEnd:this.allDatesLabel}},methods:{toggle(){this.isOpen=!this.isOpen},focus(){this.isOpen=!0},set(t,e){this.$emit("set-range",t,e)},selectOption(t,e){this.set(t,e),this.$refs.toggleButton.focus(),this.isOpen=!1},applyCustomRange(){if(this.errorMessage="",this.localDateStart.length){if(!this.validateFormat(this.localDateStart))return void(this.errorMessage=this.invalidDateLabel);if(!this.validateDateExists(this.localDateStart))return void(this.errorMessage=this.dateDoesNotExistLabel)}if(this.localDateEnd.length){if(!this.validateFormat(this.localDateEnd))return void(this.errorMessage=this.invalidDateLabel);if(!this.validateDateExists(this.localDateEnd))return void(this.errorMessage=this.dateDoesNotExistLabel)}this.validateRange(this.localDateStart,this.localDateEnd)?this.validateDateStartMin(this.localDateStart)?this.validateDateEndMax(this.localDateEnd)?(this.set(this.localDateStart,this.localDateEnd),this.$refs.toggleButton.focus(),this.isOpen=!1):this.errorMessage=this.replaceLocaleParams(this.invalidEndDateMaxLabel,{date:this.dateEndMax}):this.errorMessage=this.replaceLocaleParams(this.invalidStartDateMinLabel,{date:this.dateStartMin}):this.errorMessage=this.invalidDateRangeLabel},closeOnBlur(){setTimeout((()=>{if(this.$el.contains(document.activeElement))var t=setInterval((()=>{this.$el.contains(document.activeElement)||(this.isOpen=!1,window.clearInterval(t))}),1e3);else this.isOpen=!1}),10)},validateFormat(t){return null!==t.match(/^[\d]{4}-[\d]{2}-[\d]{2}$/)},validateDateExists(t){const e=this.getBrowserSafeDate(t);return!isNaN(e.getTime())},validateRange(t,e){if(!t.length||!e.length)return!0;const n=parseInt(t.replace(/-/g,"")),i=parseInt(e.replace(/-/g,""));return!(n>i)},validateDateStartMin(t){return!this.dateStartMin||parseInt(t.replace(/-/g,""))>=parseInt(this.dateStartMin.replace(/-/g,""))},validateDateEndMax(t){return!this.dateEndMax||parseInt(t.replace(/-/g,""))<=parseInt(this.dateEndMax.replace(/-/g,""))}},mounted(){this.localDateStart=this.dateStart,this.localDateEnd=this.dateEnd},watch:{currentRange(t,e){t!==e&&this.$emit("updated:current-range",t)}}},bc=hc,fc=(0,T.Z)(bc,uc,mc,!1,null,null,null),gc=fc.exports,vc={components:{DateRange:gc},data(){return{dateEnd:"2019-01-18",dateStart:"2018-10-18"}},methods:{setRange(t,e){this.dateStart=t,this.dateEnd=e}}},_c=vc,yc=(0,T.Z)(_c,pc,cc,!1,null,null,null),kc=yc.exports,wc='<template>\n\t<div class="previewDateRange">\n\t\t<date-range\n\t\t\t:dateEnd="dateEnd"\n\t\t\tdateEndMax=""\n\t\t\t:dateStart="dateStart"\n\t\t\tdateStartMin=""\n\t\t\t:options="[\n\t\t\t\t{\n\t\t\t\t\tdateStart: \'2018-10-18\',\n\t\t\t\t\tdateEnd: \'2019-01-18\',\n\t\t\t\t\tlabel: \'Last 90 days\',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdateStart: \'2018-12-28\',\n\t\t\t\t\tdateEnd: \'2019-12-01\',\n\t\t\t\t\tlabel: \'Last 30 days\',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdateStart: \'2018-01-01\',\n\t\t\t\t\tdateEnd: \'2018-12-31\',\n\t\t\t\t\tlabel: \'Last 12 months\',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdateStart: \'\',\n\t\t\t\t\tdateEnd: \'\',\n\t\t\t\t\tlabel: \'All dates\',\n\t\t\t\t},\n\t\t\t]"\n\t\t\tuniqueId="example-view-date-range"\n\t\t\tdateRangeLabel="Date Range"\n\t\t\tdateFormatInstructionsLabel="Enter each date in the format YYYY-MM-DD. For example, if you want the date for 15 January, 2019, enter 2019-01-15."\n\t\t\tchangeDateRangeLabel="Change date range"\n\t\t\tsinceDateLabel="Since {$date}"\n\t\t\tuntilDateLabel="Until {$date}"\n\t\t\tallDatesLabel="All dates"\n\t\t\tcustomRangeLabel="Custom Range"\n\t\t\tfromDateLabel="From"\n\t\t\ttoDateLabel="To"\n\t\t\tapplyLabel="Apply"\n\t\t\tinvalidDateLabel="The date format is not valid. Enter each date in the format YYYY-MM-DD."\n\t\t\tdateDoesNotExistLabel="One of the dates entered does not exist."\n\t\t\tinvalidDateRangeLabel="The start date must be before the end date."\n\t\t\tinvalidStartDateMinLabel="The start date may not be earlier than {$date}."\n\t\t\tinvalidEndDateMaxLabel="The end date may not be later than {$date}."\n\t\t\t@set-range="setRange"\n\t\t/>\n\t</div>\n</template>\n\n<script>\nimport DateRange from \'@/components/DateRange/DateRange.vue\';\n\nexport default {\n\tcomponents: {\n\t\tDateRange,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdateEnd: \'2019-01-18\',\n\t\t\tdateStart: \'2018-10-18\',\n\t\t};\n\t},\n\tmethods: {\n\t\tsetRange(dateStart, dateEnd) {\n\t\t\tthis.dateStart = dateStart;\n\t\t\tthis.dateEnd = dateEnd;\n\t\t},\n\t},\n};\n<\/script>\n',Sc="## Props\n\n| Key | Description |\n| --- | --- |\n| uniqueId | A unique string to be used in <code>id</code> attributes. These ids are used internally for accessible labeling of the date range fields. This string should be unique on the page where the component is rendered. |\n| dateEnd | The current end date value. Expects <code>YYYY-MM-DD</code>. |\n| dateEndMax | The latest allowed end date value. Expects <code>YYYY-MM-DD</code>. |\n| dateStart | The current start date value. Expects <code>YYYY-MM-DD</code>. |\n| dateStartMin | The earliest allowed start date value. <code>YYYY-MM-DD</code>. |\n| options | An array of quick options that the user can select instead of setting a custom range. |\n| dateRange | Localized label used in the component. |\n| dateFormatInstructions | Localized label used in the component. |\n| changeDateRange | Localized label used in the component. |\n| sinceDate | Localized label used in the component. |\n| untilDate | Localized label used in the component. |\n| allDates | Localized label used in the component. |\n| customRange | Localized label used in the component. |\n| fromDate | Localized label used in the component. |\n| toDate | Localized label used in the component. |\n| apply | Localized label used in the component. |\n| invalidDate | Localized label used in the component. |\n| dateDoesNotExist | Localized label used in the component. |\n| invalidDateRange | Localized label used in the component. |\n\n## Events\n\n| Key | Description |\n| --- | --- |\n| set-range | The start and end dates for the date range. |\n| updated:current-range | A concatenated string describing the date range. |\n\n## Usage\nUse the `DateRange` component when you need the user to select a start and end date.\n\nDo not use this component inside of a `<form>`. It contains its own `<form>` element and does not support accessible entry of values for screen readers when completing forms.\n",Tc={extends:H,data(){return{name:"DateRange",readme:Sc,examples:[{component:kc,name:"Base",template:this.extractTemplate(wc)}]}}},Fc=Tc,xc=(0,T.Z)(Fc,Wo,Vo,!1,null,null,null),Pc=xc.exports,Lc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app__page width width--wide"},[t._m(0),e("div",{staticClass:"app__page--decision"},[e("h1",{ref:"pageTitle",staticClass:"app__pageHeading"},[t._v("Accept Submission")]),e("p",{staticClass:"app__pageDescription"},[t._v(" This submission will be accepted for publication and sent for copyediting. ")]),t._l(t.errors,(function(n,i){return e("notification",{key:i,staticClass:"decision__error",attrs:{type:"warning",role:"alert"}},[t._v(" "+t._s(n)+" "),e("button",{staticClass:"-linkButton",on:{click:function(e){return t.openStep(i)}}},[t._v("View Error")])])})),e("steps",{attrs:{current:t.currentStep.id,"started-steps":t.startedSteps,label:"Complete the following steps to take this decision","progress-label":"{$current}/{$total} steps","scroll-to":t.$refs.pageTitle,"show-steps-label":"Show all steps"},on:{"step:open":t.openStep}},t._l(t.steps,(function(n){return e("step",{key:n.id,attrs:{id:n.id,label:n.name}},[e("panel",{staticClass:"decision__stepPanel"},[e("panel-section",{staticClass:"decision__stepHeader"},[e("h2",[t._v(t._s(n.name))]),e("p",[t._v(t._s(n.description))])]),"form"===n.type?[e("panel-section",[e("pkp-form",t._b({attrs:{errors:n.errors},on:{set:t.updateStep}},"pkp-form",n.form,!1))],1)]:"email"===n.type?[t.skippedSteps.includes(n.id)?e("panel-section",[e("notification",{attrs:{type:"warning"}},[t._v(" This email has been skipped. "),e("button",{staticClass:"-linkButton",attrs:{disabled:t.isSubmitting},on:{click:function(e){return t.toggleSkippedStep(n.id)}}},[t._v(" Don't skip email ")])])],1):e("panel-section",[e("composer",t._b({attrs:{addCCLabel:"Add CC/BCC",attachFilesLabel:"Attach Files",attachedFilesLabel:"Attached Files:",bccLabel:"BCC:",bodyLabel:"Message",ccLabel:"CC:",confirmSwitchLocaleLabel:"Are you sure you want to change to {$localeName} to compose this email? Any changes you have made to the subject and body of the email will be lost.",deselectLabel:"Deselect","email-templatesApiUrl":t.emailTemplatesApiUrl,findTemplateLabel:"Find Template",insertLabel:"Insert",insertModalLabel:"Insert Content",insertContentLabel:"Content",insertSearchLabel:"Find content to insert",loadTemplateLabel:"Email Templates",locale:n.locale,locales:n.locales,moreSearchResultsLabel:"{$number} more",removeItemLabel:"Remove {$item}",searchingLabel:"Searching",searchResultsLabel:"Search Results",subjectLabel:"Subject:",switchToLabel:"Switch To:",switchToNamedLanguageLabel:"Switch to {$name}",recipientsLabel:"To:"},on:{set:t.updateStep}},"composer",n,!1))],1)]:"promoteFiles"===n.type?[e("panel-section",t._l(n.lists,(function(i,s){return e("list-panel",{key:s,staticClass:"decision_filesList",attrs:{items:i.files,title:i.name},scopedSlots:t._u([{key:"item",fn:function({item:i}){return[e("select-submission-file-list-item",{attrs:{"document-type":i.documentType,"download-label":"Download",genreName:i.genreName?t.localize(i.genreName):"",genreIsPrimary:i.genreId&&!i.genreIsDependent&&!i.genreIsSupplementary,"file-id":i.id,name:t.localize(i.name),url:i.url}},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.selected,expression:"step.selected"}],attrs:{type:"checkbox",name:"promoteFile"+i.id},domProps:{value:i.id,checked:Array.isArray(n.selected)?t._i(n.selected,i.id)>-1:n.selected},on:{change:function(e){var s=n.selected,a=e.target,l=!!a.checked;if(Array.isArray(s)){var r=i.id,o=t._i(s,r);a.checked?o<0&&t.$set(n,"selected",s.concat([r])):o>-1&&t.$set(n,"selected",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(n,"selected",l)}}})])]}}],null,!0)})})),1)]:t._e()],2)],1)})),1),e("panel",{staticClass:"decision__footer__panel"},[e("panel-section",[e("span",{attrs:{slot:"header"},slot:"header"}),e("div",{staticClass:"decision__footer",class:{"decision__footer--noSteps":!t.steps.length}},["email"===t.currentStep.type&&t.currentStep.canSkip&&!t.skippedSteps.includes(t.currentStep.id)?e("button",{staticClass:"decision__skipStep -linkButton",attrs:{disabled:t.isSubmitting},on:{click:function(e){return t.toggleSkippedStep(t.currentStep.id)}}},[t._v(" Skip email ")]):t._e(),t.isSubmitting?e("spinner"):t._e(),e("pkp-button",{attrs:{disabled:t.isSubmitting,"is-warnable":!0},on:{click:t.cancel}},[t._v(" Cancel ")]),!t.isOnFirstStep&&t.steps.length>1?e("pkp-button",{attrs:{disabled:t.isSubmitting},on:{click:t.previousStep}},[t._v(" Previous ")]):t._e(),e("pkp-button",{attrs:{disabled:t.isSubmitting,"is-primary":t.isOnLastStep},on:{click:t.nextStep}},[t.isOnLastStep?[t._v("Record Decision")]:[t._v("Continue")]],2)],1)])],1)],2),e("div",{ref:"notifications",staticClass:"app__notifications",attrs:{"aria-live":"polite","aria-atomic":"true",role:"status"}},[e("transition-group",{attrs:{name:"app__notification"}},t._l(t.notifications,(function(n){return e("notification",{key:n.key,attrs:{type:n.type,"can-dismiss":!0},on:{dismiss:function(e){return t.dismissNotification(n.key)}}},[t._v(" "+t._s(n.message)+" ")])})),1)],1),e("transition",{attrs:{name:"app__loading"}},[t.isLoading?e("div",{staticClass:"app__loading",attrs:{role:"alert"}},[e("div",{staticClass:"app__loading__content"},[e("spinner"),t._v(" Loading ")],1)]):t._e()])],1)},Cc=[function(){var t=this,e=t._self._c;return e("nav",{staticClass:"app__breadcrumbs",attrs:{role:"navigation","aria-label":"You are here:"}},[e("ol",[e("li",[e("a",{attrs:{href:"#"}},[t._v("Submissions")]),e("span",{staticClass:"app__breadcrumbsSeparator",attrs:{"aria-hidden":"true"}},[t._v("/")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("Daniel, Towards Designing an Intercultural...")]),e("span",{staticClass:"app__breadcrumbsSeparator",attrs:{"aria-hidden":"true"}},[t._v("/")])]),e("li",[e("span",{attrs:{"aria-current":"page"}},[t._v("Accept Submission")])])])])}];const Ac={email:"email",form:"form",promoteFiles:"promoteFiles"};var Ic,Dc,Ec,Rc,Bc,Uc,Oc,Mc,$c,Nc,jc,qc,Wc,Vc,Kc,zc,Hc,Zc,Gc,Yc,Jc,Xc,Qc,tu,eu,nu,iu,su,au,lu,ru,ou,du,pu,cu,uu,mu,hu,bu,fu,gu,vu,_u,yu,ku,wu,Su,Tu,Fu,xu,Pu,Lu,Cu,Au,Iu,Du,Eu,Ru,Bu,Uu,Ou,Mu,$u,Nu,ju,qu,Wu,Vu,Ku,zu,Hu,Zu,Gu,Yu,Ju,Xu,Qu,tm,em,nm,im={extends:ho,mixins:[Dn,mt,Kr],components:{ButtonRow:me,Composer:Kp,ListPanel:Kt,PkpForm:aa,SelectSubmissionFileListItem:Jd,Tooltip:Ge},data(){return{abandonDecisionLabel:"",cancelConfirmationPrompt:"",currentStep:{},decision:0,decisionCompleteLabel:"",decisionCompleteDescription:"",emailTemplatesApiUrl:"",fileGenres:[],startedSteps:[],isSubmitting:!1,keepWorkingLabel:"",reviewRoundId:0,skippedSteps:[],stageId:0,steps:[],submissionUrl:"",submissionApiUrl:"",submissionListUrl:"",viewAllSubmissionsLabel:"",viewSubmissionLabel:""}},computed:{currentStepIndex(){return this.steps.findIndex((t=>t.id===this.currentStep.id))},errors(){return this.steps.filter((t=>Object.keys(t.errors).length||t.type===Ac.form&&Object.keys(t.form.errors).length)).reduce(((t,e)=>(t[e.id]=this.replaceLocaleParams(this.stepErrorMessage,{stepName:e.name}),t)),{})},isOnFirstStep(){return 0===this.currentStepIndex},isOnLastStep(){return this.currentStepIndex===this.steps.length-1}},methods:{cancel(){this.openDialog({name:"cancel",title:this.abandonDecisionLabel,message:this.cancelConfirmationPrompt,actions:[{label:this.abandonDecisionLabel,isWarnable:!0,callback:()=>{window.location=this.submissionUrl}},{label:this.keepWorkingLabel,callback:()=>this.$modal.hide("cancel")}]})},copyFile(t,e,n){$.ajax({url:this.submissionApiUrl+"/files/"+t+"/copy?"+$.param({stageId:this.stageId}),type:"POST",data:{toFileStage:e},headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"PUT"},error:this.ajaxErrorCallback,complete:n})},getFileGenre(t){return this.fileGenres.find((e=>e.id===t))},nextStep(){const t=1+this.currentStepIndex;this.steps.length<=t?this.submit():this.openStep(this.steps[t].id)},openCompletedDialog(){this.openDialog({name:"completed",title:this.decisionCompleteLabel,message:this.decisionCompleteDescription,actions:[{label:this.viewSubmissionLabel,element:"a",href:this.submissionUrl},{label:this.viewAllSubmissionsLabel,element:"a",href:this.submissionListUrl}],close:()=>{window.location=this.submissionUrl}})},openStep(t){this.startedSteps=[...new Set([...this.startedSteps,t])],this.currentStep=this.steps.find((e=>e.id===t))},previousStep(){const t=this.currentStepIndex-1;t>=0&&this.openStep(this.steps[t].id)},setStepErrors(t){this.steps.forEach(((e,n)=>{n in t!==!1&&(e.type===Ac.form?e.form.errors=t[n]:e.errors=t[n])}))},toggleSkippedStep(t){this.skippedSteps.includes(t)?this.skippedSteps=this.skippedSteps.filter((e=>e!==t)):(this.skippedSteps.push(t),this.steps=this.steps.map((e=>(e.id===t&&(e.errors={}),e))),this.steps.findIndex((e=>e.id===t))<this.steps.length-1&&this.nextStep())},submit(){this.isSubmitting=!0;let t=this;const e=this.steps.filter((t=>!this.skippedSteps.includes(t.id))),n={decision:this.decision,actions:e.filter((t=>[Ac.form,Ac.email].includes(t.type))).map((t=>{let e={id:t.id};if(t.type===Ac.form)return t.form.fields.forEach((t=>{e[t.name]=t.value})),e;if(t.type===Ac.email){const n=t.bcc.trim(),i=t.cc.trim();return{...e,attachments:t.attachments,bcc:n?n.split(","):[],cc:i?i.split(","):[],locale:t.locale,recipients:t.canChangeRecipients?t.recipients:[],subject:t.subject,body:t.body}}}))};this.reviewRoundId&&(n.reviewRoundId=this.reviewRoundId);const i=e.filter((t=>t.type===Ac.promoteFiles&&t.selected.length)).reduce(((t,e)=>(e.selected.forEach((n=>{t.push({id:n,toFileStage:e.to})})),t)),[]);$.ajax({url:this.submissionApiUrl+"/decisions",type:"POST",data:n,headers:{"X-Csrf-Token":pkp.currentUser.csrfToken},error(e){e.status&&400===e.status?e.responseJSON.decision?t.ajaxErrorCallback({responseJSON:{errorMessage:e.responseJSON.decision[0]}}):e.responseJSON.actions?t.setStepErrors(e.responseJSON.actions):t.ajaxErrorCallback(e):t.ajaxErrorCallback(e),t.isSubmitting=!1},success(){i.length||(t.isSubmitting=!1,t.openCompletedDialog());let e=0;const n=()=>{e++,e>=i.length&&(t.openCompletedDialog(),clearInterval(n))};i.forEach((e=>t.copyFile(e.id,e.toFileStage,n)))}})},updateStep(t,e){this.steps=this.steps.map((n=>{if(n.id!==t)return n;if(n.type===Ac.form){let t={...n.form.errors};return Object.keys(e).forEach((e=>delete t[e])),{...n,form:{...n.form,...e,errors:t}}}let i={...n.errors};return Object.keys(e).forEach((t=>delete i[t])),{...n,...e,errors:i}}))}},created(){this.steps.length&&(this.openStep(this.steps[0].id),this.steps=this.steps.map((t=>t.type!==Ac.email?t:{...t,attachments:[],subject:"",body:"",cc:"",bcc:"",recipients:t.recipientOptions.map((t=>t.value))})))}},sm=im,am=(0,T.Z)(sm,Ic,Dc,!1,null,null,null),lm=am.exports,rm=[{id:232,fileId:1232,name:{en:"influence-lactation-final-v2-edited-final.docx",fr_CA:"french-influence-lactation-final-v2-edited-final.docx"},genreId:1,genreName:{en:"Book Manuscript",fr_CA:"FR Book Manuscript"},genreIsDependent:!1,genreIsSupplementary:!1,documentType:"word",description:"",url:"https://example.com/publicknowledge/$$$call$$$/api/file/file-api/download-file?id=232&submissionId=22&stageId=2"},{id:233,fileId:1233,name:{en:"ccorino-disclosure-statement.docx",fr_CA:"french-ccorino-disclosure-statement.docx"},genreId:1,genreName:{en:"Other",fr_CA:"FR Other"},genreIsDependent:!1,genreIsSupplementary:!0,documentType:"word",description:"This document details the sources of funding we received to support this research.",url:"https://example.com/publicknowledge/$$$call$$$/api/file/file-api/download-file?id=233&submissionId=22&stageId=2"},{id:234,fileId:1234,name:{en:"influence-lactation-dataset-approved.xls",fr_CA:"french-influence-lactation-dataset-approved.xls"},genreId:1,genreName:{en:"Dataset",fr_CA:"FR Dataset"},genreIsDependent:!1,genreIsSupplementary:!0,documentType:"excel",description:"",url:"https://example.com/publicknowledge/$$$call$$$/api/file/file-api/download-file?id=234&submissionId=22&stageId=2"}],om={extends:lm,data(){return{currentStep:{},decision:1,emailTemplatesApiUrl:"http://localhost:8000/publicknowledge/api/v1/emailTemplates",stepErrorMessage:"There is a problem with the {$stepName} step.",startedSteps:[],isComplete:!1,isSubmitting:!1,reviewRoundId:2,skippedSteps:[],stageId:3,submissionApiUrl:"http://localhost:8000/publicknowledge/api/v1/submission/1",steps:[{id:"payment",type:"form",name:"Request Payment",description:"Ask the author to pay the Article Processing Charge (USD $150) now or waive the fee.",errors:{},form:{id:"requestPayment",method:"",action:"emit",fields:[{name:"payment",component:"field-options",label:"Article Processing Charge",value:[],type:"radio",options:[{value:!0,label:"Request payment from the author (USD $150)"},{value:!1,label:"Waive the fee"}],groupId:"default"}],groups:[{id:"default",pageId:"default"}],pages:[{id:"default"}],primaryLocale:"en",visibleLocales:["en"],supportedFormLocales:[],errors:{}}},{id:"notifyAuthors",type:"email",name:"Notify Authors",description:"Send an email to the authors to let them know that their submission has been accepted for publication.",errors:{},to:[31],recipientOptions:[{value:31,label:{en:"Rana Baiyewu",fr_CA:"Rana Fr Baiyewu"}}],canChangeRecipients:!1,canSkip:!0,defaultEmailTemplateKey:"EDITOR_DECISION_ACCEPT",emailTemplates:[{...Yp,name:{en:"Accept for Publication"},subject:{en:"Accept for Publication"}},{...Yp,key:"EDITOR_DECISION_ACCEPT_CONDITIONS",name:{en:"Accept with Conditions"},subject:{en:"Accept with Conditions"}},{...Yp,key:"EDITOR_DECISION_ACCEPT_EARLY",name:{en:"Accept for Early Publication"},subject:{en:"Accept for Early Publication"}}],emailTemplatesApiUrl:"http://example.org",variables:{en:[...Qp],fr_CA:[...Qp]},locale:"en",locales:[{locale:"en",name:"English"},{locale:"fr_CA",name:"French"}]},{id:"notifyReviewers",type:"email",name:"Notify Reviewers",description:"Send an email to the reviewers to thank them for their review and let them know that a decision was taken.",errors:{body:["This field is required."],subject:["This field is required."],to:["You can not send an email to the following recipients: Alan Mwandenga."]},recipientOptions:[{value:10,label:{en:"Adela Gallego",fr_CA:"Adela Gallego"}},{value:9,label:{en:"Aisla McCrae",fr_CA:"Aisla McCrae"}}],canChangeRecipients:!0,canSkip:!0,defaultEmailTemplateKey:"EDITOR_DECISION_THANK_REVIEWERS",emailTemplates:[{...Yp,key:"EDITOR_DECISION_THANK_REVIEWERS",subject:{en:"Thank Reviewer"}},{...Yp,key:"EDITOR_DECISION_THANK_REVIEWERS_REQUEST",subject:{en:"Thank Reviewer and Request Feedback"}}],emailTemplatesApiUrl:"http://example.org",variables:{en:[...Qp],fr_CA:[...Qp]},locale:"en",locales:[{locale:"en",name:"English"},{locale:"fr_CA",name:"French "}]},{id:"promoteFiles",type:"promoteFiles",name:"Select Files",description:"Select files that should be sent to the copyediting stage.",errors:{},lists:[{name:"Revisions",files:[...rm]}],selected:[],to:6}]}}},dm=om,pm=(0,T.Z)(dm,Lc,Cc,!1,null,null,null),cm=pm.exports,um='<template>\n\t<div class="app__page width width--wide">\n\t\t<nav role="navigation" aria-label="You are here:" class="app__breadcrumbs">\n\t\t\t<ol>\n\t\t\t\t<li>\n\t\t\t\t\t<a href="#">Submissions</a>\n\t\t\t\t\t<span aria-hidden="true" class="app__breadcrumbsSeparator">/</span>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href="#">Daniel, Towards Designing an Intercultural...</a>\n\t\t\t\t\t<span aria-hidden="true" class="app__breadcrumbsSeparator">/</span>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<span aria-current="page">Accept Submission</span>\n\t\t\t\t</li>\n\t\t\t</ol>\n\t\t</nav>\n\t\t<div class="app__page--decision">\n\t\t\t<h1 class="app__pageHeading" ref="pageTitle">Accept Submission</h1>\n\t\t\t<p class="app__pageDescription">\n\t\t\t\tThis submission will be accepted for publication and sent for\n\t\t\t\tcopyediting.\n\t\t\t</p>\n\n\t\t\t<notification\n\t\t\t\tv-for="(error, index) in errors"\n\t\t\t\t:key="index"\n\t\t\t\ttype="warning"\n\t\t\t\tclass="decision__error"\n\t\t\t\trole="alert"\n\t\t\t>\n\t\t\t\t{{ error }}\n\t\t\t\t<button class="-linkButton" @click="openStep(index)">View Error</button>\n\t\t\t</notification>\n\n\t\t\t<steps\n\t\t\t\t:current="currentStep.id"\n\t\t\t\t:started-steps="startedSteps"\n\t\t\t\tlabel="Complete the following steps to take this decision"\n\t\t\t\tprogress-label="{$current}/{$total} steps"\n\t\t\t\t:scroll-to="$refs.pageTitle"\n\t\t\t\tshow-steps-label="Show all steps"\n\t\t\t\t@step:open="openStep"\n\t\t\t>\n\t\t\t\t<step\n\t\t\t\t\tv-for="step in steps"\n\t\t\t\t\t:key="step.id"\n\t\t\t\t\t:id="step.id"\n\t\t\t\t\t:label="step.name"\n\t\t\t\t>\n\t\t\t\t\t<panel class="decision__stepPanel">\n\t\t\t\t\t\t<panel-section class="decision__stepHeader">\n\t\t\t\t\t\t\t<h2>{{ step.name }}</h2>\n\t\t\t\t\t\t\t<p>{{ step.description }}</p>\n\t\t\t\t\t\t</panel-section>\n\t\t\t\t\t\t<template v-if="step.type === \'form\'">\n\t\t\t\t\t\t\t<panel-section>\n\t\t\t\t\t\t\t\t<pkp-form\n\t\t\t\t\t\t\t\t\tv-bind="step.form"\n\t\t\t\t\t\t\t\t\t:errors="step.errors"\n\t\t\t\t\t\t\t\t\t@set="updateStep"\n\t\t\t\t\t\t\t\t></pkp-form>\n\t\t\t\t\t\t\t</panel-section>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else-if="step.type === \'email\'">\n\t\t\t\t\t\t\t<panel-section v-if="skippedSteps.includes(step.id)">\n\t\t\t\t\t\t\t\t<notification type="warning">\n\t\t\t\t\t\t\t\t\tThis email has been skipped.\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass="-linkButton"\n\t\t\t\t\t\t\t\t\t\t:disabled="isSubmitting"\n\t\t\t\t\t\t\t\t\t\t@click="toggleSkippedStep(step.id)"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tDon\'t skip email\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</notification>\n\t\t\t\t\t\t\t</panel-section>\n\t\t\t\t\t\t\t<panel-section v-else>\n\t\t\t\t\t\t\t\t<composer\n\t\t\t\t\t\t\t\t\tv-bind="step"\n\t\t\t\t\t\t\t\t\taddCCLabel="Add CC/BCC"\n\t\t\t\t\t\t\t\t\tattachFilesLabel="Attach Files"\n\t\t\t\t\t\t\t\t\tattachedFilesLabel="Attached Files:"\n\t\t\t\t\t\t\t\t\tbccLabel="BCC:"\n\t\t\t\t\t\t\t\t\tbodyLabel="Message"\n\t\t\t\t\t\t\t\t\tccLabel="CC:"\n\t\t\t\t\t\t\t\t\tconfirmSwitchLocaleLabel="Are you sure you want to change to {$localeName} to compose this email? Any changes you have made to the subject and body of the email will be lost."\n\t\t\t\t\t\t\t\t\tdeselectLabel="Deselect"\n\t\t\t\t\t\t\t\t\t:email-templatesApiUrl="emailTemplatesApiUrl"\n\t\t\t\t\t\t\t\t\tfindTemplateLabel="Find Template"\n\t\t\t\t\t\t\t\t\tinsertLabel="Insert"\n\t\t\t\t\t\t\t\t\tinsertModalLabel="Insert Content"\n\t\t\t\t\t\t\t\t\tinsertContentLabel="Content"\n\t\t\t\t\t\t\t\t\tinsertSearchLabel="Find content to insert"\n\t\t\t\t\t\t\t\t\tloadTemplateLabel="Email Templates"\n\t\t\t\t\t\t\t\t\t:locale="step.locale"\n\t\t\t\t\t\t\t\t\t:locales="step.locales"\n\t\t\t\t\t\t\t\t\tmoreSearchResultsLabel="{$number} more"\n\t\t\t\t\t\t\t\t\tremoveItemLabel="Remove {$item}"\n\t\t\t\t\t\t\t\t\tsearchingLabel="Searching"\n\t\t\t\t\t\t\t\t\tsearchResultsLabel="Search Results"\n\t\t\t\t\t\t\t\t\tsubjectLabel="Subject:"\n\t\t\t\t\t\t\t\t\tswitchToLabel="Switch To:"\n\t\t\t\t\t\t\t\t\tswitchToNamedLanguageLabel="Switch to {$name}"\n\t\t\t\t\t\t\t\t\trecipientsLabel="To:"\n\t\t\t\t\t\t\t\t\t@set="updateStep"\n\t\t\t\t\t\t\t\t></composer>\n\t\t\t\t\t\t\t</panel-section>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else-if="step.type === \'promoteFiles\'">\n\t\t\t\t\t\t\t<panel-section>\n\t\t\t\t\t\t\t\t<list-panel\n\t\t\t\t\t\t\t\t\tv-for="(list, i) in step.lists"\n\t\t\t\t\t\t\t\t\t:key="i"\n\t\t\t\t\t\t\t\t\t:items="list.files"\n\t\t\t\t\t\t\t\t\t:title="list.name"\n\t\t\t\t\t\t\t\t\tclass="decision_filesList"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<template v-slot:item="{item}">\n\t\t\t\t\t\t\t\t\t\t<select-submission-file-list-item\n\t\t\t\t\t\t\t\t\t\t\t:document-type="item.documentType"\n\t\t\t\t\t\t\t\t\t\t\tdownload-label="Download"\n\t\t\t\t\t\t\t\t\t\t\t:genreName="\n\t\t\t\t\t\t\t\t\t\t\t\titem.genreName ? localize(item.genreName) : \'\'\n\t\t\t\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t\t\t\t:genreIsPrimary="\n\t\t\t\t\t\t\t\t\t\t\t\titem.genreId &&\n\t\t\t\t\t\t\t\t\t\t\t\t!item.genreIsDependent &&\n\t\t\t\t\t\t\t\t\t\t\t\t!item.genreIsSupplementary\n\t\t\t\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t\t\t\t:file-id="item.id"\n\t\t\t\t\t\t\t\t\t\t\t:name="localize(item.name)"\n\t\t\t\t\t\t\t\t\t\t\t:url="item.url"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype="checkbox"\n\t\t\t\t\t\t\t\t\t\t\t\t:name="\'promoteFile\' + item.id"\n\t\t\t\t\t\t\t\t\t\t\t\t:value="item.id"\n\t\t\t\t\t\t\t\t\t\t\t\tv-model="step.selected"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</select-submission-file-list-item>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</list-panel>\n\t\t\t\t\t\t\t</panel-section>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</panel>\n\t\t\t\t</step>\n\t\t\t</steps>\n\n\t\t\t<panel class="decision__footer__panel">\n\t\t\t\t<panel-section>\n\t\t\t\t\t<span slot="header">\n\t\t\t\t\t\t\x3c!-- empty on purpose --\x3e\n\t\t\t\t\t</span>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass="decision__footer"\n\t\t\t\t\t\t:class="{\'decision__footer--noSteps\': !steps.length}"\n\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tv-if="\n\t\t\t\t\t\t\t\tcurrentStep.type === \'email\' &&\n\t\t\t\t\t\t\t\tcurrentStep.canSkip &&\n\t\t\t\t\t\t\t\t!skippedSteps.includes(currentStep.id)\n\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\tclass="decision__skipStep -linkButton"\n\t\t\t\t\t\t\t:disabled="isSubmitting"\n\t\t\t\t\t\t\t@click="toggleSkippedStep(currentStep.id)"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSkip email\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<spinner v-if="isSubmitting"></spinner>\n\t\t\t\t\t\t<pkp-button\n\t\t\t\t\t\t\t:disabled="isSubmitting"\n\t\t\t\t\t\t\t:is-warnable="true"\n\t\t\t\t\t\t\t@click="cancel"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</pkp-button>\n\t\t\t\t\t\t<pkp-button\n\t\t\t\t\t\t\tv-if="!isOnFirstStep && steps.length > 1"\n\t\t\t\t\t\t\t:disabled="isSubmitting"\n\t\t\t\t\t\t\t@click="previousStep"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPrevious\n\t\t\t\t\t\t</pkp-button>\n\t\t\t\t\t\t<pkp-button\n\t\t\t\t\t\t\t:disabled="isSubmitting"\n\t\t\t\t\t\t\t:is-primary="isOnLastStep"\n\t\t\t\t\t\t\t@click="nextStep"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template v-if="isOnLastStep">Record Decision</template>\n\t\t\t\t\t\t\t<template v-else>Continue</template>\n\t\t\t\t\t\t</pkp-button>\n\t\t\t\t\t</div>\n\t\t\t\t</panel-section>\n\t\t\t</panel>\n\t\t</div>\n\n\t\t<div\n\t\t\taria-live="polite"\n\t\t\taria-atomic="true"\n\t\t\tclass="app__notifications"\n\t\t\tref="notifications"\n\t\t\trole="status"\n\t\t>\n\t\t\t<transition-group name="app__notification">\n\t\t\t\t<notification\n\t\t\t\t\tv-for="notification in notifications"\n\t\t\t\t\t:key="notification.key"\n\t\t\t\t\t:type="notification.type"\n\t\t\t\t\t:can-dismiss="true"\n\t\t\t\t\t@dismiss="dismissNotification(notification.key)"\n\t\t\t\t>\n\t\t\t\t\t{{ notification.message }}\n\t\t\t\t</notification>\n\t\t\t</transition-group>\n\t\t</div>\n\t\t<transition name="app__loading">\n\t\t\t<div v-if="isLoading" class="app__loading" role="alert">\n\t\t\t\t<div class="app__loading__content">\n\t\t\t\t\t<spinner></spinner>\n\t\t\t\t\tLoading\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</transition>\n\t</div>\n</template>\n\n<script>\nimport DecisionPage from \'@/components/Container/DecisionPage.vue\';\nimport emailTemplate from \'@/docs/data/emailTemplate\';\nimport submissionFiles from \'@/docs/data/submissionFiles\';\nimport insertContent from \'../../../data/insertContent\';\n\nexport default {\n\textends: DecisionPage,\n\tdata() {\n\t\treturn {\n\t\t\tcurrentStep: {},\n\t\t\tdecision: 1,\n\t\t\temailTemplatesApiUrl:\n\t\t\t\t\'http://localhost:8000/publicknowledge/api/v1/emailTemplates\',\n\t\t\tstepErrorMessage: \'There is a problem with the {$stepName} step.\',\n\t\t\tstartedSteps: [],\n\t\t\tisComplete: false,\n\t\t\tisSubmitting: false,\n\t\t\treviewRoundId: 2,\n\t\t\tskippedSteps: [],\n\t\t\tstageId: 3,\n\t\t\tsubmissionApiUrl:\n\t\t\t\t\'http://localhost:8000/publicknowledge/api/v1/submission/1\',\n\t\t\tsteps: [\n\t\t\t\t{\n\t\t\t\t\tid: \'payment\',\n\t\t\t\t\ttype: \'form\',\n\t\t\t\t\tname: \'Request Payment\',\n\t\t\t\t\tdescription:\n\t\t\t\t\t\t\'Ask the author to pay the Article Processing Charge (USD $150) now or waive the fee.\',\n\t\t\t\t\terrors: {},\n\t\t\t\t\tform: {\n\t\t\t\t\t\tid: \'requestPayment\',\n\t\t\t\t\t\tmethod: \'\',\n\t\t\t\t\t\taction: \'emit\',\n\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \'payment\',\n\t\t\t\t\t\t\t\tcomponent: \'field-options\',\n\t\t\t\t\t\t\t\tlabel: \'Article Processing Charge\',\n\t\t\t\t\t\t\t\tvalue: [],\n\t\t\t\t\t\t\t\ttype: \'radio\',\n\t\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\t\t\tlabel: \'Request payment from the author (USD $150)\',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\t\t\tlabel: \'Waive the fee\',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tgroupId: \'default\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\tgroups: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: \'default\',\n\t\t\t\t\t\t\t\tpageId: \'default\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\tpages: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: \'default\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\tprimaryLocale: \'en\',\n\t\t\t\t\t\tvisibleLocales: [\'en\'],\n\t\t\t\t\t\tsupportedFormLocales: [],\n\t\t\t\t\t\terrors: {},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \'notifyAuthors\',\n\t\t\t\t\ttype: \'email\',\n\t\t\t\t\tname: \'Notify Authors\',\n\t\t\t\t\tdescription:\n\t\t\t\t\t\t\'Send an email to the authors to let them know that their submission has been accepted for publication.\',\n\t\t\t\t\terrors: {},\n\t\t\t\t\tto: [31],\n\t\t\t\t\trecipientOptions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: 31,\n\t\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\t\ten: \'Rana Baiyewu\',\n\t\t\t\t\t\t\t\tfr_CA: \'Rana Fr Baiyewu\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tcanChangeRecipients: false,\n\t\t\t\t\tcanSkip: true,\n\t\t\t\t\tdefaultEmailTemplateKey: \'EDITOR_DECISION_ACCEPT\',\n\t\t\t\t\temailTemplates: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t...emailTemplate,\n\t\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\t\ten: \'Accept for Publication\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsubject: {\n\t\t\t\t\t\t\t\ten: \'Accept for Publication\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t...emailTemplate,\n\t\t\t\t\t\t\tkey: \'EDITOR_DECISION_ACCEPT_CONDITIONS\',\n\t\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\t\ten: \'Accept with Conditions\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsubject: {\n\t\t\t\t\t\t\t\ten: \'Accept with Conditions\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t...emailTemplate,\n\t\t\t\t\t\t\tkey: \'EDITOR_DECISION_ACCEPT_EARLY\',\n\t\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\t\ten: \'Accept for Early Publication\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsubject: {\n\t\t\t\t\t\t\t\ten: \'Accept for Early Publication\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\temailTemplatesApiUrl: \'http://example.org\',\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\ten: [...insertContent],\n\t\t\t\t\t\tfr_CA: [...insertContent],\n\t\t\t\t\t},\n\t\t\t\t\tlocale: \'en\',\n\t\t\t\t\tlocales: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlocale: \'en\',\n\t\t\t\t\t\t\tname: \'English\',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlocale: \'fr_CA\',\n\t\t\t\t\t\t\tname: \'French\',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \'notifyReviewers\',\n\t\t\t\t\ttype: \'email\',\n\t\t\t\t\tname: \'Notify Reviewers\',\n\t\t\t\t\tdescription:\n\t\t\t\t\t\t\'Send an email to the reviewers to thank them for their review and let them know that a decision was taken.\',\n\t\t\t\t\terrors: {\n\t\t\t\t\t\tbody: [\'This field is required.\'],\n\t\t\t\t\t\tsubject: [\'This field is required.\'],\n\t\t\t\t\t\tto: [\n\t\t\t\t\t\t\t\'You can not send an email to the following recipients: Alan Mwandenga.\',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\trecipientOptions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: 10,\n\t\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\t\ten: \'Adela Gallego\',\n\t\t\t\t\t\t\t\tfr_CA: \'Adela Gallego\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: 9,\n\t\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\t\ten: \'Aisla McCrae\',\n\t\t\t\t\t\t\t\tfr_CA: \'Aisla McCrae\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tcanChangeRecipients: true,\n\t\t\t\t\tcanSkip: true,\n\t\t\t\t\tdefaultEmailTemplateKey: \'EDITOR_DECISION_THANK_REVIEWERS\',\n\t\t\t\t\temailTemplates: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t...emailTemplate,\n\t\t\t\t\t\t\tkey: \'EDITOR_DECISION_THANK_REVIEWERS\',\n\t\t\t\t\t\t\tsubject: {\n\t\t\t\t\t\t\t\ten: \'Thank Reviewer\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t...emailTemplate,\n\t\t\t\t\t\t\tkey: \'EDITOR_DECISION_THANK_REVIEWERS_REQUEST\',\n\t\t\t\t\t\t\tsubject: {\n\t\t\t\t\t\t\t\ten: \'Thank Reviewer and Request Feedback\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\temailTemplatesApiUrl: \'http://example.org\',\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\ten: [...insertContent],\n\t\t\t\t\t\tfr_CA: [...insertContent],\n\t\t\t\t\t},\n\t\t\t\t\tlocale: \'en\',\n\t\t\t\t\tlocales: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlocale: \'en\',\n\t\t\t\t\t\t\tname: \'English\',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlocale: \'fr_CA\',\n\t\t\t\t\t\t\tname: \'French \',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \'promoteFiles\',\n\t\t\t\t\ttype: \'promoteFiles\',\n\t\t\t\t\tname: \'Select Files\',\n\t\t\t\t\tdescription:\n\t\t\t\t\t\t\'Select files that should be sent to the copyediting stage.\',\n\t\t\t\t\terrors: {},\n\t\t\t\t\tlists: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \'Revisions\',\n\t\t\t\t\t\t\tfiles: [...submissionFiles],\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tselected: [],\n\t\t\t\t\tto: 6,\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t},\n};\n<\/script>\n\n<style lang="less">\n@import \'../../../../styles/_import\';\n\n.component--DecisionPage .component__exampleWrapper {\n\tbackground: @bg;\n\tmax-width: 100%; // Let the page class define the width\n}\n</style>\n',mm="## Data\n\n| Key | Description |\n| --- | --- |\n| `...` |... |\n\n## Usage\n\nThe `DecisionPage` extends the [`Container`](/#/pages/container) app. Use this app to show an editorial decision workflow.\n\n## Template\n\nThe `DecisionPage` app is a template-less component. You must write the template in Smarty on the server-side and it will be compiled at run time.\n\nThe example here provides a sample template.\n",hm={extends:H,data(){return{name:"DecisionPage",readme:mm,examples:[{component:cm,name:"Base",template:this.extractTemplate(um)}]}}},bm=hm,fm=(0,T.Z)(bm,Ec,Rc,!1,null,null,null),gm=fm.exports,vm=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewDialog"},[e("pkp-button",{on:{click:t.openBasicExample}},[t._v("Basic Example")]),e("pkp-button",{on:{click:t.openFullExample}},[t._v("Full Example")])],1)},_m=[],ym={mixins:[mt],methods:{openBasicExample(){this.openDialog({name:"basic",title:"Submit Article",message:"Are you sure you want to submit this article?",actions:[{label:"Confirm",isPrimary:!0,callback:()=>{setTimeout((()=>this.$modal.hide("basic")),2e3)}},{label:"Cancel",isWarnable:!0,callback:()=>this.$modal.hide("basic")}]})},openFullExample(){this.openDialog({name:"full",title:"Several Actions",message:"This dialog includes an action that is a link (Visit Page). It also logs something to the console when the modal is closed. Dialogs should have 2 or 3 actions at the most.",actions:[{label:"Confirm",isPrimary:!0,callback:()=>{setTimeout((()=>this.$modal.hide("full")),2e3)}},{label:"Visit Page",element:"a",href:"https://example.org"},{label:"Cancel",isWarnable:!0,callback:()=>this.$modal.hide("full")}],close:()=>console.log("closed full example dialog")})}}},km=ym,wm=(0,T.Z)(km,vm,_m,!1,null,null,null),Sm=wm.exports,Tm="<template>\n\t<div class=\"previewDialog\">\n\t\t<pkp-button @click=\"openBasicExample\">Basic Example</pkp-button>\n\t\t<pkp-button @click=\"openFullExample\">Full Example</pkp-button>\n\t</div>\n</template>\n\n<script>\nimport dialog from '@/mixins/dialog';\n\nexport default {\n\tmixins: [dialog],\n\tmethods: {\n\t\topenBasicExample() {\n\t\t\tthis.openDialog({\n\t\t\t\tname: 'basic',\n\t\t\t\ttitle: 'Submit Article',\n\t\t\t\tmessage: 'Are you sure you want to submit this article?',\n\t\t\t\tactions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Confirm',\n\t\t\t\t\t\tisPrimary: true,\n\t\t\t\t\t\tcallback: () => {\n\t\t\t\t\t\t\t// Simulate a server request\n\t\t\t\t\t\t\tsetTimeout(() => this.$modal.hide('basic'), 2000);\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Cancel',\n\t\t\t\t\t\tisWarnable: true,\n\t\t\t\t\t\tcallback: () => this.$modal.hide('basic'),\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t},\n\t\topenFullExample() {\n\t\t\tthis.openDialog({\n\t\t\t\tname: 'full',\n\t\t\t\ttitle: 'Several Actions',\n\t\t\t\tmessage:\n\t\t\t\t\t'This dialog includes an action that is a link (Visit Page). It also logs something to the console when the modal is closed. Dialogs should have 2 or 3 actions at the most.',\n\t\t\t\tactions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Confirm',\n\t\t\t\t\t\tisPrimary: true,\n\t\t\t\t\t\tcallback: () => {\n\t\t\t\t\t\t\t// Simulate a server request\n\t\t\t\t\t\t\tsetTimeout(() => this.$modal.hide('full'), 2000);\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Visit Page',\n\t\t\t\t\t\telement: 'a',\n\t\t\t\t\t\thref: 'https://example.org',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Cancel',\n\t\t\t\t\t\tisWarnable: true,\n\t\t\t\t\t\tcallback: () => this.$modal.hide('full'),\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tclose: () => console.log('closed full example dialog'), // eslint-disable-line\n\t\t\t});\n\t\t},\n\t},\n};\n<\/script>\n\n<style lang=\"less\">\n@import '../../../../styles/_import';\n\n.previewDialog .pkpButton {\n\tmargin-right: 0.25rem;\n}\n</style>\n",Fm="## Props\n\n| Key | Description |\n| --- | --- |\n| `name` | A unique name for this dialog. |\n| `title` | The title to display in the dialog. |\n| `message` | The message to display in the dialog. |\n| `close` | A callback function that will be fired when the dialog is closed. |\n| `actions` | The buttons to add to the dialog. |\n| `actions[0].label` | The label for the button. |\n| `actions[0].callback` | A callback function that will be fired when the button is pressed. |\n| `actions[0].isPrimary` | Whether to style this action as the primary or main action. See [Button](#/component/Button) |\n| `actions[0].isWarnable` | Whether to style this action like a cancel, back or delete action. See [Button](#/component/Button) |\n| `actions[0].element` | Pass `a` to make this a link instead of a button. See [Button](#/component/Button) |\n| `actions[0].href` | The URL of a link when `element` is set to `a`. See [Button](#/component/Button) |\n\n## Events\n\nThis component does not emit any events.\n\n## Global Events\n\nThis component does not emit any global events.\n\n## Usage\n\nDialogs provide a quick way to show a simple confirmation prompt. Import the `dialog` mixin and use the `openDialog` method to create a dialog.\n\n```js\nimport dialog from '@/mixins/dialog';\n\nexport default {\n\tmixins: [dialog],\n\tmethods: {\n\t\tthis.openDialog({\n\t\t\tname: 'example',\n\t\t\ttitle: 'Submit Article',\n\t\t\tmessage: 'Are you sure you want to submit this article?',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Yes',\n\t\t\t\t\tisPrimary: true,\n\t\t\t\t\tcallback: () => {\n\t\t\t\t\t\t// user has confirmed\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'No',\n\t\t\t\t\tisWarnable: true,\n\t\t\t\t\tcallback: () => {\n\t\t\t\t\t\t// user has cancelled\n\t\t\t\t\t\t// usually you want to close the modal\n\t\t\t\t\t\tthis.$modal.hide('example');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\tclose: () => {\n\t\t\t\t// dialog has been closed\n\t\t\t}\n\t\t});\n\t}\n}\n```\n\nDialogs should usually have buttons to confirm or cancel an action. Dialogs should never have more than three buttons.",xm={extends:H,data(){return{name:"Dialog",readme:Fm,examples:[{component:Sm,name:"Dialog",template:this.extractTemplate(Tm)}]}}},Pm=xm,Lm=(0,T.Z)(Pm,Bc,Uc,!1,null,null,null),Cm=Lm.exports,Am=function(){var t=this,e=t._self._c;return e("doi-list-panel",{attrs:{apiUrl:"http://httpbin.org/get",id:"previewDoiListPanel--articles",items:t.previewItems,itemsMax:t.previewItemsMax,title:"Article DOIs",crossrefPluginEnabled:!0,isSubmission:!0,filters:t.filters,enabledDoiTypes:t.enabledDoiTypes,"doi-prefix":t.doiPrefix}})},Im=[],Dm=function(){var t=this,e=t._self._c;return e("div",{staticClass:"doiListPanel"},[t._t("default",(function(){return[e("list-panel",{attrs:{items:t.mappedItems,isSidebarVisible:!0},scopedSlots:t._u([{key:"item",fn:function({item:n}){return[t._t("item",(function(){return[e("doi-list-item",{key:n.id,attrs:{item:n,"api-url":t.apiUrl,"doi-api-url":t.doiApiUrl,"doi-prefix":t.doiPrefix,"is-selected":t.selected.includes(n.id),"is-expanded":t.expanded.includes(n.id),"enabled-doi-types":t.enabledDoiTypes,"version-dois":t.versionDois,"registration-agency-info":t.registrationAgencyInfo,"registration-agency-names":t.registrationAgencyNames},on:{"select-item":t.selectItem,"expand-item":t.expandItem,"deposit-triggered":t.openBulkDeposit,"update-successful-doi-edits":t.updateSuccessfulDoiEdits}})]}),{item:n})]}}],null,!0)},[e("template",{slot:"header"},[e("pkp-header",[e("h2",[t._v(t._s(t.title))]),t.isLoading?e("spinner"):t._e(),e("template",{slot:"actions"},[e("search",{attrs:{searchPhrase:t.searchPhrase},on:{"search-phrase-changed":t.setSearchPhrase}}),e("dropdown",{staticClass:"doiListPanel__bulkActions",attrs:{label:t.__("manager.dois.actions.bulkActions")}},[e("div",{staticClass:"pkpDropdown__section"},[e("ul",[e("li",[e("button",{staticClass:"pkpDropdown__action",on:{click:t.toggleSelectAll}},[t._v(" "+t._s(t.isAllSelected?t.__("common.selectNone"):t.__("common.selectAll"))+" ")])]),e("li",[e("button",{staticClass:"pkpDropdown__action",on:{click:t.toggleExpandAll}},[t._v(" "+t._s(t.isAllExpanded?t.__("list.collapseAll"):t.__("list.expandAll"))+" ")])])])]),e("div",{staticClass:"pkpDropdown__section"},[e("div",{staticClass:"app__userNav__loggedInAs"},[t._v(" "+t._s(t.__("manager.dois.actions.description",{count:t.selected.length}))+" ")]),e("ul",[t.isRegistrationPluginConfigured?e("li",[e("button",{staticClass:"pkpDropdown__action",on:{click:t.openBulkExport}},[t._v(" "+t._s(t.__("manager.dois.actions.export.label"))+" ")])]):t._e(),e("li",[e("button",{staticClass:"pkpDropdown__action",on:{click:t.openBulkMarkRegistered}},[t._v(" "+t._s(t.__("manager.dois.actions.markRegistered.label"))+" ")])]),e("li",[e("button",{staticClass:"pkpDropdown__action",on:{click:t.openBulkMarkUnregistered}},[t._v(" "+t._s(t.__("manager.dois.actions.markUnregistered.label"))+" ")])]),e("li",[e("button",{staticClass:"pkpDropdown__action",on:{click:t.openBulkMarkStale}},[t._v(" "+t._s(t.__("manager.dois.actions.markStale.label"))+" ")])]),t.canAssignDois?e("li",[e("button",{staticClass:"pkpDropdown__action",on:{click:t.openBulkAssign}},[t._v(" "+t._s(t.__("manager.dois.actions.assign.label"))+" ")])]):t._e(),t.isRegistrationPluginConfigured?e("li",[e("button",{staticClass:"pkpDropdown__action",on:{click:t.openBulkDeposit}},[t._v(" "+t._s(t.__("manager.dois.actions.deposit.label"))+" ")])]):t._e()])])]),t.isRegistrationPluginConfigured?e("pkp-button",{attrs:{"is-primary":!0},on:{click:t.openBulkDepositAll}},[t._v(" "+t._s(t.__("manager.dois.actions.deposit.all"))+" ")]):t._e()],1)],2)],1),e("template",{slot:"sidebar"},[e("pkp-header",{attrs:{isOneLine:!1}},[e("h3",[e("icon",{attrs:{icon:"filter",inline:!0}}),t._v(" "+t._s(t.__("common.filter"))+" ")],1),e("template",{slot:"actions"},[e("button",{staticClass:"doiListPanel__statusInfoButton",on:{click:function(e){return t.$modal.show("statusInfoModal")}}},[e("icon",{attrs:{icon:"question-circle"}})],1)])],2),t._l(t.filters,(function(n,i){return e("div",{key:i,staticClass:"listPanel__block"},[n.heading?e("pkp-header",[e("h4",[t._v(t._s(n.heading))])]):t._e(),t._l(n.filters,(function(n){return e(n.filterType||"pkp-filter",t._b({key:n.param+n.value,tag:"component",attrs:{isFilterActive:t.isFilterActive(n.param,n.value)},on:{"add-filter":t.addFilter,"remove-filter":t.removeFilter,"update-filter":t.addFilter}},"component",n,!1))}))],2)}))],2),e("template",{slot:"itemsEmpty"},[t.isLoading?[e("spinner"),t._v(" "+t._s(t.__("common.loading"))+" ")]:[t._v(" "+t._s(t.__("common.noItemsFound"))+" ")]],2),t.lastPage>1?e("pagination",{attrs:{slot:"footer",currentPage:t.currentPage,isLoading:t.isLoading,lastPage:t.lastPage},on:{"set-page":t.setPage},slot:"footer"}):t._e()],2)]})),e("modal",{attrs:{"close-label":t.__("common.close"),name:"statusInfoModal",title:t.__("manager.dois.help.statuses.title")},on:{closed:function(e){t.setFocusIn(t.$el.querySelector(".doiListPanel__statusInfoButton"))}}},[e("table",{staticClass:"pkpTable"},[e("thead",[e("tr",[e("th",[t._v(t._s(t.__("common.status")))]),e("th",[t._v(t._s(t.__("common.description")))])])]),e("tr",{staticClass:"pkpTable__row"},[e("th",[t._v(t._s(t.__("manager.dois.status.needsDoi")))]),e("td",[t._v(t._s(t.__("manager.dois.status.needsDoi.description")))])]),e("tr",{staticClass:"pkpTable__row"},[e("th",[t._v(t._s(t.__("manager.dois.filters.doiAssigned")))]),e("td",[t._v(t._s(t.__("manager.dois.filters.doiAssigned.description")))])]),e("tr",{staticClass:"pkpTable__row"},[e("th",[t._v(t._s(t.__("manager.dois.status.unregistered")))]),e("td",[t._v(t._s(t.__("manager.dois.status.unregistered.description")))])]),e("tr",{staticClass:"pkpTable__row"},[e("th",[t._v(t._s(t.__("manager.dois.status.submitted")))]),e("td",[t._v(t._s(t.__("manager.dois.status.submitted.description")))])]),e("tr",{staticClass:"pkpTable__row"},[e("th",[t._v(t._s(t.__("manager.dois.status.registered")))]),e("td",[t._v(t._s(t.__("manager.dois.status.registered.description")))])]),e("tr",{staticClass:"pkpTable__row"},[e("th",[t._v(t._s(t.__("manager.dois.status.error.filterTitle")))]),e("td",[t._v(t._s(t.__("manager.dois.status.error.description")))])]),e("tr",{staticClass:"pkpTable__row"},[e("th",[t._v(t._s(t.__("manager.dois.status.stale")))]),e("td",[t._v(t._s(t.__("manager.dois.status.stale.description")))])])])]),e("modal",{attrs:{"close-label":t.__("common.close"),name:"failedDoiActionModal",title:t.__("manager.dois.update.failedCreation")},on:{closed:function(e){t.setFocusIn(t.$el.querySelector(".doiListPanel__bulkActions")),t.failedDoiActions=[]}}},[e("p",[t._v(t._s(this.__("manager.dois.update.partialFailure")))]),e("ul",t._l(this.failedDoiActions,(function(n){return e("li",{key:n.index},[t._v(" "+t._s(n)+" ")])})),0)])],2)},Em=[],Rm=function(){var t=this,e=t._self._c;return e("div",{staticClass:"listPanel__item--doi",attrs:{id:`list-item-${t.item.type}-${t.item.id}`}},[e("div",{staticClass:"listPanel__itemSummary"},[e("label",{staticClass:"doiListItem__selectWrapper"},[e("div",{staticClass:"doiListItem__selector"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isSelected,expression:"isSelected"}],attrs:{type:"checkbox",name:`${t.item.type}[]`},domProps:{value:t.item.id,checked:Array.isArray(t.isSelected)?t._i(t.isSelected,t.item.id)>-1:t.isSelected},on:{click:t.toggleSelected,change:function(e){var n=t.isSelected,i=e.target,s=!!i.checked;if(Array.isArray(n)){var a=t.item.id,l=t._i(n,a);i.checked?l<0&&(t.isSelected=n.concat([a])):l>-1&&(t.isSelected=n.slice(0,l).concat(n.slice(l+1)))}else t.isSelected=s}}})])]),e("div",{staticClass:"listPanel__itemIdentity"},[e("div",{staticClass:"listPanel__itemTitle doiListItem__itemTitle"},[e("span",{staticClass:"listPanel__itemSubtitle"},[e("a",{attrs:{href:t.item.urlPublished,target:"_blank",rel:"noopener noreferrer"}},[t._v(" "+t._s(t.item.title)+" ")])])])]),e("div",{staticClass:"listPanel__itemActions"},[t._v(" "+t._s(t.item.id)+" "),e("div",{staticClass:"doiListItem__itemMetadata"},[e("badge",{staticClass:"doiListItem__itemMetadata--badge",attrs:{"is-warnable":t.item.isPublished&&(!t.isDeposited&&t.isRegistrationPluginConfigured||t.isDeposited&&t.isRegistrationPluginConfigured&&t.isStale||t.hasErrors),"is-primary":t.item.isPublished&&t.isDeposited}},[t._v(" "+t._s(t.item.isPublished?t.depositStatusString:t.publicationStatusLabel)+" ")])],1),e("expander",{attrs:{isExpanded:t.isExpanded,itemName:t.item.id.toString()},on:{toggle:t.toggleExpanded}})],1)]),t.isExpanded?e("div",{staticClass:"listPanel__itemExpanded listPanel__itemExpanded--doi"},[e("pkp-table",{attrs:{columns:t.doiListColumns,rows:t.currentVersionDoiObjects},scopedSlots:t._u([{key:"default",fn:function({row:n}){return[e("table-cell",{attrs:{column:t.doiListColumns[0],row:n}},[e("label",{attrs:{for:n.uid}},[t._v(t._s(n.displayType))])]),e("table-cell",{attrs:{column:t.doiListColumns[1],row:n}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mutableDois.find((t=>t.uid===n.uid)).identifier,expression:"\n\t\t\t\t\t\t\tmutableDois.find((doi) => doi.uid === row.uid).identifier\n\t\t\t\t\t\t"}],staticClass:"pkpFormField__input pkpFormField--text__input",attrs:{id:n.uid,type:"text",readonly:!(t.isEditingDois&&!t.isSaving)},domProps:{value:t.mutableDois.find((t=>t.uid===n.uid)).identifier},on:{input:function(e){e.target.composing||t.$set(t.mutableDois.find((t=>t.uid===n.uid)),"identifier",e.target.value)}}})])]}}],null,!1,1224528147)}),e("div",{staticClass:"listPanel__itemExpandedActions doiListPanel__itemExpandedActions"},[t.item.versions.length>1&&!t.isEditingDois&&!t.isSaving&&t.versionDois?e("div",{staticClass:"doiListPanel__itemExpandedActions--actionsBar"},[t._v(" "+t._s(t.__("doi.manager.versions.countStatement",{count:t.item.versions.length}))+" "),e("button",{ref:t.versionModalName,class:"-linkButton",on:{click:function(e){return t.$modal.show(t.versionModalName)}}},[t._v(" "+t._s(t.__("doi.manager.versions.view"))+" ")])]):t._e(),t.isSaving?e("spinner"):t._e(),e("pkp-button",{attrs:{"is-disabled":t.isDeposited||t.isSaving},on:{click:function(e){t.isEditingDois?t.saveDois():t.editDois()}}},[t._v(" "+t._s(t.isEditingDois?t.__("common.save"):t.__("common.edit"))+" ")])],1),t.isRegistrationPluginConfigured?e("div",{staticClass:"doiListItem__depositorDetails"},[e("div",{staticClass:"doiListItem__depositorName"},[t._v(" "+t._s(t.registrationAgencyInfo["displayName"])+" ")]),t.item.isPublished?e("span",{staticClass:"doiListItem__depositorDescription"},[t._v(" "+t._s(t.isDeposited?null===t.itemRegistrationAgency?t.__("manager.dois.registration.manuallyMarkedRegistered"):t.__("manager.dois.registration.submittedDescription",{registrationAgency:t.itemRegistrationAgencyName}):t.__("manager.dois.registration.notSubmittedDescription",{registrationAgency:t.registrationAgencyInfo["displayName"]}))+" ")]):e("span",{staticClass:"doiListItem__depositorDescription"},[t._v(" "+t._s(t.__("manager.dois.registration.notPublishedDescription"))+" ")]),e("div",{staticClass:"doiListItem__depositorActions"},[t.isDeposited&&t.hasRegisteredMessage?e("pkp-button",{ref:"recordedMessageModalButton",attrs:{"is-disabled":t.isEditingDois},on:{click:function(e){return t.$modal.show("registeredMessageModal")}}},[t._v(" "+t._s(t.__("manager.dois.registration.viewRecord"))+" ")]):!t.isDeposited&&t.item.isPublished?e("pkp-button",{attrs:{"is-disabled":t.isEditingDois},on:{click:t.handleDepositorActions}},[t._v(" "+t._s(t.__("manager.dois.registration.depositDois"))+" ")]):t._e(),t.hasErrors&&t.hasErrorMessage?e("pkp-button",{ref:"errorMessageModalButton",attrs:{"is-disabled":t.isEditingDois},on:{click:function(e){return t.$modal.show(`errorMessageModal-${t.item.id}`)}}},[t._v(" "+t._s(t.__("manager.dois.registration.viewError"))+" ")]):t._e()],1)]):t._e()],1):t._e(),e("modal",{attrs:{"close-label":t.__("common.close"),name:`errorMessageModal-${t.item.id}`,title:t.__("manager.dois.registration.viewError.title")},on:{closed:function(e){return t.setFocusToRef("errorMessageModalButton")}}},[e("p",[t._v(t._s(t.registrationAgencyInfo["errorMessagePreamble"]))]),e("div",{staticClass:"depositErrorMessage"},[e("pre",[t._v(t._s(t.currentVersionDoiObjects[0]["errorMessage"]))])])]),e("modal",{attrs:{"close-label":t.__("common.close"),name:"registeredMessageModal",title:t.__("manager.dois.registration.viewError.title")},on:{closed:function(e){return t.setFocusToRef("registeredMessageModalButton")}}},[e("p",[t._v(t._s(t.registrationAgencyInfo["registeredMessagePreamble"]))]),e("p",[t._v(t._s(t.currentVersionDoiObjects[0]["registeredMessage"]))])]),e("modal",{attrs:{"close-label":t.__("common.close"),name:t.versionModalName,title:t.__("doi.manager.versions.modalTitle")},on:{closed:function(e){return t.setFocusToRef(t.versionModalName)}}},[t._l(t.item.versions,(function(n){return e("div",{key:n.id,staticClass:"doiListItem__versionContainer"},[e("a",{attrs:{href:n.urlPublished,target:"_blank",rel:"noopener noreferrer"}},[t._v(" "+t._s(t.getVersionHeader(n))+" ")]),e("pkp-table",{attrs:{columns:t.doiListColumns,rows:t.item.doiObjects.filter((t=>t.versionNumber===n.versionNumber))},scopedSlots:t._u([{key:"default",fn:function({row:n}){return[e("table-cell",{attrs:{column:t.doiListColumns[0],row:n}},[e("label",{attrs:{for:n.uid}},[t._v(t._s(n.displayType))])]),e("table-cell",{attrs:{column:t.doiListColumns[1],row:n}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mutableDois.find((t=>t.uid===n.uid)).identifier,expression:"\n\t\t\t\t\t\t\t\tmutableDois.find((doi) => doi.uid === row.uid).identifier\n\t\t\t\t\t\t\t"}],staticClass:"pkpFormField__input pkpFormField--text__input",attrs:{id:n.uid,type:"text",readonly:!(t.isEditingDois&&!t.isSaving)},domProps:{value:t.mutableDois.find((t=>t.uid===n.uid)).identifier},on:{input:function(e){e.target.composing||t.$set(t.mutableDois.find((t=>t.uid===n.uid)),"identifier",e.target.value)}}})])]}}],null,!0)})],1)})),e("div",{staticClass:"doiListItem__versionContainer--actionsBar"},[t.isSaving?e("spinner"):t._e(),e("pkp-button",{attrs:{"is-disabled":t.isDeposited||t.isSaving},on:{click:function(e){t.isEditingDois?t.saveDois():t.editDois()}}},[t._v(" "+t._s(t.isEditingDois?t.__("common.save"):t.__("common.edit"))+" ")])],1)],2)],1)},Bm=[],Um=function(){var t=this,e=t._self._c;return e("table",{staticClass:"pkpTable",attrs:{role:"grid","aria-labelledBy":!!t.labelledBy&&t.labelledBy,"aria-describedBy":!!t.describedBy&&t.describedBy}},[t.label||t.description?e("caption",[t.label?e("div",{staticClass:"pkpTable__label"},[t._t("label",(function(){return[t._v(t._s(t.label))]}))],2):t._e(),t.description?e("div",{staticClass:"pkpTable__description",domProps:{innerHTML:t._s(t.description)}}):t._e()]):t._e(),e("thead",[e("tr",t._l(t.columns,(function(n){return e("th",{key:n.name,class:{"-isActive":t.orderBy===n.orderBy},attrs:{scope:"col","aria-sort":!!n.orderBy}},[n.orderBy?e("button",{on:{click:function(e){return t.setOrderBy(n)}}},[t._v(" "+t._s(n.label)+" "),e("icon",{staticClass:"pkpTable__sortIcon",attrs:{icon:t.getIconDirection(n)?"caret-down":"caret-up"}})],1):[t._v(" "+t._s(n.label)+" ")],t._t("thead-"+n.name,null,{column:n})],2)})),0)]),e("tbody",{on:{keydown:[function(e){return(e.type.indexOf("key")||35===e.keyCode)&&e.ctrlKey?e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.focusEnd.apply(null,arguments)):null},function(e){return(e.type.indexOf("key")||36===e.keyCode)&&e.ctrlKey?e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.focusStart.apply(null,arguments)):null},function(e){return e.type.indexOf("key")||35===e.keyCode?e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.focusLastCell.apply(null,arguments)):null},function(e){return e.type.indexOf("key")||36===e.keyCode?e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.focusFirstCell.apply(null,arguments)):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.focusPreviousCell.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.focusPreviousRow.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.focusNextCell.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.focusNextRow.apply(null,arguments))}]}},t._l(t.rows,(function(n,i){return e("tr",{key:"row"+i,staticClass:"pkpTable__row"},[t._t("default",(function(){return t._l(t.columns,(function(t,s){return e("table-cell",{key:t.name,attrs:{column:t,row:n,tabindex:i||s?-1:0}})}))}),{row:n,rowIndex:i})],2)})),0)])},Om=[],Mm=function(){var t=this,e=t._self._c;return e(t.tag,{tag:"component",class:t.classes,attrs:{scope:"th"===t.tag&&"row",tabindex:t.tabindex}},[t.hasSlot?[t._t("default",null,{column:t.column,row:t.row})]:[e("span",{domProps:{innerHTML:t._s(t.value)}})]],2)},$m=[],Nm={props:{column:Object,row:Object,tabindex:[Number,Boolean]},computed:{tag(){return this.column.isRowHeader?"th":"td"},classes(){let t=["pkpTable__cell"];return this.column.truncate&&(t.push("-truncate"),t.push("-truncate-"+this.column.truncate)),t},hasSlot(){return this.$slots.default},value(){return"function"===typeof this.column.value?this.column.value(this.row):"undefined"!==typeof this.row[this.column.value]?this.row[this.column.value]:""}}},jm=Nm,qm=(0,T.Z)(jm,Mm,$m,!1,null,null,null),Wm=qm.exports,Vm={components:{TableCell:Wm},props:{columns:{type:Array,default(){return[]}},describedBy:{type:String,default(){return""}},description:{type:String,default(){return""}},label:{type:String,default(){return""}},labelledBy:{type:String,default(){return""}},orderBy:{type:String,default(){return""}},orderDirection:{type:Boolean,default(){return!1}},rows:{type:Array,default(){return[]}}},methods:{setOrderBy(t){this.orderBy===t.orderBy?this.$emit("order-by",t.orderBy,!this.orderDirection):this.$emit("order-by",t.orderBy,t.initialOrderDirection)},getIconDirection(t){return this.orderBy===t.orderBy?this.orderDirection:null!==t.initialOrderDirection&&t.initialOrderDirection},focusNextCell(t){$(t.target).closest("td, th").next().focus()},focusPreviousCell(t){$(t.target).closest("td, th").prev().focus()},focusNextRow(t){const e=$(t.target),n=e.closest("td, th"),i=n.closest("tr"),s=i.children().index(n),a=i.next().children();a[s]&&a[s].focus()},focusPreviousRow(t){const e=$(t.target),n=e.closest("td, th"),i=n.closest("tr"),s=i.children().index(n),a=i.prev().children();a[s]&&a[s].focus()},focusFirstCell(t){$(t.target).parents("tr").children("td, th").first().focus()},focusLastCell(t){$(t.target).parents("tr").children("td, th").last().focus()},focusStart(t){$(t.target).parents("tbody").children("tr").first().children("td, th").first().focus()},focusEnd(t){$(t.target).parents("tbody").children("tr").last().children("td, th").last().focus()}}},Km=Vm,zm=(0,T.Z)(Km,Um,Om,!1,null,null,null),Hm=zm.exports,Zm={name:"DoiListItem",components:{Expander:lr,Modal:ot,PkpTable:Hm,TableCell:Wm},props:{apiUrl:{type:String,required:!0},doiApiUrl:{type:String,required:!0},doiPrefix:{type:String,default(){return""}},item:{type:Object,required:!0},isExpanded:{type:Boolean},isSelected:{type:Boolean},enabledDoiTypes:{type:Array,default(){return[]}},versionDois:{type:Boolean,required:!0},registrationAgencyInfo:{type:Object,required:!0},registrationAgencyNames:{type:Object,default(){return{}}}},data(){return{doiListColumns:[{name:"type",label:this.__("common.type"),value(t){return t.displayType}},{name:"doi",label:this.__("manager.dois.title"),value:"value"}],isEditingDois:!1,isEditingDoisEnabled:!1,isSaving:!1,mutableDois:[],itemsToUpdate:{}}},computed:{currentVersionDoiObjects(){return this.item.doiObjects.filter((t=>t.isCurrentVersion))},depositStatusString(){switch(this.itemDepositStatus){case pkp.const.DOI_STATUS_UNREGISTERED:return this.needsDoi?this.__("manager.dois.status.needsDoi"):this.__("manager.dois.status.unregistered");case pkp.const.DOI_STATUS_SUBMITTED:return this.__("manager.dois.status.submitted");case pkp.const.DOI_STATUS_REGISTERED:return this.__("manager.dois.status.registered");case pkp.const.DOI_STATUS_ERROR:return this.__("manager.dois.status.error");case pkp.const.DOI_STATUS_STALE:return this.__("manager.dois.status.stale");default:return""}},isDeposited(){const t=[pkp.const.DOI_STATUS_SUBMITTED,pkp.const.DOI_STATUS_REGISTERED];return t.includes(this.itemDepositStatus)},isRegistrationPluginConfigured(){return this.registrationAgencyInfo["isConfigured"]},isStale(){return this.itemDepositStatus===pkp.const.DOI_STATUS_STALE},itemDepositStatus(){return 0!==this.currentVersionDoiObjects.length?this.currentVersionDoiObjects[0]["depositStatus"]:pkp.const.DOI_STATUS_UNREGISTERED},itemRegistrationAgency:function(){return 0!==this.item.doiObjects.length?this.item.doiObjects[0]["registrationAgency"]:null},itemRegistrationAgencyName:function(){const t=this.itemRegistrationAgency;return this.registrationAgencyNames.hasOwnProperty(t)?this.registrationAgencyNames[t]:`[${t}]`},hasErrors(){return this.itemDepositStatus===pkp.const.DOI_STATUS_ERROR},hasErrorMessage(){const t=this.currentVersionDoiObjects[0]["errorMessage"];return null!==t&&void 0!==t&&""!==t},hasRegisteredMessage(){const t=this.currentVersionDoiObjects[0]["registeredMessage"];return null!==t&&void 0!==t&&""!==t},needsDoi(){const t=this.item.doiObjects.some((t=>null!==t.doiId));return!t},publicationStatusLabel(){return this.item.isPublished?this.__("publication.status.published"):this.__("publication.status.unpublished")},versionModalName(){return this.item.type+"-versionsModal-"+this.item.id}},methods:{updateMutableDois(t){let e=[];t.forEach((t=>{e.push({uid:t.uid,doiId:t.doiId,identifier:t.identifier,pubObjectType:t.type,pubObjectId:t.id})})),this.mutableDois=e},editDois(){this.isEditingDois=!0},saveDois(){this.mutableDois.forEach((t=>{const e=this.item.doiObjects.find((e=>e.uid===t.uid));if(e.identifier!==t.identifier){let e={...this.itemsToUpdate};e[t.uid]={isFinished:!1,isSuccess:!1,...t},this.itemsToUpdate=e}})),this.isSaving=!0,0!==Object.keys(this.itemsToUpdate).length?Object.keys(this.itemsToUpdate).forEach((t=>{this.postUpdatedDoi(this.itemsToUpdate[t])})):(this.isSaving=!1,this.isEditingDois=!1)},postUpdatedDoi(t){null===t.doiId?$.when(this.addNewDoi(t)).then((()=>{this.addDoiToPubObject(t)})).catch((e=>{this.postUpdatedDoiComplete(e,t.uid)})):""===t.identifier?this.deleteDoi(t):this.editDoi(t)},addNewDoi(t){return $.ajax({url:`${this.doiApiUrl}`,type:"POST",headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,contentType:"application/x-www-form-urlencoded"},data:{contextId:this.item.contextId,doi:`${t.identifier}`},success(e){t.doiId=e.id},error:e=>this.postUpdatedDoiError(e,t.uid)})},addDoiToPubObject(t){return $.ajax({url:this.item.doiObjects.find((e=>e.uid===t.uid)).updateWithNewDoiEndpoint,type:"POST",headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"PUT",contentType:"application/x-www-form-urlencoded"},data:{doiId:t.doiId},success:e=>this.postUpdatedDoiSuccess(e,t.uid),error:e=>this.postUpdatedDoiError(e,t.uid),complete:e=>this.postUpdatedDoiComplete(e,t.uid)})},editDoi(t){let e={doi:t.identifier};return this.versionDois&&(e.pubObjectType=t.pubObjectType,e.pubObjectId=t.pubObjectId),$.ajax({url:`${this.doiApiUrl}/${t.doiId}`,type:"POST",headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"PUT",contentType:"application/x-www-form-urlencoded"},data:e,success:e=>this.postUpdatedDoiSuccess(e,t.uid),error:e=>this.postUpdatedDoiError(e,t.uid),complete:e=>this.postUpdatedDoiComplete(e,t.uid)})},deleteDoi(t){let e={};return this.versionDois&&(e.pubObjectType=t.pubObjectType,e.pubObjectId=t.pubObjectId),$.ajax({url:`${this.doiApiUrl}/${t.doiId}`,type:"POST",headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"DELETE"},data:e,success:e=>this.postUpdatedDoiSuccess(e,t.uid),error:e=>this.postUpdatedDoiError(e,t.uid),complete:e=>this.postUpdatedDoiComplete(e,t.uid)})},postUpdatedDoiSuccess(t,e){let n={...this.itemsToUpdate};n[e].isSuccess=!0,this.itemsToUpdate=n},postUpdatedDoiError(t,e){let n={...this.itemsToUpdate};n[e].isSuccess=!1,this.itemsToUpdate=n},postUpdatedDoiComplete(t,e){let n={...this.itemsToUpdate};n[e].isFinished=!0,this.itemsToUpdate=n;const i=Object.keys(this.itemsToUpdate).every((t=>!0===this.itemsToUpdate[t].isFinished));if(i){let t={...this.itemsToUpdate},e=!1;if(Object.keys(t).forEach((n=>{t[n].isSuccess||(e=!0,delete t[n])})),this.itemsToUpdate=t,e&&pkp.eventBus.$emit("notify",this.__("manager.dois.update.partialFailure"),"warning"),0!==Object.keys(this.itemsToUpdate).length){let t=this;$.ajax({url:`${this.apiUrl}/${this.item.id}`,type:"GET",success(e){t.$emit("update-successful-doi-edits",e)},error(e){t.ajaxErrorCallback(e)},complete(e){t.itemsToUpdate={}}})}else this.updateMutableDois(this.item.doiObjects);this.isSaving=!1,this.isEditingDois=!1}},handleDepositorActions(){return this.isDeposited?this.viewRecord():this.triggerDeposit()},viewRecord(){this.$modal.show("registeredMessageModal")},triggerDeposit(){this.$emit("deposit-triggered",[this.item.id],"deposit")},toggleSelected(){this.$emit("select-item",this.item.id)},toggleExpanded(){this.$emit("expand-item",this.item.id)},getVersionHeader(t){const e=null!==t.datePublished?`(${t.datePublished})`:this.__("publication.status.unpublished");return`${this.__("publication.version",{version:t.versionNumber})} ${e}`}},mounted(){this.updateMutableDois(this.item.doiObjects)},watch:{item:function(){this.updateMutableDois(this.item.doiObjects)}}},Gm=Zm,Ym=(0,T.Z)(Gm,Rm,Bm,!1,null,null,null),Jm=Ym.exports,Xm={components:{Notification:Bt,DoiListItem:Jm,Dropdown:po,FieldSelect:rs,ListPanel:Kt,Pagination:Jt,PkpFilter:Ul,PkpFilterAutosuggest:qr,PkpHeader:jt,Search:Ui,Modal:ot},mixins:[Dn,la],props:{id:{type:String,required:!0},items:{type:Array,default(){return[]}},itemsMax:{type:Number,default(){return 0}},itemType:{type:String,required:!0},filters:{type:Array,default(){return[]}},title:{type:String,required:!0},doiPrefix:{type:String,default(){return""}},enabledDoiTypes:{type:Array,default(){return[]}},versionDois:{type:Boolean,required:!0},doiApiUrl:{type:String,required:!0},executeActionApiUrl:{type:String,required:!0},registrationAgencyInfo:{type:Object,required:!0},registrationAgencyNames:{type:Object,default(){return{}}},publishedStatuses:{type:Object,required:!0}},data(){return{activeFilters:{},selected:[],expanded:[],failedDoiActions:[]}},methods:{setItems(t,e){this.$emit("set",this.id,{items:t,itemsMax:e})},selectItem(t){this.selected.includes(t)?this.selected=this.selected.filter((e=>e!==t)):this.selected.push(t)},expandItem(t){this.expanded.includes(t)?this.expanded=this.expanded.filter((e=>e!==t)):this.expanded.push(t)},toggleExpandAll(){this.isAllExpanded?this.expanded=[]:this.expanded=this.items.map((t=>t.id))},toggleSelectAll(){this.isAllSelected?this.selected=[]:this.selected=this.items.map((t=>t.id))},addFilter(t,e){let n={...this.activeFilters};"unregistered"===t&&(n["doiStatus"]=pkp.const.DOI_STATUS_UNREGISTERED,n[this.publishedStatuses.name]=this.publishedStatuses.published),"doiStatus"===t&&e!==pkp.const.DOI_STATUS_UNREGISTERED&&delete n["unregistered"],n[t]=e,this.activeFilters=n},isFilterActive:function(t,e){return!!Object.keys(this.activeFilters).includes(t)&&(Array.isArray(this.activeFilters[t])?this.activeFilters[t].includes(e):this.activeFilters[t]===e)},removeFilter(t,e){let n={...this.activeFilters};"unregistered"===t&&(delete n[this.publishedStatuses.name],delete n["doiStatus"]),delete n[t],this.activeFilters=n},openBulkDeposit(t=[]){const e=t.length>0?t:this.selected,n=this.__("manager.dois.actions.deposit.label"),i=this.__("manager.dois.actions.deposit.prompt",{count:e.length,registrationAgency:this.registrationAgencyInfo["displayName"]});this.openBulkActionDialog(n,i,(()=>{let t=this;t.loading=!0,$.ajax({...this.getBulkActionAjaxProps("deposit","PUT"),data:{ids:e},success:()=>{pkp.eventBus.$emit("notify",this.__("manager.dois.notification.depositQueuedSuccess"),"success")},error:t=>this.ajaxErrorCallback(t),complete:()=>(t.isloading=!1,this.onBulkActionComplete())})}))},openBulkExport(){const t=this.__("manager.dois.actions.export.label"),e=this.__("manager.dois.actions.export.prompt",{count:this.selected.length,registrationAgency:this.registrationAgencyInfo["displayName"]});this.openBulkActionDialog(t,e,(()=>{$.ajax({...this.getBulkActionAjaxProps("export","PUT"),data:{ids:this.selected},success:t=>{const e=document.createElement("a");e.href=`${this.doiApiUrl}/exports/${t.temporaryFileId}`,document.body.appendChild(e),e.click(),document.body.removeChild(e),pkp.eventBus.$emit("notify",this.__("manager.dois.notification.exportSuccess"),"success")},error:t=>this.ajaxErrorCallback(t),complete:()=>this.onBulkActionComplete()})}))},openBulkMarkRegistered(){const t=this.__("manager.dois.actions.markRegistered.label"),e=this.__("manager.dois.actions.markRegistered.prompt",{count:this.selected.length});this.openBulkActionDialog(t,e,(()=>{$.ajax({...this.getBulkActionAjaxProps("markRegistered","PUT"),data:{ids:this.selected},success:()=>{pkp.eventBus.$emit("notify",this.__("manager.dois.notification.markRegisteredSuccess"),"success")},error:t=>{if(!t.responseJSON.hasOwnProperty("failedDoiActions"))return this.ajaxErrorCallback(t);this.failedDoiActions=t.responseJSON.failedDoiActions},complete:()=>this.onBulkActionComplete()})}))},openBulkMarkUnregistered(){const t=this.__("manager.dois.actions.markUnregistered.label"),e=this.__("manager.dois.actions.markUnregistered.prompt",{count:this.selected.length});this.openBulkActionDialog(t,e,(()=>{$.ajax({...this.getBulkActionAjaxProps("markUnregistered","PUT"),data:{ids:this.selected},success:()=>{pkp.eventBus.$emit("notify",this.__("manager.dois.notification.markUnregisteredSuccess"),"success")},error:t=>this.ajaxErrorCallback(t),complete:()=>this.onBulkActionComplete()})}))},openBulkMarkStale(){const t=this.__("manager.dois.actions.markStale.label"),e=this.__("manager.dois.actions.markStale.prompt",{count:this.selected.length});this.openBulkActionDialog(t,e,(()=>{$.ajax({...this.getBulkActionAjaxProps("markStale","PUT"),data:{ids:this.selected},success:()=>{pkp.eventBus.$emit("notify",this.__("manager.dois.notification.markStaleSuccess"),"success")},error:t=>{if(!t.responseJSON.hasOwnProperty("failedDoiActions"))return this.ajaxErrorCallback(t);this.failedDoiActions=t.responseJSON.failedDoiActions},complete:()=>this.onBulkActionComplete()})}))},openBulkAssign(){const t=this.__("manager.dois.actions.assign.label"),e=this.__("manager.dois.actions.assign.prompt",{count:this.selected.length});this.openBulkActionDialog(t,e,(()=>{$.ajax({...this.getBulkActionAjaxProps("assignDois"),data:{ids:this.selected},success:()=>{pkp.eventBus.$emit("notify",this.__("manager.dois.notification.assignDoisSuccess"),"success")},error:t=>{if(!t.responseJSON.hasOwnProperty("failedDoiActions"))return this.ajaxErrorCallback(t);this.failedDoiActions=t.responseJSON.failedDoiActions},complete:()=>this.onBulkActionComplete()})}))},openBulkDepositAll(){const t=this.__("manager.dois.actions.depositAll.label"),e=this.__("manager.dois.actions.depositAll.prompt",{registrationAgency:this.registrationAgencyInfo["displayName"]});this.openBulkActionDialog(t,e,(()=>{$.ajax({url:`${this.doiApiUrl}/depositAll`,type:"POST",headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"PUT"},success:()=>{pkp.eventBus.$emit("notify",this.__("manager.dois.notification.depositQueuedSuccess"),"success")},error:t=>this.ajaxErrorCallback(t),complete:()=>this.onBulkActionComplete()})}))},openBulkActionDialog(t,e,n){this.openDialog({name:"bulkActions",title:t,message:e,actions:[{label:t,isPrimary:!0,callback:n},{label:this.__("common.cancel"),isWarnable:!0,callback:()=>this.$modal.hide("bulkActions")}]})},getBulkActionAjaxProps(t,e="POST"){let n={"X-Csrf-Token":pkp.currentUser.csrfToken};return"POST"!==e&&(n["X-Http-Method-Override"]=e),{url:`${this.executeActionApiUrl}/${t}`,type:"POST",headers:n}},onBulkActionComplete(){this.$modal.hide("bulkActions"),this.get(),this.selected=[]},updateSuccessfulDoiEdits(t){let e=this.items.map((e=>e.id===t.id?t:e));pkp.eventBus.$emit("notify",this.__("manger.dois.update.success"),"success"),this.setItems(e,this.itemsMax)},getCurrentPublication(t){return t.publications.find((e=>e.id===t.currentPublicationId))},addDoiObjects(t){return t},getItemTitle(t){return this.getItemTitleBase(t)},getItemTitleBase(t){const e=this.getCurrentPublication(t),n=e.authorsStringShort,i=this.localize(e.fullTitle);return`${n} — ${i}`},getUrlPublished(t){return this.getUrlPublishedBase(t)},getUrlPublishedBase(t){return this.getCurrentPublication(t).urlPublished},getIsPublished(t){return this.getIsPublishedBase(t)},getIsPublishedBase(t){return t.status===pkp.const.STATUS_PUBLISHED},getVersions(t){return t.publications?.map((e=>({id:e.id,isCurrentVersion:t.currentPublicationId===e.id,versionNumber:e.version,urlPublished:e.urlPublished,datePublished:e.datePublished})))||[]},mapDoiObject(t,e){return{doiId:null===t?null:t.id,identifier:null===t?"":t.doi,depositStatus:null===t?pkp.const.DOI_STATUS_UNREGISTERED:t.status,errorMessage:null===t?null:t[this.registrationAgencyInfo["errorMessageKey"]],registeredMessage:null===t?null:t[this.registrationAgencyInfo["registeredMessageKey"]],registrationAgency:null===t?null:t.registrationAgency,...e}}},computed:{canAssignDois(){return this.doiPrefix&&this.doiPrefix?.length>0&&this.enabledDoiTypes.length>0},isAllSelected(){return this.selected.length&&this.selected.length===this.items.length},isAllExpanded(){return this.expanded.length&&this.expanded.length===this.items.length},mappedItems(){return this.items.map((t=>{let e={id:t.id,type:this.itemType,title:this.getItemTitle(t),urlPublished:this.getUrlPublished(t),isPublished:this.getIsPublished(t),versions:this.getVersions(t),doiObjects:[]};return e=this.addDoiObjects(e),e}))},isRegistrationPluginConfigured(){return this.registrationAgencyInfo["isConfigured"]}},watch:{failedDoiActions(t,e){0!==t.length?this.$modal.show("failedDoiActionModal"):this.$modal.hide("failedDoiActionModal")}}},Qm=Xm,th=(0,T.Z)(Qm,Dm,Em,!1,null,null,null),eh=th.exports,nh={groupId:"default",formId:"default",isRequired:!1,primaryLocale:"en",locales:["en"],allErrors:{}},ih={name:"autosuggest",component:"field-autosuggest",label:"",value:[],deselectLabel:"Remove {$item}",selectedLabel:"Selected",apiUrl:""},sh={components:{DoiListPanel:eh},data(){const t=[...Zo];return{previewItems:t,previewItemsMax:t.length,filters:[{heading:"Publication Status",filters:[{title:"Published",param:"status",value:`${pkp.const.STATUS_PUBLISHED}`},{title:"Unpublished",param:"status",value:`${pkp.const.STATUS_QUEUED}, ${pkp.const.STATUS_SCHEDULED}`}]},{heading:"CrossRef Deposit Status",filters:[{title:"Not deposited",param:"crossrefStatus",value:"notDeposited"},{title:"Active",param:"crossrefStatus",value:"registered"},{title:"Failed",param:"crossrefStatus",value:"failed"},{title:"Marked Active",param:"crossrefStatus",value:"markedRegistered"}]},{filters:[{title:"Issues",param:"issueIds",value:[],component:"field-select-issues",autosuggestProps:{...nh,...ih,apiUrl:"issues.json",name:"issueIds",label:"Issues",selectedLabel:"Assigned"},filterType:"pkp-filter-autosuggest"}]}],enabledDoiTypes:["issue","publication","representation"],doiPrefix:"10.9876"}},created(){pkp.localeKeys["publication.status.unpublished"]="Unpublished",pkp.localeKeys["publication.status.unpublished"]="publication.status.unpublished",pkp.localeKeys["publication.status.published"]="publication.status.published",pkp.localeKeys["manager.dois.actions.deposit.label"]="manager.dois.actions.deposit.label",pkp.localeKeys["manager.dois.actions.deposit.prompt"]="manager.dois.actions.deposit.prompt",pkp.localeKeys["manager.dois.actions.markRegistered.label"]="manager.dois.actions.markRegistered.label",pkp.localeKeys["manager.dois.actions.markRegistered.prompt"]="manager.dois.actions.markRegistered.prompt",pkp.localeKeys["manager.dois.actions.export.label"]="manager.dois.actions.export.label",pkp.localeKeys["manager.dois.actions.export.prompt"]="manager.dois.actions.export.prompt",pkp.localeKeys["manager.dois.registration.submittedDescription"]="manager.dois.registration.submittedDescription",pkp.localeKeys["manager.dois.registration.notSubmittedDescription"]="manager.dois.registration.notSubmittedDescription",pkp.localeKeys["manager.dois.registration.viewError"]="manager.dois.registration.viewError",pkp.localeKeys["manager.dois.registration.viewError.title"]="manager.dois.registration.viewError.title",pkp.localeKeys["manager.dois.registration.viewRecord"]="manager.dois.registration.viewRecord",pkp.localeKeys["manager.dois.registration.viewRecord.title"]="manager.dois.registration.viewRecord.title",pkp.localeKeys["manager.dois.registration.depositDois"]="manager.dois.registration.depositDois",pkp.localeKeys["manager.dois.status.unregistered"]="manager.dois.status.unregistered",pkp.localeKeys["manager.dois.status.submitted"]="manager.dois.status.submitted",pkp.localeKeys["manager.dois.status.registered"]="manager.dois.status.registered",pkp.localeKeys["manager.dois.status.error"]="manager.dois.status.error",pkp.localeKeys["manager.dois.status.stale"]="manager.dois.status.stale"}},ah=sh,lh=(0,T.Z)(ah,Am,Im,!1,null,null,null),rh=lh.exports,oh="<template>\n\t<doi-list-panel\n\t\tapiUrl=\"http://httpbin.org/get\"\n\t\tid=\"previewDoiListPanel--articles\"\n\t\t:items=\"previewItems\"\n\t\t:itemsMax=\"previewItemsMax\"\n\t\ttitle=\"Article DOIs\"\n\t\t:crossrefPluginEnabled=\"true\"\n\t\t:isSubmission=\"true\"\n\t\t:filters=\"filters\"\n\t\t:enabledDoiTypes=\"enabledDoiTypes\"\n\t\t:doi-prefix=\"doiPrefix\"\n\t/>\n</template>\n<script>\nimport DoiListPanel from '@/components/ListPanel/doi/DoiListPanel.vue';\nimport submissions from '@/docs/data/submissions';\n// import issues from '@/docs/data/issues';\nimport fieldBase from '@/docs/components/Form/helpers/field-base';\nimport fieldBaseAutosuggest from '@/docs/components/Form/helpers/field-autosuggest';\n\nexport default {\n\tcomponents: {\n\t\tDoiListPanel,\n\t},\n\tdata() {\n\t\tconst submissionItems = [...submissions];\n\t\t// const issueItems = [...issues];\n\n\t\treturn {\n\t\t\tpreviewItems: submissionItems,\n\t\t\tpreviewItemsMax: submissionItems.length,\n\t\t\t// previewItems: issueItems,\n\t\t\t// previewItemsMax: issueItems.length,\n\t\t\tfilters: [\n\t\t\t\t// For submissions\n\t\t\t\t{\n\t\t\t\t\theading: 'Publication Status',\n\t\t\t\t\tfilters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Published',\n\t\t\t\t\t\t\tparam: 'status',\n\t\t\t\t\t\t\tvalue: `${pkp.const.STATUS_PUBLISHED}`,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Unpublished',\n\t\t\t\t\t\t\tparam: 'status',\n\t\t\t\t\t\t\tvalue: `${pkp.const.STATUS_QUEUED}, ${pkp.const.STATUS_SCHEDULED}`, // '1,5'\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\theading: 'CrossRef Deposit Status',\n\t\t\t\t\tfilters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Not deposited',\n\t\t\t\t\t\t\tparam: 'crossrefStatus',\n\t\t\t\t\t\t\tvalue: 'notDeposited',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Active',\n\t\t\t\t\t\t\tparam: 'crossrefStatus',\n\t\t\t\t\t\t\tvalue: 'registered',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Failed',\n\t\t\t\t\t\t\tparam: 'crossrefStatus',\n\t\t\t\t\t\t\tvalue: 'failed',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Marked Active',\n\t\t\t\t\t\t\tparam: 'crossrefStatus',\n\t\t\t\t\t\t\tvalue: 'markedRegistered',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfilters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Issues',\n\t\t\t\t\t\t\tparam: 'issueIds',\n\t\t\t\t\t\t\tvalue: [],\n\t\t\t\t\t\t\tcomponent: 'field-select-issues',\n\t\t\t\t\t\t\tautosuggestProps: {\n\t\t\t\t\t\t\t\t...fieldBase,\n\t\t\t\t\t\t\t\t...fieldBaseAutosuggest,\n\t\t\t\t\t\t\t\tapiUrl: 'issues.json',\n\t\t\t\t\t\t\t\tname: 'issueIds',\n\t\t\t\t\t\t\t\tlabel: 'Issues',\n\t\t\t\t\t\t\t\tselectedLabel: 'Assigned',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfilterType: 'pkp-filter-autosuggest',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t// For issues\n\t\t\t\t// {\n\t\t\t\t// \theading: 'Publication Status',\n\t\t\t\t// \tfilters: [\n\t\t\t\t// \t\t{\n\t\t\t\t// \t\t\ttitle: 'Published',\n\t\t\t\t// \t\t\tparam: 'isPublished',\n\t\t\t\t// \t\t\tvalue: '1'\n\t\t\t\t// \t\t},\n\t\t\t\t// \t\t{\n\t\t\t\t// \t\t\ttitle: 'Unpublished',\n\t\t\t\t// \t\t\tparam: 'isPublished',\n\t\t\t\t// \t\t\tvalue: '0'\n\t\t\t\t// \t\t}\n\t\t\t\t// \t]\n\t\t\t\t// }\n\t\t\t],\n\t\t\tenabledDoiTypes: ['issue', 'publication', 'representation'],\n\t\t\tdoiPrefix: '10.9876',\n\t\t};\n\t},\n\tcreated() {\n\t\t/**\n\t\t * Add required locale keys\n\t\t */\n\t\tpkp.localeKeys['publication.status.unpublished'] = 'Unpublished';\n\t\tpkp.localeKeys['publication.status.unpublished'] =\n\t\t\t'publication.status.unpublished';\n\t\tpkp.localeKeys['publication.status.published'] =\n\t\t\t'publication.status.published';\n\t\tpkp.localeKeys['manager.dois.actions.deposit.label'] =\n\t\t\t'manager.dois.actions.deposit.label';\n\t\tpkp.localeKeys['manager.dois.actions.deposit.prompt'] =\n\t\t\t'manager.dois.actions.deposit.prompt';\n\t\tpkp.localeKeys['manager.dois.actions.markRegistered.label'] =\n\t\t\t'manager.dois.actions.markRegistered.label';\n\t\tpkp.localeKeys['manager.dois.actions.markRegistered.prompt'] =\n\t\t\t'manager.dois.actions.markRegistered.prompt';\n\t\tpkp.localeKeys['manager.dois.actions.export.label'] =\n\t\t\t'manager.dois.actions.export.label';\n\t\tpkp.localeKeys['manager.dois.actions.export.prompt'] =\n\t\t\t'manager.dois.actions.export.prompt';\n\t\tpkp.localeKeys['manager.dois.registration.submittedDescription'] =\n\t\t\t'manager.dois.registration.submittedDescription';\n\t\tpkp.localeKeys['manager.dois.registration.notSubmittedDescription'] =\n\t\t\t'manager.dois.registration.notSubmittedDescription';\n\t\tpkp.localeKeys['manager.dois.registration.viewError'] =\n\t\t\t'manager.dois.registration.viewError';\n\t\tpkp.localeKeys['manager.dois.registration.viewError.title'] =\n\t\t\t'manager.dois.registration.viewError.title';\n\t\tpkp.localeKeys['manager.dois.registration.viewRecord'] =\n\t\t\t'manager.dois.registration.viewRecord';\n\t\tpkp.localeKeys['manager.dois.registration.viewRecord.title'] =\n\t\t\t'manager.dois.registration.viewRecord.title';\n\t\tpkp.localeKeys['manager.dois.registration.depositDois'] =\n\t\t\t'manager.dois.registration.depositDois';\n\t\tpkp.localeKeys['manager.dois.status.unregistered'] =\n\t\t\t'manager.dois.status.unregistered';\n\t\tpkp.localeKeys['manager.dois.status.submitted'] =\n\t\t\t'manager.dois.status.submitted';\n\t\tpkp.localeKeys['manager.dois.status.registered'] =\n\t\t\t'manager.dois.status.registered';\n\t\tpkp.localeKeys['manager.dois.status.error'] = 'manager.dois.status.error';\n\t\tpkp.localeKeys['manager.dois.status.stale'] = 'manager.dois.status.stale';\n\t},\n};\n<\/script>\n",dh={extends:H,data(){return{name:"DoiListPanel",examples:[{component:rh,name:"Base",template:this.extractTemplate(oh)}]}}},ph=dh,ch=(0,T.Z)(ph,Oc,Mc,!1,null,null,null),uh=ch.exports,mh=function(){var t=this,e=t._self._c;return e("doi-list-panel-o-j-s",{attrs:{apiUrl:"http://httpbin.org/get",doiApiUrl:"http://httpbin.org/get",executeActionApiUrl:"http://httpbin.org/get",id:"previewDoiListPanel--articles",filters:[],items:t.items,itemsMax:t.itemsMax,itemType:"issue",title:"Article DOIs","registration-agency-info":t.registrationAgencyInfo,enabledDoiTypes:["article","issue","galley"],"doi-prefix":"10.1234"}})},hh=[],bh={name:"DoiListPanelOJS",extends:eh,methods:{addDoiObjects(t){let e=t;const n=this.items.find((e=>e.id===t.id));if("submission"===this.itemType)n.publications.forEach((t=>{const i=t.id===this.getCurrentPublication(n).id,s=t.version;if(this.enabledDoiTypes.includes("publication")){let a=t.doiObject,l=`${this.doiApiUrl}/publications/${n.currentPublicationId}`;l=l.replace(/dois/g,"_dois"),e.doiObjects.push(this.mapDoiObject(a,{id:t.id,uid:`${n.id}-article-${t.id}`,displayType:this.__("article.article"),type:"publication",isCurrentVersion:i,versionNumber:s,updateWithNewDoiEndpoint:l}))}this.enabledDoiTypes.includes("representation")&&t.galleys.forEach((t=>{const a=t.doiObject;let l=`${this.doiApiUrl}/galleys/${t.id}`;l=l.replace(/dois/g,"_dois"),e.doiObjects.push(this.mapDoiObject(a,{id:t.id,uid:`${n.id}-representation-${t.id}`,displayType:t.label,type:"representation",isCurrentVersion:i,versionNumber:s,updateWithNewDoiEndpoint:l}))}))}));else if("issue"===this.itemType&&this.enabledDoiTypes.includes("issue")){let t=n.doiObject,i=`${this.doiApiUrl}/issues/${n.id}`;i=i.replace(/dois/g,"_dois"),e.doiObjects.push(this.mapDoiObject(t,{id:n.id,uid:`${n.id}-issue`,displayType:this.__("issue.issue"),type:"issue",isCurrentVersion:!0,versionNumber:1,updateWithNewDoiEndpoint:i}))}return e},getItemTitle(t){return"submission"===this.itemType?this.getItemTitleBase(t):t.identification},getUrlPublished(t){return"submission"===this.itemType?this.getUrlPublishedBase(t):t.publishedUrl},getIsPublished(t){return"submission"===this.itemType?this.getIsPublishedBase(t):t.published}}},fh=bh,gh=(0,T.Z)(fh,$c,Nc,!1,null,null,null),vh=gh.exports,_h={_href:"http://localhost:8000/publicknowledge/api/v1/issues/1",articles:[{...Ho,id:2,currentPublicationId:22,publications:[{...Ho.publications[0],id:22,authorsString:"Catherine Kwantes",authorsStringShort:"Kwantes",fullTitle:{en:"Quisque vel ultrices ut vel sollicitudin vel varius suscipit phasellus"},isPublished:!0}],stages:Ho.stages.map((t=>({...t,currentUserAssignedRoles:[pkp.const.ROLE_ID_MANAGER]}))),status:3,urlAuthorWorkflow:Ho.urlAuthorWorkflow.replace("1","2"),urlEditorialWorkflow:Ho.urlEditorialWorkflow.replace("1","2"),urlPublished:Ho.urlPublished.replace("1","2"),urlWorkflow:Ho.urlWorkflow.replace("1","2")},{...Ho}],coverImageAltText:{en:"",fr_CA:""},coverImageUrl:{en:"",fr_CA:""},dateNotified:null,datePublished:"2020-09-18 20:41:39",doiObject:{...Po},description:{en:"",fr_CA:""},galleys:[],id:1,identification:"Vol 1. No 1. (2020): Issue Number 1",isPublished:"1",number:"1","pub-id::doi":"10.987/iss123",publishedUrl:"http://localhost:8080/publicknowledge/issue/view/1",title:{en:"Issue Number 1",fr_CA:"Issue Number 1"},volume:1,year:2020},yh=[_h,{..._h,id:2,identification:"Vol 1. No 2. (2020): Issue Number 2",number:"2",doiObject:{...Po,identifier:"10.987/iss456"},title:{en:"Issue Number 2",fr_CA:"Issue Number 2"}},{..._h,id:3,identification:"Vol 1. No 3. (2020): Issue Number 3",number:"3",doiObject:{...Po,identifier:"10.987/iss789"},title:{en:"Issue Number 3",fr_CA:"Issue Number 3"}},{..._h,id:4,identification:"Vol 1. No 4. (2020): Issue Number 4",number:"4",doiObject:{...Po,identifier:"10.987/iss012"},title:{en:"Issue Number 4",fr_CA:"Issue Number 4"}}],kh={name:"PreviewDoiListPanelOJS",components:{DoiListPanelOJS:vh},data(){return{items:[...yh],itemsMax:yh.length,registrationAgencyInfo:{isConfigured:!0,displayName:"Crossref",errorMessageKey:"crossref_failedMsg",registeredMessageKey:null,errorMessagePreamble:"Info about error message here",registeredMessagePreamble:null}}},created(){pkp.localeKeys["publication.status.unpublished"]="Unpublished",pkp.localeKeys["publication.status.unpublished"]="publication.status.unpublished",pkp.localeKeys["publication.status.published"]="publication.status.published",pkp.localeKeys["manager.dois.actions.deposit.label"]="manager.dois.actions.deposit.label",pkp.localeKeys["manager.dois.actions.deposit.prompt"]="manager.dois.actions.deposit.prompt",pkp.localeKeys["manager.dois.actions.markRegistered.label"]="manager.dois.actions.markRegistered.label",pkp.localeKeys["manager.dois.actions.markRegistered.prompt"]="manager.dois.actions.markRegistered.prompt",pkp.localeKeys["manager.dois.actions.export.label"]="manager.dois.actions.export.label",pkp.localeKeys["manager.dois.actions.export.prompt"]="manager.dois.actions.export.prompt",pkp.localeKeys["manager.dois.registration.submittedDescription"]="manager.dois.registration.submittedDescription",pkp.localeKeys["manager.dois.registration.notSubmittedDescription"]="manager.dois.registration.notSubmittedDescription",pkp.localeKeys["manager.dois.registration.viewError"]="manager.dois.registration.viewError",pkp.localeKeys["manager.dois.registration.viewError.title"]="manager.dois.registration.viewError.title",pkp.localeKeys["manager.dois.registration.viewRecord"]="manager.dois.registration.viewRecord",pkp.localeKeys["manager.dois.registration.viewRecord.title"]="manager.dois.registration.viewRecord.title",pkp.localeKeys["manager.dois.registration.depositDois"]="manager.dois.registration.depositDois",pkp.localeKeys["manager.dois.status.unregistered"]="manager.dois.status.unregistered",pkp.localeKeys["manager.dois.status.submitted"]="manager.dois.status.submitted",pkp.localeKeys["manager.dois.status.registered"]="manager.dois.status.registered",pkp.localeKeys["manager.dois.status.error"]="manager.dois.status.error",pkp.localeKeys["manager.dois.status.stale"]="manager.dois.status.stale"}},wh=kh,Sh=(0,T.Z)(wh,mh,hh,!1,null,"31db803c",null),Th=Sh.exports,Fh="<template>\n\t<doi-list-panel-o-j-s\n\t\tapiUrl=\"http://httpbin.org/get\"\n\t\tdoiApiUrl=\"http://httpbin.org/get\"\n\t\texecuteActionApiUrl=\"http://httpbin.org/get\"\n\t\tid=\"previewDoiListPanel--articles\"\n\t\t:filters=\"[]\"\n\t\t:items=\"items\"\n\t\t:itemsMax=\"itemsMax\"\n\t\t:itemType=\"'issue'\"\n\t\ttitle=\"Article DOIs\"\n\t\t:registration-agency-info=\"registrationAgencyInfo\"\n\t\t:enabledDoiTypes=\"['article', 'issue', 'galley']\"\n\t\t:doi-prefix=\"'10.1234'\"\n\t/>\n</template>\n\n<script>\nimport DoiListPanelOJS from '@/components/ListPanel/doi/DoiListPanelOJS';\n// import submissions from '@/docs/data/submissions';\nimport issues from '@/docs/data/issues';\n\nexport default {\n\tname: 'PreviewDoiListPanelOJS',\n\tcomponents: {DoiListPanelOJS},\n\tdata() {\n\t\treturn {\n\t\t\titems: [...issues],\n\t\t\titemsMax: issues.length,\n\t\t\tregistrationAgencyInfo: {\n\t\t\t\tisConfigured: true,\n\t\t\t\tdisplayName: 'Crossref',\n\t\t\t\terrorMessageKey: 'crossref_failedMsg',\n\t\t\t\tregisteredMessageKey: null,\n\t\t\t\terrorMessagePreamble: 'Info about error message here',\n\t\t\t\tregisteredMessagePreamble: null,\n\t\t\t},\n\t\t};\n\t},\n\tcreated() {\n\t\t/**\n\t\t * Add required locale keys\n\t\t */\n\t\tpkp.localeKeys['publication.status.unpublished'] = 'Unpublished';\n\t\tpkp.localeKeys['publication.status.unpublished'] =\n\t\t\t'publication.status.unpublished';\n\t\tpkp.localeKeys['publication.status.published'] =\n\t\t\t'publication.status.published';\n\t\tpkp.localeKeys['manager.dois.actions.deposit.label'] =\n\t\t\t'manager.dois.actions.deposit.label';\n\t\tpkp.localeKeys['manager.dois.actions.deposit.prompt'] =\n\t\t\t'manager.dois.actions.deposit.prompt';\n\t\tpkp.localeKeys['manager.dois.actions.markRegistered.label'] =\n\t\t\t'manager.dois.actions.markRegistered.label';\n\t\tpkp.localeKeys['manager.dois.actions.markRegistered.prompt'] =\n\t\t\t'manager.dois.actions.markRegistered.prompt';\n\t\tpkp.localeKeys['manager.dois.actions.export.label'] =\n\t\t\t'manager.dois.actions.export.label';\n\t\tpkp.localeKeys['manager.dois.actions.export.prompt'] =\n\t\t\t'manager.dois.actions.export.prompt';\n\t\tpkp.localeKeys['manager.dois.registration.submittedDescription'] =\n\t\t\t'manager.dois.registration.submittedDescription';\n\t\tpkp.localeKeys['manager.dois.registration.notSubmittedDescription'] =\n\t\t\t'manager.dois.registration.notSubmittedDescription';\n\t\tpkp.localeKeys['manager.dois.registration.viewError'] =\n\t\t\t'manager.dois.registration.viewError';\n\t\tpkp.localeKeys['manager.dois.registration.viewError.title'] =\n\t\t\t'manager.dois.registration.viewError.title';\n\t\tpkp.localeKeys['manager.dois.registration.viewRecord'] =\n\t\t\t'manager.dois.registration.viewRecord';\n\t\tpkp.localeKeys['manager.dois.registration.viewRecord.title'] =\n\t\t\t'manager.dois.registration.viewRecord.title';\n\t\tpkp.localeKeys['manager.dois.registration.depositDois'] =\n\t\t\t'manager.dois.registration.depositDois';\n\t\tpkp.localeKeys['manager.dois.status.unregistered'] =\n\t\t\t'manager.dois.status.unregistered';\n\t\tpkp.localeKeys['manager.dois.status.submitted'] =\n\t\t\t'manager.dois.status.submitted';\n\t\tpkp.localeKeys['manager.dois.status.registered'] =\n\t\t\t'manager.dois.status.registered';\n\t\tpkp.localeKeys['manager.dois.status.error'] = 'manager.dois.status.error';\n\t\tpkp.localeKeys['manager.dois.status.stale'] = 'manager.dois.status.stale';\n\t},\n};\n<\/script>\n\n<style scoped></style>\n",xh={extends:H,data(){return{name:"DoiListPanelOJS",examples:[{component:Th,name:"Base",template:this.extractTemplate(Fh)}]}}},Ph=xh,Lh=(0,T.Z)(Ph,jc,qc,!1,null,null,null),Ch=Lh.exports,Ah=function(){var t=this,e=t._self._c;return e("dropdown",{attrs:{label:"Actions"}},[e("ul",[e("li",[e("a",{staticClass:"pkpDropdown__action",attrs:{href:"#"}},[t._v("One")])]),e("li",[e("button",{staticClass:"pkpDropdown__action"},[t._v(" Two Two Two Two Two Two Two Two Two Two Two Two Two Two Two Two Two Two Two Two Two ")])]),e("li",[e("a",{staticClass:"pkpDropdown__action",attrs:{href:"#"}},[t._v("Three")])]),e("li",[e("button",{staticClass:"pkpDropdown__action",attrs:{disabled:""}},[t._v("Four (disabled)")])])])])},Ih=[],Dh={components:{Dropdown:po}},Eh=Dh,Rh=(0,T.Z)(Eh,Ah,Ih,!1,null,null,null),Bh=Rh.exports,Uh='<template>\n\t<dropdown label="Actions">\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t<a class="pkpDropdown__action" href="#">One</a>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<button class="pkpDropdown__action">\n\t\t\t\t\tTwo Two Two Two Two Two Two Two Two Two Two Two Two Two Two Two Two\n\t\t\t\t\tTwo Two Two Two\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a class="pkpDropdown__action" href="#">Three</a>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<button class="pkpDropdown__action" disabled>Four (disabled)</button>\n\t\t\t</li>\n\t\t</ul>\n\t</dropdown>\n</template>\n\n<script>\nimport Dropdown from \'@/components/Dropdown/Dropdown.vue\';\n\nexport default {\n\tcomponents: {\n\t\tDropdown,\n\t},\n};\n<\/script>\n',Oh=function(){var t=this,e=t._self._c;return e("dropdown",{attrs:{label:"Grouped Actions"}},[e("div",{staticClass:"pkpDropdown__section"},[t._v(" You are currently logged in as dbarnes. ")]),e("div",{staticClass:"pkpDropdown__section"},[e("ul",[e("li",[e("a",{staticClass:"pkpDropdown__action",attrs:{href:"#"}},[t._v("View Profile")])]),e("li",[e("a",{staticClass:"pkpDropdown__action",attrs:{href:"#"}},[t._v("Logout")])])])]),e("div",{staticClass:"pkpDropdown__section"},[t._v(" Change Language "),e("ul",[e("li",[e("a",{staticClass:"pkpDropdown__action",attrs:{href:"#"}},[e("icon",{attrs:{icon:"check",inline:!0}}),t._v(" English ")],1)]),e("li",[e("a",{staticClass:"pkpDropdown__action",attrs:{href:"#"}},[t._v("Français (Canada)")])]),e("li",[e("a",{staticClass:"pkpDropdown__action",attrs:{href:"#"}},[t._v("العربية")])])])])])},Mh=[],$h={components:{Dropdown:po}},Nh=$h,jh=(0,T.Z)(Nh,Oh,Mh,!1,null,null,null),qh=jh.exports,Wh='<template>\n\t<dropdown label="Grouped Actions">\n\t\t<div class="pkpDropdown__section">\n\t\t\tYou are currently logged in as dbarnes.\n\t\t</div>\n\t\t<div class="pkpDropdown__section">\n\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<a href="#" class="pkpDropdown__action">View Profile</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href="#" class="pkpDropdown__action">Logout</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class="pkpDropdown__section">\n\t\t\tChange Language\n\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<a href="#" class="pkpDropdown__action">\n\t\t\t\t\t\t<icon icon="check" :inline="true" />\n\t\t\t\t\t\tEnglish\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href="#" class="pkpDropdown__action">Français (Canada)</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href="#" class="pkpDropdown__action">العربية</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</dropdown>\n</template>\n\n<script>\nimport Dropdown from \'@/components/Dropdown/Dropdown.vue\';\n\nexport default {\n\tcomponents: {\n\t\tDropdown,\n\t},\n};\n<\/script>\n',Vh="## Props\n\n| Key | Description |\n| --- | --- |\n| ariaDescribedBy | An optional `id` of one or more elements which describe this dropdown. It will be applied to the `<button>` in the dropdown. Optional |\n| icon | See [Button](#/component/Button). |\n| isActive | See [Button](#/component/Button). |\n| isLink | See [Button](#/component/Button). |\n| isPrimary | See [Button](#/component/Button). |\n| isWarnable | See [Button](#/component/Button). |\n| label | See [Button](#/component/Button). |\n\n## Events\n\nThis component does not emit any events.\n\n## Usage\n\nUse this component to add a dropdown menu that appears when the user clicks, taps or presses on a button.\n\n## Accessibility\n\nUse the `ariaDescribedBy` prop when the button's label does not provide enough information about what it does.\n",Kh={extends:H,data(){return{name:"Dropdown",readme:Vh,examples:[{component:Bh,name:"Base",template:this.extractTemplate(Uh)},{component:qh,name:"With Sections",template:this.extractTemplate(Wh)}]}}},zh=Kh,Hh=(0,T.Z)(zh,Wc,Vc,!1,null,null,null),Zh=Hh.exports,Gh=function(){var t=this,e=t._self._c;return e("field-autosuggest-preset",t._b({on:{change:t.change}},"field-autosuggest-preset",t.field,!1))},Yh=[],Jh=function(){var t=this,e=t._self._c;return e("field-text",t._b({on:{change:t.change}},"field-text",t.field,!1))},Xh=[],Qh={name:"email",component:"field-text",inputType:"text",label:"Email",groupId:"identity",isRequired:!0,value:""},tb={components:{FieldText:Ps},data(){return{field:{...nh,...Qh,isRequired:!1}}},methods:{change(t,e,n,i){i?this.field[e][i]=n:this.field[e]=n}}},eb=tb,nb=(0,T.Z)(eb,Jh,Xh,!1,null,null,null),ib=nb.exports,sb={extends:ib,components:{FieldAutosuggestPreset:Vn},data(){return{field:{...nh,...ih,label:"Sections",options:[{value:1,label:"Articles"},{value:2,label:"Editorials"},{value:3,label:"Reviews"},{value:4,label:"Field Notes"},{value:5,label:"Roundtables"},{value:6,label:"Research Reviews"},{value:7,label:"Conference Proceedings"}],value:[1],selected:[{value:1,label:"Articles"}]}}}},ab=sb,lb=(0,T.Z)(ab,Gh,Yh,!1,null,null,null),rb=lb.exports,ob="<template>\n\t<field-autosuggest-preset v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldAutosuggestPreset from '@/components/Form/fields/FieldAutosuggestPreset.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport FieldBaseAutosuggest from '../../../helpers/field-autosuggest';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldAutosuggestPreset,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...FieldBaseAutosuggest,\n\t\t\t\tlabel: 'Sections',\n\t\t\t\toptions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 1,\n\t\t\t\t\t\tlabel: 'Articles',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 2,\n\t\t\t\t\t\tlabel: 'Editorials',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 3,\n\t\t\t\t\t\tlabel: 'Reviews',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 4,\n\t\t\t\t\t\tlabel: 'Field Notes',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 5,\n\t\t\t\t\t\tlabel: 'Roundtables',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 6,\n\t\t\t\t\t\tlabel: 'Research Reviews',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 7,\n\t\t\t\t\t\tlabel: 'Conference Proceedings',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tvalue: [1],\n\t\t\t\tselected: [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 1,\n\t\t\t\t\t\tlabel: 'Articles',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",db='## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldBase](#/component/Form/fields/FieldBase). |\n| `...` | Supports all props in [FieldBaseAutosuggest](#/component/Form/fields/FieldBaseAutosuggest). |\n| `apiUrl` | This inherited property from [FieldBaseAutosuggest](#/component/Form/fields/FieldBaseAutosuggest) should not be used. |\n| `options` | An array of options to suggest. |\n\n## Events\n\nSee [FieldBase](#/component/Form/fields/FieldBase).\n\n## Usage\n\nThis is an implementation of [FieldBaseAutosuggest](#/component/Form/fields/FieldBaseAutosuggest) that does not require a request to an API endpoint. Instead, the list of options are passed in as a prop.\n\n```html\n<field-autosuggest-preset\n\t...\n\t:options="[\n\t\t{\n\t\t\tvalue: 1,\n\t\t\tlabel: "Articles"\n\t\t},\n\t\t{\n\t\t\tvalue: 2,\n\t\t\tlabel: "Reviews"\n\t\t},\n\t]">\n```\n\nUse this component when there is a limited number of possible suggestions and a simple match with the `label` and `value` are sufficient.',pb={extends:H,data(){return{name:"FieldAutosuggestPreset",parentRoute:"Form/fields",readme:db,examples:[{component:rb,name:"Base",template:this.extractTemplate(ob)}]}}},cb=pb,ub=(0,T.Z)(cb,Kc,zc,!1,null,null,null),mb=ub.exports,hb=function(){var t=this,e=t._self._c;return e("field-archiving-pn",t._b({on:{change:t.change}},"field-archiving-pn",t.field,!1))},bb=[],fb={name:"archiving-pn",component:"field-archiving-pn",label:"PKP Preservation Network",description:"The PKP Preservation Network (PN) provides free preservation services for any OJS journal that meets a few basic criteria.",value:!1,options:[{value:!0,label:"Enable PKP PN plugin"}],terms:"View the <button>plugin settings</button> to accept the terms of use for the PKP PN.",enablePluginSuccess:"The PKP PN plugin was successfully enabled.",enablePluginUrl:"https://example.com",disablePluginSuccess:"The PKP PN plugin has been disabled.",disablePluginUrl:"https://example.com",settingsUrl:"https://example.com",groupId:"test"},gb={extends:ib,components:{FieldArchivingPn:wn},data(){return{field:{...nh,...fb}}}},vb=gb,_b=(0,T.Z)(vb,hb,bb,!1,null,null,null),yb=_b.exports,kb="<template>\n\t<field-archiving-pn v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldArchivingPn from '@/components/Form/fields/FieldArchivingPn.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport fieldArchivingPn from '../../../helpers/field-archiving-pn';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldArchivingPn,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...fieldArchivingPn,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",wb="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldBase](#/component/Form/fields/FieldBase). |\n| `value` | The current value for this field. |\n| `terms` | An HTML string with a `<button>` that can be used to open the preservation plugin's settings modal. **Note: the modal will not open in this demonstration.** |\n| `enablePluginUrl` | A URL to send a request to the plugin grid handler to enable this plugin. |\n| `disablePluginUrl` | A URL to send a request to the plugin grid handler to disable this plugin. |\n| `settingsUrl` | A URL to send a request to the plugin grid handler to display the settings for this plugin. **Note: the modal will not open in this demonstration.** |\n\n## Events\n\nSee [FieldBase](#/component/Form/fields/FieldBase).\n\n## Usage\n\nThis component is a special field for the [PKP Preservation Network](https://pkp.sfu.ca/pkp-pn/) settings. It displays a button to open the plugin settings in a modal when the PKP PN plugin is enabled.\n\nThe modal will _not_ open in the demonstration above.\n",Sb={extends:H,data(){return{name:"FieldArchivingPn",parentRoute:"Form/fields",readme:wb,examples:[{component:yb,name:"Base",template:this.extractTemplate(kb)}]}}},Tb=Sb,Fb=(0,T.Z)(Tb,Hc,Zc,!1,null,null,null),xb=Fb.exports,Pb=function(){var t=this,e=t._self._c;return e("example-field-user-autosuggest",t._b({on:{change:t.change}},"example-field-user-autosuggest",t.field,!1))},Lb=[],Cb={extends:Nn,methods:{setSuggestions(t){const e=new RegExp(this.inputValue.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"gi"),n=t.filter((t=>t.fullName.match(e))).filter((t=>!this.currentValue.includes(t.id))).map((t=>({value:t.id,label:t.fullName})));this.suggestions=[...n]}}},Ab=Cb,Ib=(0,T.Z)(Ab,Gc,Yc,!1,null,null,null),Db=Ib.exports,Eb={extends:ib,components:{ExampleFieldUserAutosuggest:Db},data(){return{field:{...nh,...ih,apiUrl:"usernames.json",label:"Select Users",selected:[]}}}},Rb=Eb,Bb=(0,T.Z)(Rb,Pb,Lb,!1,null,null,null),Ub=Bb.exports,Ob="<template>\n\t<example-field-user-autosuggest v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport ExampleFieldUserAutosuggest from './ExampleFieldUserAutosuggest.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport FieldBaseAutosuggest from '../../../helpers/field-autosuggest';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tExampleFieldUserAutosuggest,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...FieldBaseAutosuggest,\n\t\t\t\tapiUrl: 'usernames.json',\n\t\t\t\tlabel: 'Select Users',\n\t\t\t\tselected: [],\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",Mb=function(){var t=this,e=t._self._c;return e("example-field-user-autosuggest",t._b({attrs:{isDisabled:!0,selected:[{value:1,label:"Daniel Barnes"}],value:[1]},on:{change:t.change}},"example-field-user-autosuggest",t.field,!1))},$b=[],Nb={extends:Ub},jb=Nb,qb=(0,T.Z)(jb,Mb,$b,!1,null,null,null),Wb=qb.exports,Vb='<template>\n\t<example-field-user-autosuggest\n\t\tv-bind="field"\n\t\t:isDisabled="true"\n\t\t:selected="[\n\t\t\t{\n\t\t\t\tvalue: 1,\n\t\t\t\tlabel: \'Daniel Barnes\',\n\t\t\t},\n\t\t]"\n\t\t:value="[1]"\n\t\t@change="change"\n\t/>\n</template>\n\n<script>\nimport PreviewFieldBaseAutosuggest from \'./PreviewFieldBaseAutosuggest.vue\';\n\nexport default {\n\textends: PreviewFieldBaseAutosuggest,\n};\n<\/script>\n',Kb=function(){var t=this,e=t._self._c;return e("example-field-user-autosuggest",t._b({attrs:{label:"To:",isLabelInline:!0},on:{change:t.change}},"example-field-user-autosuggest",t.field,!1))},zb=[],Hb={extends:Ub},Zb=Hb,Gb=(0,T.Z)(Zb,Kb,zb,!1,null,null,null),Yb=Gb.exports,Jb='<template>\n\t<example-field-user-autosuggest\n\t\tv-bind="field"\n\t\tlabel="To:"\n\t\t:isLabelInline="true"\n\t\t@change="change"\n\t/>\n</template>\n\n<script>\nimport PreviewFieldBaseAutosuggest from \'./PreviewFieldBaseAutosuggest.vue\';\n\nexport default {\n\textends: PreviewFieldBaseAutosuggest,\n};\n<\/script>\n',Xb="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldBase](#/component/Form/fields/FieldBase). |\n| `apiUrl` | A URL where suggestions can be retrieved. Suggestions are expected to be returned in a flat array. |\n| `deselectLabel` | A text label for the button to remove a selection. This must be included to be compatible with assistive technology. |\n| `isDisabled` | Whether the input field should be disabled. Default: `false` |\n| `isLabelInline` | When `true`, the label for this field will be shown inline instead of above the input field. See usage guidance below. |\n| `getParams` | Any query params that should be applied when getting suggestions from the API. |\n| `selected` | The currently selected options for this field. These should be objects with `value` and `label` keys. |\n| `selectedLabel` | A text label that proceeds the selected values. This must be included to be compatible with assistive technology. |\n\n## Events\n\nSee [FieldBase](#/component/Form/fields/FieldBase).\n\n## Usage\n\nThis is a base component and should not be used directly. Instead, create a new component that extends `FieldBaseAutosuggest` to create an autosuggest field.\n\nEvery component that extends `FieldBaseAutosuggest` must provide a `setSuggestions` method which will convert the API response to a suggestion.\n\n```js\nimport FieldBaseAutosuggest from './FieldBaseAutosuggest.vue';\n\nexport default {\n\textends: FieldBaseAutosuggest,\n\tmethods: {\n\t\tsetSuggestions(newItems) {\n\t\t\tthis.suggestions = newItems.map(item => {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: item.id,\n\t\t\t\t\tlabel: item.title\n\t\t\t\t};\n\t\t\t})\n\t\t}\n\t}\n}\n```\n\nThe `value` is submitted with the form.\n\n## Inline Labels\n\nDo not use `isLabelInline` unless a designer has recommended this approach. A form that uses inline labels should be designed specifically to support them.\n\n## Implementations\n\nThe following autosuggest fields are available to be used.\n\n- `FieldAutosuggestPreset` can be used to when the options can be preset instead of requiring a request to the REST API.\n- `FieldControlledVocab` can be used to enter metadata such as keywords and subjects.\n- `FieldSelectSubmissions` can be used to find and select submissions.",Qb={extends:H,data(){return{name:"FieldBaseAutosuggest",parentRoute:"Form/fields",readme:Xb,examples:[{component:Ub,name:"Base",template:this.extractTemplate(Ob)},{component:Wb,name:"Disabled",template:this.extractTemplate(Vb)},{component:Yb,name:"Inline",template:this.extractTemplate(Jb)}]}}},tf=Qb,ef=(0,T.Z)(tf,Jc,Xc,!1,null,null,null),nf=ef.exports,sf="<template>\n\t<field-text v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldText from '@/components/Form/fields/FieldText.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport email from '../../../helpers/field-text-email';\n\nexport default {\n\tcomponents: {\n\t\tFieldText,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...email,\n\t\t\t\tisRequired: false,\n\t\t\t},\n\t\t};\n\t},\n\tmethods: {\n\t\tchange(name, prop, newValue, localeKey) {\n\t\t\tif (localeKey) {\n\t\t\t\tthis.field[prop][localeKey] = newValue;\n\t\t\t} else {\n\t\t\t\tthis.field[prop] = newValue;\n\t\t\t}\n\t\t},\n\t},\n};\n<\/script>\n",af=function(){var t=this,e=t._self._c;return e("field-text",t._b({attrs:{label:"Journal Initials",description:"Enter two to four letters that uniquely identify your journal.",value:""}},"field-text",t.field,!1))},lf=[],rf={components:{FieldText:Ps},data(){return{field:nh}}},of=rf,df=(0,T.Z)(of,af,lf,!1,null,null,null),pf=df.exports,cf='<template>\n\t<field-text\n\t\tv-bind="field"\n\t\tlabel="Journal Initials"\n\t\tdescription="Enter two to four letters that uniquely identify your journal."\n\t\tvalue=""\n\t/>\n</template>\n\n<script>\nimport FieldText from \'@/components/Form/fields/FieldText.vue\';\nimport fieldBase from \'../../../helpers/field-base\';\n\nexport default {\n\tcomponents: {\n\t\tFieldText,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: fieldBase,\n\t\t};\n\t},\n};\n<\/script>\n',uf=function(){var t=this,e=t._self._c;return e("field-text",t._b({attrs:{label:"Journal Initials",tooltip:"Enter two to four letters that uniquely identify your journal.",value:""}},"field-text",t.field,!1))},mf=[],hf={components:{FieldText:Ps},data(){return{field:nh}}},bf=hf,ff=(0,T.Z)(bf,uf,mf,!1,null,null,null),gf=ff.exports,vf='<template>\n\t<field-text\n\t\tv-bind="field"\n\t\tlabel="Journal Initials"\n\t\ttooltip="Enter two to four letters that uniquely identify your journal."\n\t\tvalue=""\n\t/>\n</template>\n\n<script>\nimport FieldText from \'@/components/Form/fields/FieldText.vue\';\nimport fieldBase from \'../../../helpers/field-base\';\n\nexport default {\n\tcomponents: {\n\t\tFieldText,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: fieldBase,\n\t\t};\n\t},\n};\n<\/script>\n',_f=function(){var t=this,e=t._self._c;return e("field-text",t._b({attrs:{label:"Journal Initials",value:"JP K"}},"field-text",t.field,!1))},yf=[],kf={components:{FieldText:Ps},data(){return{field:{...nh,name:"initials",allErrors:{initials:["The journal initials can not contain any spaces."]}}}}},wf=kf,Sf=(0,T.Z)(wf,_f,yf,!1,null,null,null),Tf=Sf.exports,Ff="<template>\n\t<field-text v-bind=\"field\" label=\"Journal Initials\" value=\"JP K\" />\n</template>\n\n<script>\nimport FieldText from '@/components/Form/fields/FieldText.vue';\nimport fieldBase from '../../../helpers/field-base';\n\nexport default {\n\tcomponents: {\n\t\tFieldText,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\tname: 'initials',\n\t\t\t\tallErrors: {\n\t\t\t\t\tinitials: ['The journal initials can not contain any spaces.'],\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",xf="## Props\n\n| Key | Description |\n| --- | --- |\n| `name` | The key for this field. Used in the `name` attribute of `<input>`, `<textarea>`, `<select>` and other fields. The form will submit the value for this field under this name, so it must match an accepted value of the API endpoint. |\n| `component` | Used internally to load the appropriate component. For example, to load the `FieldText` component this should be `field-text`. |\n| `label` | The `<label>` for this field. May be used in a `<fieldset>` when appropriate. All form fields should have an accessible label. |\n| `description` | Adds a description to the field. Can include HTML code. |\n| `tooltip` | Adds a tooltip to the field. Can include HTML code. |\n| `helpTopic` | Adds a button to the field which will open the in-app help panel to this topic. |\n| `helpSection` | When the in-app help panel is opened to `helpTopic`, it will scroll to `helpSection` if included. |\n| `groupId` | The ID of the group this field should appear in. |\n| `formId` | The ID of the form this field should appear in. This is passed down from the `Form`. |\n| `isRequired` | Whether or not a value for this field should be required. |\n| `isMultilingual` | Whether or not this field should be presented for each supported language. |\n| `localeKey` | If the field `isMultilingual`, this will be set to the locale key of this particular instance. This is passed down from the `Form`. |\n| `primaryLocale` | The primary locale for this form. This is passed down from the `Form`. |\n| `locales` | The locales supported by this form. This is passed down from the `Form`. |\n| `showWhen` | The `name` of another field which should have a truthy value before this field is shown. You can also pass an array to require a specific value. For example, `['primaryLocale', 'en_US']` would hide this field unless the `primaryLocale` field had a value of `en_US`. |\n| `value` | The current value. |\n| `allErrors` | An object containing all errors in the form. This is passed down from the `Form`. |\n\n## Events\n\n| Key | Description |\n| --- | --- |\n| `change` | Emitted when the value of the field changes. Payload: `(name, property, value, [localeKey])`. The `localeKey` will be null for fields that are not multilingual. This event is fired every time the value changes, so you should [debounce](https://www.npmjs.com/package/debounce) event callbacks that contain resource-intensive code.\n\n## Usage\n\nThis is a base component for all `Field*` components. The props described above are available for all `Field*` components.\n\nThis component should *not* be used directly. It is presented for demonstration purposes only. Use one of the other form field components.\n",Pf={extends:H,data(){return{name:"FieldBase",parentRoute:"Form/fields",readme:xf,examples:[{component:ib,name:"Base",template:this.extractTemplate(sf)},{component:pf,name:"With Description",template:this.extractTemplate(cf)},{component:gf,name:"With Tooltip",template:this.extractTemplate(vf)},{component:Tf,name:"With Error",template:this.extractTemplate(Ff)}]}}},Lf=Pf,Cf=(0,T.Z)(Lf,Qc,tu,!1,null,null,null),Af=Cf.exports,If=function(){var t=this,e=t._self._c;return e("field-color",t._b({on:{change:t.change}},"field-color",t.field,!1))},Df=[],Ef={name:"color",component:"field-color",label:"Color",value:"#006798"},Rf={extends:ib,components:{FieldColor:Jn},data(){return{field:{...nh,...Ef}}}},Bf=Rf,Uf=(0,T.Z)(Bf,If,Df,!1,null,null,null),Of=Uf.exports,Mf="<template>\n\t<field-color v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldColor from '@/components/Form/fields/FieldColor.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport fieldColor from '../../../helpers/field-color';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldColor,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...fieldColor,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",$f="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldBase](#/component/Form/fields/FieldBase). |\n| `value` | The current value for this field. |\n\n## Events\n\nSee [FieldBase](#/component/Form/fields/FieldBase).\n\n## Usage\n\nUse this component when you want the user to select a hex color value. This component is only recommended for use in theme settings, but in special circumstances may be used elsewhere.\n",Nf={extends:H,data(){return{name:"FieldColor",parentRoute:"Form/fields",readme:$f,examples:[{component:Of,name:"Base",template:this.extractTemplate(Mf)}]}}},jf=Nf,qf=(0,T.Z)(jf,eu,nu,!1,null,null,null),Wf=qf.exports,Vf=function(){var t=this,e=t._self._c;return e("field-pub-id",t._b({on:{change:t.change}},"field-pub-id",t.field,!1))},Kf=[],zf={name:"doi",component:"field-pub-id",label:"DOI",value:"",contextInitials:"PKP",issueNumber:"2",issueVolume:"14",pattern:"%j.v%vi%i.%a",prefix:"10.1234",separator:"/",submissionId:21,year:"2019",assignIdLabel:"Assign DOI",clearIdLabel:"Clear DOI",missingPartsLabel:"You can not generate a DOI because one or more parts of the DOI pattern are missing data. You may need to assign the publication to an issue, set a publisher ID or enter page numbers.",missingIssueLabel:"You can not generate a DOI until this publication has been assigned to an issue."},Hf={extends:ib,components:{FieldPubId:ri},data(){return{field:{...nh,...zf}}}},Zf=Hf,Gf=(0,T.Z)(Zf,Vf,Kf,!1,null,null,null),Yf=Gf.exports,Jf="<template>\n\t<field-pub-id v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldPubId from '@/components/Form/fields/FieldPubId.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-doi';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldPubId,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",Xf="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldBase](#/component/Form/fields/FieldBase) except those related to multilingual input. A pub id is never multilingual. |\n| `value` | The current value for this field. |\n| `isPForPress` | Whether or not a `%p` in the `pattern` stands for the context initials or page numbers. This is used in OMP when generating a pub id. |\n| `issueNumber` | The number of the issue this publication is assigned to. Used when generating a pub id. |\n| `issueVolume` | The volume of the issue this publication is assigned to. Used when generating a pub id. |\n| `pages` | The pages of this publication. Used when generating a pub id.\n| `pattern` | The pattern to use when generating a pub id. This is configured in the pub id plugin settings. |\n| `prefix` | The pub id prefix to use when generating a pub id. This is configured in the pub id plugin settings. |\n| `publisherId` | The publisher id of this publication. Used when generating a pub id. |\n| `separator` | An optional separator to be added between the pub id prefix and suffix when generating the pub id. |\n| `submissionId` | The id of the submission for which a pub id will be generated. Used when generating a pub id. |\n| `publicationId` | The id of the publication for which a pub id will be generated. Used when generating a pub id. |\n| `year` | The year this publication was published. Will represent the issue's publication date if no `datePublished` exists for the publication. Used when generating a pub id. |\n\n## Events\n\nSee [FieldBase](#/component/Form/fields/FieldBase).\n\n## Usage\n\nThis component is a special field for setting a pub id, like a DOI, based on pre-configured settings in a pub id plugin. When the plugin settings permit a pub id to be customized directly, a [FieldText](./FieldText) should be used instead.\n",Qf={extends:H,data(){return{name:"FieldPubId",parentRoute:"Form/fields",readme:Xf,examples:[{component:Yf,name:"Base",template:this.extractTemplate(Jf)}]}}},tg=Qf,eg=(0,T.Z)(tg,iu,su,!1,null,null,null),ng=eg.exports,ig=function(){var t=this,e=t._self._c;return e("field-html",t._b({on:{change:t.change}},"field-html",t.field,!1))},sg=[],ag={name:"lorem",component:"field-html",label:"Lorem Ipsum",description:'<p>Dolor sit amet, consectetur adipiscing elit. Sed massa est, finibus vulputate justo ac, vestibulum gravida <a href="#">magna</a>. Donec quis sagittis sapien. Ut tincidunt scelerisque nunc ut malesuada.</p><ul><li>One</li><li>Two</li></ul><p>Nullam quis eros quis justo blandit dignissim. Proin eget aliquet ligula, id ultrices elit.</p>'},lg={extends:ib,components:{FieldHtml:mi},data(){return{field:{...nh,...ag}}}},rg=lg,og=(0,T.Z)(rg,ig,sg,!1,null,null,null),dg=og.exports,pg="<template>\n\t<field-html v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldHtml from '@/components/Form/fields/FieldHtml.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-html-lorem';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldHtml,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",cg="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldBase](#/component/Form/fields/FieldBase) except `value`. |\n\n## Events\n\nSee [FieldBase](#/component/Form/fields/FieldBase).\n\n## Usage\n\nThis component allows you to insert a block of HTML code between fields in a form. The HTML code should go into the `description` prop and you can choose not to include a `label`.\n",ug={extends:H,data(){return{name:"FieldHtml",parentRoute:"Form/fields",readme:cg,examples:[{component:dg,name:"Base",template:this.extractTemplate(pg)}]}}},mg=ug,hg=(0,T.Z)(mg,au,lu,!1,null,null,null),bg=hg.exports,fg=function(){var t=this,e=t._self._c;return e("field-metadata-setting",t._b({on:{change:t.change}},"field-metadata-setting",t.field,!1))},gg=[],vg={name:"metadata",component:"field-metadata-setting",label:"Keywords",description:"Keywords are typically one- to three-word phrases that are used to indicate the main topics of a submission.",value:0,disabledValue:0,enabledOnlyValue:"enable",options:[{value:"enable",label:"Enable keyword metadata"}],submissionOptions:[{value:"enable",label:"Do not request keywords from the author during submission."},{value:"request",label:"Ask the author to suggest keywords during submission."},{value:"require",label:"Require the author to suggest keywords before accepting their submission."}]},_g={extends:ib,components:{FieldMetadataSetting:_i},data(){return{field:{...nh,...vg}}}},yg=_g,kg=(0,T.Z)(yg,fg,gg,!1,null,null,null),wg=kg.exports,Sg="<template>\n\t<field-metadata-setting v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldMetadataSetting from '@/components/Form/fields/FieldMetadataSetting.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport fieldMetadata from '../../../helpers/field-metadata';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldMetadataSetting,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...fieldMetadata,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",Tg="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldBase](#/component/Form/fields/FieldBase). |\n| `value` | The current value for this field. |\n| `disabledValue` | The value which matches a disabled state. Usually the `METADATA_DISABLE` constant. |\n| `enabledOnlyValue` | The value which matches an enabled state, but not when it is requested or required during submission. Usually the `METADATA_ENABLE` constant. |\n| `submissionOptions` | Options for when the metadata should be requested or required. Usually includes the `METADATA_ENABLE`, `METADATA_REQUEST` and `METADATA_REQUIRE` constants. |\n\n## Events\n\nSee [FieldBase](#/component/Form/fields/FieldBase).\n\n## Usage\n\nThis component is a special field for enabling and configuring metadata. It's use is not recommended for other purposes.\n",Fg={extends:H,data(){return{name:"FieldMetadataSetting",parentRoute:"Form/fields",readme:Tg,examples:[{component:wg,name:"Base",template:this.extractTemplate(Sg)}]}}},xg=Fg,Pg=(0,T.Z)(xg,ru,ou,!1,null,null,null),Lg=Pg.exports,Cg=function(){var t=this,e=t._self._c;return e("field-options",t._b({on:{change:t.change}},"field-options",t.field,!1))},Ag=[],Ig={name:"user-locales",component:"field-options",label:"Working Languages",description:"We use this to adjust your email notifications and the information we request from you.",type:"checkbox",isOrderable:!1,value:[],options:[{value:"en",label:"English"},{value:"fr_CA",label:"French"},{value:"ar",label:"عربى"}],groupId:"preferences"},Dg={extends:ib,components:{FieldOptions:vn},data(){return{field:{...nh,...Ig}}}},Eg=Dg,Rg=(0,T.Z)(Eg,Cg,Ag,!1,null,null,null),Bg=Rg.exports,Ug="<template>\n\t<field-options v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldOptions from '@/components/Form/fields/FieldOptions.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-options-user-locales';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldOptions,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",Og=function(){var t=this,e=t._self._c;return e("field-options",t._b({on:{change:t.change}},"field-options",t.field,!1))},Mg=[],$g={name:"email-options",component:"field-options",label:"Email Options",description:"How would you like to receive email notifications?",value:[],type:"radio",showWhen:"options-confirmation",options:[{value:"asap",label:"As soon as possible"},{value:"daily",label:"Once a day"},{value:"weekly",label:"Once a week"}],groupId:"preferences"},Ng={extends:ib,components:{FieldOptions:vn},data(){return{field:{...nh,...$g}}}},jg=Ng,qg=(0,T.Z)(jg,Og,Mg,!1,null,null,null),Wg=qg.exports,Vg="<template>\n\t<field-options v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldOptions from '@/components/Form/fields/FieldOptions.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-options-emails';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldOptions,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",Kg=function(){var t=this,e=t._self._c;return e("field-options",t._b({on:{change:t.change}},"field-options",t.field,!1))},zg=[],Hg={name:"options-confirmation",component:"field-options",label:"Email Preferences",description:"",type:"checkbox",value:!1,options:[{value:!0,label:"Yes, I would like to receive emails. Yes, I would like to receive emails. Yes, I would like to receive emails. Yes, I would like to receive emails. "}],groupId:"preferences"},Zg={extends:ib,components:{FieldOptions:vn},data(){return{field:{...nh,...Hg}}}},Gg=Zg,Yg=(0,T.Z)(Gg,Kg,zg,!1,null,null,null),Jg=Yg.exports,Xg="<template>\n\t<field-options v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldOptions from '@/components/Form/fields/FieldOptions.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-options-confirmation';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldOptions,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",Qg=function(){var t=this,e=t._self._c;return e("field-options",t._b({on:{change:t.change}},"field-options",t.field,!1))},tv=[],ev={name:"options-orderable",component:"field-options",label:"Sidebar",description:"Select which sidebar blocks to display and change their order.",type:"checkbox",isOrderable:!0,value:["languagetoggleblockplugin","developedbyblockplugin"],options:[{value:"informationblockplugin",label:"Information Block"},{value:"languagetoggleblockplugin",label:"Language Toggle Block"},{value:"developedbyblockplugin",label:'"Developed By" Block'}]},nv={extends:ib,components:{FieldOptions:vn},data(){return{field:{...nh,...ev}}}},iv=nv,sv=(0,T.Z)(iv,Qg,tv,!1,null,null,null),av=sv.exports,lv="<template>\n\t<field-options v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldOptions from '@/components/Form/fields/FieldOptions.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-options-orderable';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldOptions,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",rv="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldBase](#/component/Form/fields/FieldBase). |\n| `value` | The current value for this field. |\n| `type` | Type of the `<input>` field. Either `checkbox` or `radio`. Default: `checkbox`. |\n| `isOrderable` | Allow the user to reorder the options. Reordering will resort the items in the `value` property. Default: `false`. |\n| `options` | An array of objects defining the options which can be selected. |\n\n## Events\n\nSee [FieldBase](#/component/Form/fields/FieldBase).\n\n## Usage\n\nUse this component for selecting one or more options from a list. If the list of items is short, use this component instead of a [`FieldSelect`](#/component/Form/fields/FieldSelect).\n\n## Confirm fields and boolean values\n\nWhen using this component as a confirmation field, the `value` prop passed to the field should be `true` or `false`.\n\nThis differs from the field's normal `value` type, which is an array.\n\n## Orderable options\n\nPass the `isOrderable` prop when you want the order of options to be preserved. When options are reordered, their position in the `value` array will be updated.\n",ov={extends:H,data(){return{name:"FieldOptions",parentRoute:"Form/fields",readme:rv,examples:[{component:Bg,name:"Base",template:this.extractTemplate(Ug)},{component:Wg,name:"Radio",template:this.extractTemplate(Vg)},{component:Jg,name:"Confirm",template:this.extractTemplate(Xg)},{component:av,name:"Orderable",template:this.extractTemplate(lv)}]}}},dv=ov,pv=(0,T.Z)(dv,du,pu,!1,null,null,null),cv=pv.exports,uv=function(){var t=this,e=t._self._c;return e("field-prepared-content",t._b({attrs:{insertLabel:"Insert",insertModalLabel:"Insert Content",preparedContent:t.preparedContent,preparedContentLabel:"Content",searchLabel:"Find content to insert"},on:{change:t.change}},"field-prepared-content",t.field,!1))},mv=[],hv={name:"description",component:"field-rich-textarea",label:"Journal Description",value:"",plugins:"paste,link,lists,image,code",toolbar:"bold italic superscript subscript | link | blockquote bullist numlist | image | code"},bv={extends:ib,components:{FieldPreparedContent:Ki},data(){return{field:{...nh,...hv,label:"Accepted Email Template",isMultilingual:!1,size:"large",value:'<p>Hi {$recipientName},</p>\n\t\t\t\t\t<p>We are delighted to inform you that your submission, "{$submissionTitle}", has been accepted to the {$journalName}.</p>\n\t\t\t\t\t<p>At this time, we ask you to please let us know if there are any further adjustments you would like to make before our copyeditor begins working on it.</p>\n\t\t\t\t\t<p>Please let us know by {$revisionsDueDate}.</p>\n\t\t\t\t\t<p>Sincerely,<br>\n\t\t\t\t\t{$signature}</p>'},preparedContent:[...Qp]}}},fv=bv,gv=(0,T.Z)(fv,uv,mv,!1,null,null,null),vv=gv.exports,_v='<template>\n\t<field-prepared-content\n\t\tv-bind="field"\n\t\tinsertLabel="Insert"\n\t\tinsertModalLabel="Insert Content"\n\t\t:preparedContent="preparedContent"\n\t\tpreparedContentLabel="Content"\n\t\tsearchLabel="Find content to insert"\n\t\t@change="change"\n\t/>\n</template>\n\n<script>\nimport FieldPreparedContent from \'@/components/Form/fields/FieldPreparedContent.vue\';\nimport PreviewFieldBase from \'../../FieldBase/previews/PreviewFieldBase.vue\';\nimport fieldBase from \'../../../helpers/field-base\';\nimport field from \'../../../helpers/field-rich-textarea-description\';\nimport insertContent from \'../../../../../data/insertContent\';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldPreparedContent,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t\tlabel: \'Accepted Email Template\',\n\t\t\t\tisMultilingual: false,\n\t\t\t\tsize: \'large\',\n\t\t\t\tvalue: `<p>Hi {$recipientName},</p>\n\t\t\t\t\t<p>We are delighted to inform you that your submission, "{$submissionTitle}", has been accepted to the {$journalName}.</p>\n\t\t\t\t\t<p>At this time, we ask you to please let us know if there are any further adjustments you would like to make before our copyeditor begins working on it.</p>\n\t\t\t\t\t<p>Please let us know by {$revisionsDueDate}.</p>\n\t\t\t\t\t<p>Sincerely,<br>\n\t\t\t\t\t{$signature}</p>`,\n\t\t\t},\n\t\t\tpreparedContent: [...insertContent],\n\t\t};\n\t},\n};\n<\/script>\n',yv="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldRichTextarea](#/component/Form/fields/FieldRichTextarea). |\n| `preparedContent` | An optional object containing preset information. When preset information exists, a button will appear in the toolbar. See the [Prepared Content](#/component/Form/fields/FieldPreparedContent) example. |\n\n## Events\n\nSee [FieldRichTextarea](#/component/Form/fields/FieldRichTextarea).\n\n## Usage\n\nUse this component to provide the user with a rich text editor with prepared content that they can insert through a modal UI.\n\nThe `preparedContent` prop allows you to pass content to the editor and give the user a point-and-click tool to add that content. This is intended to be used in cases where data can be rendered inside of an email template.\n\nWhen an editor is assigning a reviewer, the reviewer's name and the due date can be passed to the editor so that the editor can inject this information directly into the email.\n",kv={extends:H,data(){return{name:"FieldPreparedContent",parentRoute:"Form/fields",readme:yv,examples:[{component:vv,name:"Base",template:this.extractTemplate(_v)}]}}},wv=kv,Sv=(0,T.Z)(wv,cu,uu,!1,null,null,null),Tv=Sv.exports,Fv=function(){var t=this,e=t._self._c;return e("field-radio-input",t._b({on:{change:t.change}},"field-radio-input",t.field,!1))},xv=[],Pv={name:"radio-input",component:"field-radio-input",label:"Select an option or input your own",value:"something",options:[{value:"one",label:"One"},{value:"two",label:"Two"},{label:"Any",isInput:!0}]},Lv={extends:ib,components:{FieldRadioInput:Ji},data(){return{field:{...nh,...Pv}}}},Cv=Lv,Av=(0,T.Z)(Cv,Fv,xv,!1,null,null,null),Iv=Av.exports,Dv="<template>\n\t<field-radio-input v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldRadioInput from '@/components/Form/fields/FieldRadioInput.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-radio-input';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldRadioInput,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",Ev='## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldBase](#/component/Form/fields/FieldBase). |\n| `...` | Supports all props in [FieldOptions](#/component/Form/fields/FieldOptions). |\n| `options` | A list of the options as described in [FieldOptions](#/component/Form/fields/FieldOptions), with additional support for an input field. See [Custom Input](#custom-input) |\n\n## Events\n\nSee [FieldBase](#/component/Form/fields/FieldBase).\n\n## Usage\n\nUse this component for selecting one option from a list of known responses, while allowing the user to enter their own response.\n\nThis component extends [`FieldOptions`](#/component/Form/fields/FieldOptions), but it does not support checkboxes, ordering or usage as a confirmation field.\n\n## Custom input\n\nWhen creating an option with a custom input field, pass the `isInput` key instead of the `value` key.\n\n\n```js\n[\n\t{\n\t\tvalue: 1,\n\t\tlabel: "One"\n\t},\n\t{\n\t\tvalue: 2,\n\t\tlabel: "Two"\n\t},\n\t{\n\t\tisInput: true\n\t}\n]\n',Rv={extends:H,data(){return{name:"FieldRadioInput",parentRoute:"Form/fields",readme:Ev,examples:[{component:Iv,name:"Base",template:this.extractTemplate(Dv)}]}}},Bv=Rv,Uv=(0,T.Z)(Bv,mu,hu,!1,null,null,null),Ov=Uv.exports,Mv=function(){var t=this,e=t._self._c;return e("field-rich-textarea",t._b({attrs:{value:""},on:{change:t.change}},"field-rich-textarea",t.field,!1))},$v=[],Nv={name:"bio",component:"field-rich-textarea",label:"Bio Statement",groupId:"profile",plugins:"paste,link,noneditable",toolbar:"bold italic superscript subscript | link",tooltip:"Your biographical statement will usually include your department and rank, and may include research interests or key publications.",value:{en:"",fr_CA:"",ar:""},isMultilingual:!0},jv={extends:ib,components:{FieldRichTextarea:Li},data(){return{field:{...nh,...Nv,isMultilingual:!1}}}},qv=jv,Wv=(0,T.Z)(qv,Mv,$v,!1,null,null,null),Vv=Wv.exports,Kv="<template>\n\t<field-rich-textarea v-bind=\"field\" value=\"\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldRichTextarea from '@/components/Form/fields/FieldRichTextarea.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-rich-textarea-bio';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldRichTextarea,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t\tisMultilingual: false,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",zv=function(){var t=this,e=t._self._c;return e("field-rich-textarea",t._b({attrs:{size:"large",value:""},on:{change:t.change}},"field-rich-textarea",t.field,!1))},Hv=[],Zv={extends:ib,components:{FieldRichTextarea:Li},data(){return{field:{...nh,...Nv,isMultilingual:!1}}}},Gv=Zv,Yv=(0,T.Z)(Gv,zv,Hv,!1,null,null,null),Jv=Yv.exports,Xv="<template>\n\t<field-rich-textarea v-bind=\"field\" size=\"large\" value=\"\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldRichTextarea from '@/components/Form/fields/FieldRichTextarea.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-rich-textarea-bio';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldRichTextarea,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t\tisMultilingual: false,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",Qv=function(){var t=this,e=t._self._c;return e("field-rich-textarea",t._b({attrs:{toolbar:"bold italic superscript subscript | link | blockquote bullist numlist",plugins:"paste,link,noneditable,lists",value:""},on:{change:t.change}},"field-rich-textarea",t.field,!1))},t_=[],e_={extends:ib,components:{FieldRichTextarea:Li},data(){return{field:{...nh,...Nv,isMultilingual:!1}}}},n_=e_,i_=(0,T.Z)(n_,Qv,t_,!1,null,null,null),s_=i_.exports,a_='<template>\n\t<field-rich-textarea\n\t\tv-bind="field"\n\t\ttoolbar="bold italic superscript subscript | link | blockquote bullist numlist"\n\t\tplugins="paste,link,noneditable,lists"\n\t\tvalue=""\n\t\t@change="change"\n\t/>\n</template>\n\n<script>\nimport FieldRichTextarea from \'@/components/Form/fields/FieldRichTextarea.vue\';\nimport PreviewFieldBase from \'../../FieldBase/previews/PreviewFieldBase.vue\';\nimport fieldBase from \'../../../helpers/field-base\';\nimport field from \'../../../helpers/field-rich-textarea-bio\';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldRichTextarea,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t\tisMultilingual: false,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n',l_=function(){var t=this,e=t._self._c;return e("field-rich-textarea",t._b({attrs:{toolbar:"bold italic superscript subscript | link | blockquote bullist numlist | image | code",plugins:"paste,link,lists,image,code",value:""},on:{change:t.change}},"field-rich-textarea",t.field,!1))},r_=[],o_={extends:ib,components:{FieldRichTextarea:Li},data(){return{field:{...nh,...hv,isMultilingual:!1}}}},d_=o_,p_=(0,T.Z)(d_,l_,r_,!1,null,null,null),c_=p_.exports,u_='<template>\n\t<field-rich-textarea\n\t\tv-bind="field"\n\t\ttoolbar="bold italic superscript subscript | link | blockquote bullist numlist | image | code"\n\t\tplugins="paste,link,lists,image,code"\n\t\tvalue=""\n\t\t@change="change"\n\t/>\n</template>\n\n<script>\nimport FieldRichTextarea from \'@/components/Form/fields/FieldRichTextarea.vue\';\nimport PreviewFieldBase from \'../../FieldBase/previews/PreviewFieldBase.vue\';\nimport fieldBase from \'../../../helpers/field-base\';\nimport field from \'../../../helpers/field-rich-textarea-description\';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldRichTextarea,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t\tisMultilingual: false,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n',m_=function(){var t=this,e=t._self._c;return e("field-rich-textarea",t._b({attrs:{value:""},on:{change:t.change}},"field-rich-textarea",t.field,!1))},h_=[],b_={name:"abstract",component:"field-rich-textarea",label:"Abstract",description:"The abstract must be less than 300 words.",isRequired:!0,plugins:"paste,link,noneditable",toolbar:"bold italic superscript subscript | link",value:{en:"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>",fr_CA:"",ar:""},isMultilingual:!0,wordCountLabel:"Word Count: {$count}/{$limit}",wordLimit:200},f_={extends:ib,components:{FieldRichTextarea:Li},data(){return{field:{...nh,...b_,wordLimit:200,wordCountLabel:"Word Count: {$count}/{$limit}",isMultilingual:!1}}}},g_=f_,v_=(0,T.Z)(g_,m_,h_,!1,null,null,null),__=v_.exports,y_="<template>\n\t<field-rich-textarea v-bind=\"field\" value=\"\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldRichTextarea from '@/components/Form/fields/FieldRichTextarea.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-rich-textarea-abstract';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldRichTextarea,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t\twordLimit: 200,\n\t\t\t\twordCountLabel: 'Word Count: {$count}/{$limit}',\n\t\t\t\tisMultilingual: false,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",k_="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldBase](#/component/Form/fields/FieldBase). |\n| `value` | The current value for this field. |\n| `init` | Provide config properties for TinyMCE's `init` method. Any props you pass will be merged with defaults and can override them. See [TinyMCE documentation](https://www.tiny.cloud/docs/configure/integration-and-setup/). |\n| `plugins` | Specify plugins the TinyMCE editor should load. See [TinyMCE documentation](https://www.tiny.cloud/docs/configure/integration-and-setup/#plugins). |\n| `size` | One of `default` or `large`. Default: `default`. |\n| `toolbar` | Provide the TinyMCE editor with a custom toolbar. See [TinyMCE documentation](https://www.tinymce.com/docs/configure/editor-appearance/#toolbar). |\n| `uploadUrl` | Optionally provide a URL where images and other files can be uploaded. You still need to add the appropriate buttons and plugins to the `toolbar` and `plugins` props. The most common use is the [image](https://www.tiny.cloud/docs/plugins/image/) plugin. |\n| `wordLimit` | Optionally provide a word limit and the editor will display the word count as they type. |\n\n## Events\n\nSee [FieldBase](#/component/Form/fields/FieldBase).\n\n## Usage\n\nUse this component to provide the user with a rich text editor that supports bold, italics, links and other HTML code.\n\nThis component uses the TinyMCE editor. You can pass `toolbar`, `plugins` and `init` props to customize the editor. See the [TinyMCE documentation](https://www.tiny.cloud/docs/configure/integration-and-setup/).\n\nThe `size` of the input area will signal to the user how much information they should enter into the field.\n\nThe default `size` is best for one to two large paragraphs. If you expect a user to enter more than that, consider using the large size when it fits appropriately within the the form where it appears.\n\n## Image Uploads\n\nThe editor will support image uploads, which are placed in the user's directory in the `public` files directory. You must provide the URL to the public files API and add the plugin and toolbar button.\n\n```js\n{\n\t...\n\tuploadUrl: 'http://journal.com/api/v1/_uploadPublicFile',\n\ttoolbar: 'bold italic | link | image',\n\tplugins: 'paste,link,image'\n}\n```\n\nThe image upload will _not_ work in this documented example. It requires a valid upload URL. Use the following to get the `uploadUrl` from within a PKP application:\n\n```php\n$dispatcher = Application::get()\n\t->getRequest()\n\t->getDispatcher();\n\n$uploadUrl = $dispatcher->url(\n\tApplication::get()->getRequest(),\n\tROUTE_API,\n\t$context->getPath(),\n\t'_uploadPublicFile'\n);\n```\n\nUsers must be logged in to upload files.\n",w_={extends:H,data(){return{name:"FieldRichTextarea",parentRoute:"Form/fields",readme:k_,examples:[{component:Vv,name:"Base",template:this.extractTemplate(Kv)},{component:Jv,name:"Large",template:this.extractTemplate(Xv)},{component:s_,name:"Medium Toolbar",template:this.extractTemplate(a_)},{component:c_,name:"Heavy Toolbar",template:this.extractTemplate(u_)},{component:__,name:"Word Limit",template:this.extractTemplate(y_)}]}}},S_=w_,T_=(0,T.Z)(S_,bu,fu,!1,null,null,null),F_=T_.exports,x_=function(){var t=this,e=t._self._c;return e("field-select",t._b({on:{change:t.change}},"field-select",t.field,!1))},P_=[],L_={name:"country",component:"field-select",label:"Country",options:[{value:"",label:"Select a country",disabled:!0},{value:"AF",label:"Afghanistan"},{value:"AL",label:"Albania"},{value:"DZ",label:"Algeria"},{value:"AS",label:"American Samoa"},{value:"AD",label:"Andorra"},{value:"AO",label:"Angola"},{value:"AI",label:"Anguilla"},{value:"AQ",label:"Antarctica"},{value:"AG",label:"Antigua and Barbuda"},{value:"AR",label:"Argentina"},{value:"AM",label:"Armenia"},{value:"AW",label:"Aruba"},{value:"AU",label:"Australia"},{value:"AT",label:"Austria"},{value:"AZ",label:"Azerbaijan"},{value:"BS",label:"Bahamas"},{value:"BH",label:"Bahrain"},{value:"BD",label:"Bangladesh"},{value:"BB",label:"Barbados"},{value:"BY",label:"Belarus"},{value:"BE",label:"Belgium"},{value:"BZ",label:"Belize"},{value:"BJ",label:"Benin"},{value:"BM",label:"Bermuda"},{value:"BT",label:"Bhutan"},{value:"BO",label:"Bolivia, Plurinational State of"},{value:"BQ",label:"Bonaire, Sint Eustatius and Saba"},{value:"BA",label:"Bosnia and Herzegovina"},{value:"BW",label:"Botswana"},{value:"BV",label:"Bouvet Island"},{value:"BR",label:"Brazil"},{value:"IO",label:"British Indian Ocean Territory"},{value:"BN",label:"Brunei Darussalam"},{value:"BG",label:"Bulgaria"},{value:"BF",label:"Burkina Faso"},{value:"BI",label:"Burundi"},{value:"CV",label:"Cabo Verde"},{value:"KH",label:"Cambodia"},{value:"CM",label:"Cameroon"},{value:"CA",label:"Canada"},{value:"...",label:"..."}],value:"",groupId:"contact",isRequired:!0},C_={extends:ib,components:{FieldSelect:rs},data(){return{field:{...nh,...L_}}}},A_=C_,I_=(0,T.Z)(A_,x_,P_,!1,null,null,null),D_=I_.exports,E_="<template>\n\t<field-select v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldSelect from '@/components/Form/fields/FieldSelect.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-select-country';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldSelect,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",R_="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldBase](#/component/Form/fields/FieldBase). |\n| `value` | The current value for this field. |\n| `options` | An array of objects defining the options which can be selected. |\n\n## Events\n\nSee [FieldBase](#/component/Form/fields/FieldBase).\n\n## Usage\n\nUse this component for selecting an option from a long list. If the list of items is short, use the [`FieldOptions`](#/component/Form/fields/FieldOptions) component instead.\n",B_={extends:H,data(){return{name:"FieldSelect",parentRoute:"Form/fields",readme:R_,examples:[{component:D_,name:"Base",template:this.extractTemplate(E_)}]}}},U_=B_,O_=(0,T.Z)(U_,gu,vu,!1,null,null,null),M_=O_.exports,$_=function(){var t=this,e=t._self._c;return e("field-select-issue",t._b({on:{change:t.change}},"field-select-issue",t.field,!1))},N_=[],j_={name:"issueId",component:"field-select-issue",label:"Issue",publicationStatus:1,options:[{value:"",label:""},{value:"",label:"--- Future Issues ---"},{value:5,label:"Vol 2 No 1 2019"},{value:4,label:"Vol 1 No 4 2018"},{value:"",label:"--- Back Issues ---"},{value:3,label:"Vol 1 No 3 2019"},{value:2,label:"Vol 1 No 2 2019"},{value:1,label:"Vol 1 No 1 2019"}],value:"",assignLabel:"Assign to Issue",assignedNoticeBase:'This has been assigned to <a href="{$issueUrl}">{$issueName}</a> but it has not been scheduled for publication.',changeIssue:"Change Issue",publishedNoticeBase:'Published in <a href="http://example.com/issue/__issueId__">{$issueName}</a>.',scheduledNoticeBase:'Scheduled for publication in <a href="http://example.com/issue/__issueId__">{$issueName}</a>.',unscheduledNotice:"This has not been scheduled for publication in an issue.",unscheduleLabel:"Unschedule"},q_={extends:ib,components:{FieldSelectIssue:ms},data(){return{field:{...nh,...j_}}}},W_=q_,V_=(0,T.Z)(W_,$_,N_,!1,null,null,null),K_=V_.exports,z_="<template>\n\t<field-select-issue v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldSelectIssue from '@/components/Form/fields/FieldSelectIssue.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-select-issue';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldSelectIssue,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",H_=function(){var t=this,e=t._self._c;return e("field-select-issue",t._b({on:{change:t.change}},"field-select-issue",t.field,!1))},Z_=[],G_={extends:ib,components:{FieldSelectIssue:ms},data(){return{field:{...nh,...j_,publicationStatus:3,value:3}}}},Y_=G_,J_=(0,T.Z)(Y_,H_,Z_,!1,null,null,null),X_=J_.exports,Q_="<template>\n\t<field-select-issue v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldSelectIssue from '@/components/Form/fields/FieldSelectIssue.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-select-issue';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldSelectIssue,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t\tpublicationStatus: 3, // PKPSubmission::STATUS_PUBLISHED\n\t\t\t\tvalue: 3,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",ty=function(){var t=this,e=t._self._c;return e("field-select-issue",t._b({on:{change:t.change}},"field-select-issue",t.field,!1))},ey=[],ny={extends:ib,components:{FieldSelectIssue:ms},data(){return{field:{...nh,...j_,publicationStatus:5,value:4}}}},iy=ny,sy=(0,T.Z)(iy,ty,ey,!1,null,null,null),ay=sy.exports,ly="<template>\n\t<field-select-issue v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldSelectIssue from '@/components/Form/fields/FieldSelectIssue.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-select-issue';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldSelectIssue,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t\tpublicationStatus: 5, // PKPSubmission::STATUS_SCHEDULED\n\t\t\t\tvalue: 4,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",ry="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldBase](#/component/Form/fields/FieldBase). |\n| `value` | The current value for this field. |\n| `options` | An array of objects defining the options which can be selected. |\n| `publicationStatus` | One of the `PKPSubmission::STATUS_` constants. When set to `PKPSubmission::STATUS_QUEUED` or `PKPSubmission::STATUS_PUBLISHED` the issue selection will be hidden. |\n| `publishedNoticeBase` | Text to be displayed when the publication is published in an issue. A string replace will be called to replace `{$issueId}` and `{$issueName}` params with the selected issue. |\n| `scheduledNoticeBase` | Text to be displayed when the publication is scheduled for publication in an issue. A string replace will be called to replace `{$issueId}` and `{$issueName}` params with the selected issue. |\n| `unscheduleLabel` | The label for the button to unschedule a scheduled publication. |\n\n## Events\n\nSee [FieldBase](#/component/Form/fields/FieldBase).\n\n## Usage\n\nA special component for selecting an issue.\n\nWhen a publication is scheduled or published, this field will no longer show the selection options and will instead show a message indicating the issue it was scheduled or published in.\n",oy={extends:H,data(){return{name:"FieldSelectIssue",parentRoute:"Form/fields",readme:ry,examples:[{component:K_,name:"Base",template:this.extractTemplate(z_)},{component:X_,name:"Published",template:this.extractTemplate(Q_)},{component:ay,name:"Scheduled",template:this.extractTemplate(ly)}]}}},dy=oy,py=(0,T.Z)(dy,_u,yu,!1,null,null,null),cy=py.exports,uy=function(){var t=this,e=t._self._c;return e("field-show-ensuring-link",t._b({on:{change:t.change}},"field-show-ensuring-link",t.field,!1))},my=[],hy={name:"show-ensuring-link",component:"field-show-ensuring-link",value:!1,options:[{value:!0,label:"Present a link to <button>How to ensure all files are anonymized</button> during upload."}],message:"\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t\t<p>Hello this is a long message that will require scrolling.</p><ul><li>One</li><li>Two</li></ul>\n\t",modalTitle:"How to ensure all files are anonymized"},by={extends:ib,components:{FieldShowEnsuringLink:ks},data(){return{field:{...nh,...hy}}}},fy=by,gy=(0,T.Z)(fy,uy,my,!1,null,null,null),vy=gy.exports,_y="<template>\n\t<field-show-ensuring-link v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldShowEnsuringLink from '@/components/Form/fields/FieldShowEnsuringLink.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-show-ensuring-link';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldShowEnsuringLink,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",yy="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldBase](#/component/Form/fields/FieldBase). |\n| `value` | The current value for this field. |\n| `message` | The message to display in the popup when the button in the confirmation message is clicked. **Note: the popup will not open in this demonstration.** |\n\n## Events\n\nSee [FieldBase](#/component/Form/fields/FieldBase).\n\n## Usage\n\nThis component is a special field for the setting to show reviewers guidelines on how to ensure anonymous review. It displays a button to open the guidelines in a modal.\n\nThe modal will _not_ open in the demonstration above.\n",ky={extends:H,data(){return{name:"FieldShowEnsuringLink",parentRoute:"Form/fields",readme:yy,examples:[{component:vy,name:"Base",template:this.extractTemplate(_y)}]}}},wy=ky,Sy=(0,T.Z)(wy,ku,wu,!1,null,null,null),Ty=Sy.exports,Fy=function(){var t=this,e=t._self._c;return e("field-text",t._b({on:{change:t.change}},"field-text",t.field,!1))},xy=[],Py={name:"given-name",component:"field-text",inputType:"text",label:"Given Name",isRequired:!0,value:""},Ly={extends:ib,components:{FieldText:Ps},data(){return{field:{...nh,...Py,isRequired:!1}}}},Cy=Ly,Ay=(0,T.Z)(Cy,Fy,xy,!1,null,null,null),Iy=Ay.exports,Dy="<template>\n\t<field-text v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldText from '@/components/Form/fields/FieldText.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-text-given-name';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldText,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t\tisRequired: false,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",Ey=function(){var t=this,e=t._self._c;return e("field-text",t._b({on:{change:t.change}},"field-text",t.field,!1))},Ry=[],By={name:"doi-prefix",component:"field-text",inputType:"text",label:"DOI Prefix",size:"small",value:""},Uy={extends:ib,components:{FieldText:Ps},data(){return{field:{...nh,...By}}}},Oy=Uy,My=(0,T.Z)(Oy,Ey,Ry,!1,null,null,null),$y=My.exports,Ny="<template>\n\t<field-text v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldText from '@/components/Form/fields/FieldText.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-text-doi-prefix';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldText,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",jy=function(){var t=this,e=t._self._c;return e("field-text",t._b({attrs:{label:"Title:","is-label-inline":!0,size:"large",localeKey:"en"},on:{change:t.change}},"field-text",t.field,!1))},qy=[],Wy={extends:ib,components:{FieldText:Ps},data(){return{field:{...nh,...By}}}},Vy=Wy,Ky=(0,T.Z)(Vy,jy,qy,!1,null,null,null),zy=Ky.exports,Hy='<template>\n\t<field-text\n\t\tv-bind="field"\n\t\tlabel="Title:"\n\t\t:is-label-inline="true"\n\t\tsize="large"\n\t\tlocaleKey="en"\n\t\t@change="change"\n\t/>\n</template>\n\n<script>\nimport FieldText from \'@/components/Form/fields/FieldText.vue\';\nimport PreviewFieldBase from \'../../FieldBase/previews/PreviewFieldBase.vue\';\nimport fieldBase from \'../../../helpers/field-base\';\nimport field from \'../../../helpers/field-text-doi-prefix\';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldText,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n',Zy=function(){var t=this,e=t._self._c;return e("field-text",t._b({attrs:{label:"Title",size:"large"},on:{change:t.change}},"field-text",t.field,!1))},Gy=[],Yy={extends:ib,components:{FieldText:Ps},data(){return{field:{...nh,...By}}}},Jy=Yy,Xy=(0,T.Z)(Jy,Zy,Gy,!1,null,null,null),Qy=Xy.exports,tk="<template>\n\t<field-text v-bind=\"field\" label=\"Title\" size=\"large\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldText from '@/components/Form/fields/FieldText.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-text-doi-prefix';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldText,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",ek=function(){var t=this,e=t._self._c;return e("field-text",t._b({attrs:{label:"Journal Path",size:"large",prefix:"https://publicknowledgeproject.com/"},on:{change:t.change}},"field-text",t.field,!1))},nk=[],ik={extends:ib,components:{FieldText:Ps},data(){return{field:{...nh,...Py,isRequired:!1}}}},sk=ik,ak=(0,T.Z)(sk,ek,nk,!1,null,null,null),lk=ak.exports,rk='<template>\n\t<field-text\n\t\tv-bind="field"\n\t\tlabel="Journal Path"\n\t\tsize="large"\n\t\tprefix="https://publicknowledgeproject.com/"\n\t\t@change="change"\n\t/>\n</template>\n\n<script>\nimport FieldText from \'@/components/Form/fields/FieldText.vue\';\nimport PreviewFieldBase from \'../../FieldBase/previews/PreviewFieldBase.vue\';\nimport fieldBase from \'../../../helpers/field-base\';\nimport field from \'../../../helpers/field-text-given-name\';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldText,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t\tisRequired: false,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n',ok=function(){var t=this,e=t._self._c;return e("field-text",t._b({attrs:{label:"Copyright Holder",optIntoEdit:!0,optIntoEditLabel:"Override"},on:{change:t.change}},"field-text",t.field,!1))},dk=[],pk={extends:ib,components:{FieldText:Ps},data(){return{field:{...nh,...Py,isRequired:!1}}}},ck=pk,uk=(0,T.Z)(ck,ok,dk,!1,null,null,null),mk=uk.exports,hk='<template>\n\t<field-text\n\t\tv-bind="field"\n\t\tlabel="Copyright Holder"\n\t\t:optIntoEdit="true"\n\t\toptIntoEditLabel="Override"\n\t\t@change="change"\n\t/>\n</template>\n\n<script>\nimport FieldText from \'@/components/Form/fields/FieldText.vue\';\nimport PreviewFieldBase from \'../../FieldBase/previews/PreviewFieldBase.vue\';\nimport fieldBase from \'../../../helpers/field-base\';\nimport field from \'../../../helpers/field-text-given-name\';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldText,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t\tisRequired: false,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n',bk="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldBase](#/component/Form/fields/FieldBase). |\n| `value` | The current value for this field. |\n| `inputType` |  The`type` attribute for the `<input>` field. See [available types](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Form_%3Cinput%3E_types). Default: `text`. |\n| `optIntoEdit` | Disables the field and adds a button that the user must click before they can edit it. Default: `false`. |\n| `optIntoEditLabel` | The label for the button added by `optIntoEdit`. |\n| `size` | One of `small`, `normal` or `large`. Default: `normal`. |\n| `prefix` | An optional prefix to show before the user's input. For example, a prefix of `http://publisher.com/` is used for the journal `path` field. |\n| `isLabelInline` | When `true`, the label for this field will be shown inline instead of above the input field. See usage guidance below. |\n\n## Events\n\nSee [FieldBase](#/component/Form/fields/FieldBase).\n\n## Usage\n\nUse this component for entering a single line of text.\n\nThe `size` of the input area will signal to the user how much information they should enter into the field. Choose a size that is sufficient to display the expected input.\n\n\n\nDo not use `isLabelInline` unless a designer has recommended this approach. Forms need to be designed carefully to support inline labels.\n\n### Prefix\n\nWhen using a `prefix`, be careful not to use a long prefix. There may not be enough room for the user to enter their information. If a prefix runs too long, it will be truncated so that the user can enter their information.\n\nA `prefix` can not be used with a localized value. Languages that read right-to-left (RTL) will not appear correctly. Only use a prefix in cases where the prefix will always read left-to-right, for example a domain name (http://test.com/) or a DOI prefix (10.1234/).\n",fk={extends:H,data(){return{name:"FieldText",parentRoute:"Form/fields",readme:bk,examples:[{component:Iy,name:"Base",template:this.extractTemplate(Dy)},{component:$y,name:"Small",template:this.extractTemplate(Ny)},{component:Qy,name:"Large",template:this.extractTemplate(tk)},{component:lk,name:"With Prefix",template:this.extractTemplate(rk)},{component:mk,name:"Editing Opt-in",template:this.extractTemplate(hk)},{component:zy,name:"Inline Label",template:this.extractTemplate(Hy)}]}}},gk=fk,vk=(0,T.Z)(gk,Su,Tu,!1,null,null,null),_k=vk.exports,yk=function(){var t=this,e=t._self._c;return e("field-textarea",t._b({on:{change:t.change}},"field-textarea",t.field,!1))},kk=[],wk={name:"metatags",component:"field-textarea",label:"Metatags",value:""},Sk={extends:ib,components:{FieldTextarea:Es},data(){return{field:{...nh,...wk}}}},Tk=Sk,Fk=(0,T.Z)(Tk,yk,kk,!1,null,null,null),xk=Fk.exports,Pk="<template>\n\t<field-textarea v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldTextarea from '@/components/Form/fields/FieldTextarea.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-textarea-metatags';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldTextarea,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",Lk=function(){var t=this,e=t._self._c;return e("field-textarea",t._b({attrs:{label:"Mailing Address",size:"small"},on:{change:t.change}},"field-textarea",t.field,!1))},Ck=[],Ak={extends:ib,components:{FieldTextarea:Es},data(){return{field:{...nh,...wk}}}},Ik=Ak,Dk=(0,T.Z)(Ik,Lk,Ck,!1,null,null,null),Ek=Dk.exports,Rk="<template>\n\t<field-textarea\n\t\tv-bind=\"field\"\n\t\tlabel=\"Mailing Address\"\n\t\tsize=\"small\"\n\t\t@change=\"change\"\n\t/>\n</template>\n\n<script>\nimport FieldTextarea from '@/components/Form/fields/FieldTextarea.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-textarea-metatags';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldTextarea,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",Bk=function(){var t=this,e=t._self._c;return e("field-textarea",t._b({attrs:{label:"References",size:"large"},on:{change:t.change}},"field-textarea",t.field,!1))},Uk=[],Ok={extends:ib,components:{FieldTextarea:Es},data(){return{field:{...nh,...wk}}}},Mk=Ok,$k=(0,T.Z)(Mk,Bk,Uk,!1,null,null,null),Nk=$k.exports,jk="<template>\n\t<field-textarea\n\t\tv-bind=\"field\"\n\t\tlabel=\"References\"\n\t\tsize=\"large\"\n\t\t@change=\"change\"\n\t/>\n</template>\n\n<script>\nimport FieldTextarea from '@/components/Form/fields/FieldTextarea.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-textarea-metatags';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldTextarea,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",qk="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldBase](#/component/Form/fields/FieldBase). |\n| `value` | The current value for this field. |\n| `size` | One of `small`, `normal` or `large`. Default: `normal`. |\n\n## Events\n\nSee [FieldBase](#/component/Form/fields/FieldBase).\n\n## Usage\n\nUse this component for entering multiple lines of text when you want to restrict the user's entry to plain text. If the user is allowed to use bold, italics and other rich text markup, use the [FieldRichTextarea](#/component/Form/fields/FieldRichTextarea) component.\n\nThe `size` of the input area will signal to the user how much information they should enter into the field. Choose a size that is sufficient to display the expected input.\n",Wk={extends:H,data(){return{name:"FieldTextarea",parentRoute:"Form/fields",readme:qk,examples:[{component:xk,name:"Base",template:this.extractTemplate(Pk)},{component:Ek,name:"Small",template:this.extractTemplate(Rk)},{component:Nk,name:"Large",template:this.extractTemplate(jk)}]}}},Vk=Wk,Kk=(0,T.Z)(Vk,Fu,xu,!1,null,null,null),zk=Kk.exports,Hk=function(){var t=this,e=t._self._c;return e("field-upload",t._b({on:{change:t.change}},"field-upload",t.field,!1))},Zk=[],Gk={name:"css",component:"field-upload",label:"CSS",description:"Upload a custom CSS file to change the look and feel of your site.",options:{url:"https://httpbin.org/post",acceptedFiles:".css",dropzoneDictDefaultMessage:"Drop files here to upload",dropzoneDictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dropzoneDictFallbackText:"Please use the fallback form below to upload your files.",dropzoneDictFileTooBig:"File is too big ({{filesize}}mb). Files larger than {{maxFilesize}}mb can not be uploaded.",dropzoneDictInvalidFileType:"Files of this type can not be uploaded.",dropzoneDictResponseError:"Server responded with {{statusCode}} code. Please contact the system administrator if this problem persists.",dropzoneDictCancelUpload:"Cancel upload",dropzoneDictUploadCanceled:"Upload canceled",dropzoneDictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dropzoneDictRemoveFile:"Remove file",dropzoneDictMaxFilesExceeded:"You can not upload any more files."},value:""},Yk={extends:ib,components:{FieldUpload:js},data(){return{field:{...nh,...Gk,uploadFileLabel:"Add File",restoreLabel:"Restore"}}}},Jk=Yk,Xk=(0,T.Z)(Jk,Hk,Zk,!1,null,null,null),Qk=Xk.exports,tw="<template>\n\t<field-upload v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldUpload from '@/components/Form/fields/FieldUpload.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-upload-css';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldUpload,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t\tuploadFileLabel: 'Add File',\n\t\t\t\trestoreLabel: 'Restore',\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",ew="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldBase](#/component/Form/fields/FieldBase). |\n| `value` | The current value for this field. |\n| `options` | Pass [options](https://www.dropzonejs.com/#configuration-options) to Dropzone.js. |\n\n## Events\n\nSee [FieldBase](#/component/Form/fields/FieldBase).\n\n## Usage\n\nUse this component when you want the user to upload a file. If you want them to upload an image, use the [FieldUploadImage](#/component/Form/fields/FieldUploadImage) component instead.\n\n### Valid Upload URL\n\nYou _must_ pass a `url` with the `options` prop. In most cases, the URL should correspond to your application's [API endpoint for temporary files](https://docs.pkp.sfu.ca/dev/api).\n\nIf you do not use this endpoint, your endpoint should respond to `OPTIONS` and `POST` requests that [Dropzone.js](https://www.dropzonejs.com) makes to upload the file. The response should match that documented in the [API endpoint for temporary files](https://docs.pkp.sfu.ca/dev/api).",nw={extends:H,data(){return{name:"FieldUpload",parentRoute:"Form/fields",readme:ew,examples:[{component:Qk,name:"Base",template:this.extractTemplate(tw)}]}}},iw=nw,sw=(0,T.Z)(iw,Pu,Lu,!1,null,null,null),aw=sw.exports,lw=function(){var t=this,e=t._self._c;return e("field-upload-image",t._b({on:{change:t.change}},"field-upload-image",t.field,!1))},rw=[],ow={name:"logo",component:"field-upload-image",label:"Logo",options:{url:"https://httpbin.org/post"},baseUrl:"http://localhost:8000/public/journals/1/",altTextDescription:'Describe this image for visitors viewing the site in a text-only browser or with assistive devices. Example: "Our editor speaking at the PKP conference."',altTextLabel:"Alt Text",uploadFileLabel:"Add File",restoreLabel:"Restore",thumbnailDescription:"Preview of the currently selected image."},dw={extends:ib,components:{FieldUploadImage:Hs},data(){return{field:{...nh,...ow}}}},pw=dw,cw=(0,T.Z)(pw,lw,rw,!1,null,null,null),uw=cw.exports,mw="<template>\n\t<field-upload-image v-bind=\"field\" @change=\"change\" />\n</template>\n\n<script>\nimport FieldUploadImage from '@/components/Form/fields/FieldUploadImage.vue';\nimport PreviewFieldBase from '../../FieldBase/previews/PreviewFieldBase.vue';\nimport fieldBase from '../../../helpers/field-base';\nimport field from '../../../helpers/field-upload-image-logo';\n\nexport default {\n\textends: PreviewFieldBase,\n\tcomponents: {\n\t\tFieldUploadImage,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfield: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...field,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",hw="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | Supports all props in [FieldBase](#/component/Form/fields/FieldBase). |\n| `value` | The current value for this field. |\n| `options` | Pass [options](https://www.dropzonejs.com/#configuration-options) to Dropzone.js. |\n| `baseUrl` | The `baseUrl` is prepended to the filename to display previews. For example, the `baseURL` for the logo of a journal with an ID of `2` would be `http://yoursite.com/public/journals/2/`. |\n\n## Events\n\nSee [FieldBase](#/component/Form/fields/FieldBase).\n\n## Usage\n\nUse this component when you want the user to upload an image. If you want to allow them to upload any file, use the [FieldUpload](#/component/Form/fields/FieldUpload) component instead.\n\nSee the [FieldUpload](#/component/Form/fields/FieldUpload) component for guidance on passing an upload URL.\n",bw={extends:H,data(){return{name:"FieldUploadImage",parentRoute:"Form/fields",readme:hw,examples:[{component:uw,name:"Base",template:this.extractTemplate(mw)}]}}},fw=bw,gw=(0,T.Z)(fw,Cu,Au,!1,null,null,null),vw=gw.exports,_w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewFile"},[e("file",{attrs:{documentType:"word",fileId:283,name:"influence-lactation-final-v2-edited-final.docx"}}),e("file",{attrs:{documentType:"word",fileId:284,name:"ccorino-disclosure-statement.docx"}}),e("file",{attrs:{documentType:"excel",fileId:285,name:"influence-lactation-dataset-approved.xls"}}),e("file",{attrs:{fileId:286,name:"example-default-document-type-icon.srv"}}),e("file",{attrs:{documentType:"image",name:"journal-public-knowledge-consent-form.png"}}),e("file",{attrs:{documentType:"epub",name:"influence-lactation-proof-reader.epub"}})],1)},yw=[],kw={components:{File:Hd}},ww=kw,Sw=(0,T.Z)(ww,_w,yw,!1,null,null,null),Tw=Sw.exports,Fw='<template>\n\t<div class="previewFile">\n\t\t<file\n\t\t\tdocumentType="word"\n\t\t\t:fileId="283"\n\t\t\tname="influence-lactation-final-v2-edited-final.docx"\n\t\t/>\n\t\t<file\n\t\t\tdocumentType="word"\n\t\t\t:fileId="284"\n\t\t\tname="ccorino-disclosure-statement.docx"\n\t\t/>\n\t\t<file\n\t\t\tdocumentType="excel"\n\t\t\t:fileId="285"\n\t\t\tname="influence-lactation-dataset-approved.xls"\n\t\t/>\n\t\t<file :fileId="286" name="example-default-document-type-icon.srv" />\n\t\t<file\n\t\t\tdocumentType="image"\n\t\t\tname="journal-public-knowledge-consent-form.png"\n\t\t/>\n\t\t<file documentType="epub" name="influence-lactation-proof-reader.epub" />\n\t</div>\n</template>\n\n<script>\nimport File from \'../../../../components/File/File.vue\';\n\nexport default {\n\tcomponents: {\n\t\tFile,\n\t},\n};\n<\/script>\n\n<style lang="less">\n.previewFile .file + .file {\n\tmargin-top: 0.25rem;\n}\n</style>\n',xw="## Props\n\n| Key | Description |\n| --- | --- |\n| `documentType` | Optional but recommended. Pass one of the `DOCUMENT_TYPE_` constants to show an icon that will match this document type. |\n| `id` | Optional. Show an ID with this file. See usage guidance below. |\n| `name` | Required. The file's name. |\n\n## Events\n\nThis component does not emit any events.\n\n## Usage\n\nUse this component to display a file in a consistent format across all components.\n\nShow the `id` when it may be useful. For example, show it to editors when promoting files, because they may track the file ids in a separate system. But the `id` is not needed when an author makes a new submission, because the file ids won't yet have been used to track files or discuss them.",Pw={extends:H,data(){return{name:"File",readme:xw,examples:[{component:Tw,name:"Base",template:this.extractTemplate(Fw)}]}}},Lw=Pw,Cw=(0,T.Z)(Lw,Iu,Du,!1,null,null,null),Aw=Cw.exports,Iw=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewFileAttacher"},[e("file-attacher",{attrs:{attachers:t.attachers}})],1)},Dw=[],Ew={extends:ep,methods:{getFiles(){this.isLoading=!0,this.items=[],setTimeout((()=>{this.items=[...rm],this.isLoading=!1}),1e3)}}},Rw=Ew,Bw=(0,T.Z)(Rw,Eu,Ru,!1,null,null,null),Uw=Bw.exports,Ow={extends:jp,components:{FileAttacherFileStage:Uw}},Mw=Ow,$w=(0,T.Z)(Mw,Bu,Uu,!1,null,null,null),Nw=$w.exports,jw={components:{FileAttacher:Nw},data(){return{attachers:[...Xp]}}},qw=jw,Ww=(0,T.Z)(qw,Iw,Dw,!1,null,null,null),Vw=Ww.exports,Kw="<template>\n\t<div class=\"previewFileAttacher\">\n\t\t<file-attacher :attachers=\"attachers\" />\n\t</div>\n</template>\n\n<script>\nimport FileAttacher from './ExampleFileAttacher.vue';\nimport fileAttachers from '@/docs/data/fileAttachers';\n\nexport default {\n\tcomponents: {\n\t\tFileAttacher,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tattachers: [...fileAttachers],\n\t\t};\n\t},\n};\n<\/script>\n",zw="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` |  |\n\n## Events\n\nThis is some text\n\n## Usage\n\nThis is some text.",Hw={extends:H,data(){return{name:"File Attacher",readme:zw,examples:[{component:Vw,name:"Base",template:this.extractTemplate(Kw)}]}}},Zw=Hw,Gw=(0,T.Z)(Zw,Ou,Mu,!1,null,null,null),Yw=Gw.exports,Jw=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewFileUploader"},[t.files.length?t._l(t.files,(function(n,i){return e("file-upload-progress",{key:i,attrs:{cancelUploadLabel:"Cancel Upload",errors:n.errors,name:n.name,progress:n.progress},on:{cancel:function(e){return t.remove(i)}}})})):e("span",{staticClass:"previewFileUploader__prompt"},[e("p",[t._v(" Drag and drop files here or "),e("button",{staticClass:"-linkButton",on:{click:t.selectFile}},[t._v("upload a file")])])]),e("file-uploader",{ref:"uploader",attrs:{apiUrl:"http://localhost:8000/publicknowledge/api/v1/submissions/1/files",files:t.files,id:"previewFileUploader",options:t.options,uploadProgressLabel:"Uploading {$percent}% complete"},on:{"updated:files":t.updateFiles}})],2)},Xw=[],Qw={components:{FileUploader:kp,FileUploadProgress:Ep},data(){return{files:[],options:{...Jp}}},methods:{remove(t){this.files=this.files.filter(((e,n)=>n!==t))},selectFile(){this.$refs.uploader.openFileBrowser()},updateFiles(t){this.files=[...t]}}},tS=Qw,eS=(0,T.Z)(tS,Jw,Xw,!1,null,null,null),nS=eS.exports,iS='<template>\n\t<div class="previewFileUploader">\n\t\t<span v-if="!files.length" class="previewFileUploader__prompt">\n\t\t\t<p>\n\t\t\t\tDrag and drop files here or\n\t\t\t\t<button class="-linkButton" @click="selectFile">upload a file</button>\n\t\t\t</p>\n\t\t</span>\n\t\t<template v-else>\n\t\t\t<file-upload-progress\n\t\t\t\tv-for="(file, i) in files"\n\t\t\t\t:key="i"\n\t\t\t\tcancelUploadLabel="Cancel Upload"\n\t\t\t\t:errors="file.errors"\n\t\t\t\t:name="file.name"\n\t\t\t\t:progress="file.progress"\n\t\t\t\t@cancel="remove(i)"\n\t\t\t/>\n\t\t</template>\n\t\t<file-uploader\n\t\t\tref="uploader"\n\t\t\tapiUrl="http://localhost:8000/publicknowledge/api/v1/submissions/1/files"\n\t\t\t:files="files"\n\t\t\tid="previewFileUploader"\n\t\t\t:options="options"\n\t\t\tuploadProgressLabel="Uploading {$percent}% complete"\n\t\t\t@updated:files="updateFiles"\n\t\t/>\n\t</div>\n</template>\n\n<script>\nimport FileUploadProgress from \'@/components/FileUploadProgress/FileUploadProgress.vue\';\nimport FileUploader from \'@/components/FileUploader/FileUploader.vue\';\nimport dropzoneOptions from \'@/docs/data/dropzoneOptions\';\n\nexport default {\n\tcomponents: {\n\t\tFileUploader,\n\t\tFileUploadProgress,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfiles: [],\n\t\t\toptions: {...dropzoneOptions},\n\t\t};\n\t},\n\tmethods: {\n\t\tremove(index) {\n\t\t\tthis.files = this.files.filter((file, i) => i !== index);\n\t\t},\n\t\tselectFile() {\n\t\t\tthis.$refs.uploader.openFileBrowser();\n\t\t},\n\t\tupdateFiles(files) {\n\t\t\tthis.files = [...files];\n\t\t},\n\t},\n};\n<\/script>\n\n<style lang="less">\n@import \'../../../../styles/_import\';\n\n.previewFileUploader {\n\tposition: relative;\n\tmin-height: 20em;\n\tfont-size: @font-sml;\n\n\t.previewFileUploader__prompt {\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\tmax-width: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t}\n}\n</style>\n',sS="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` |  |\n\n## Events\n\n| Key | Description |\n| --- | --- |\n| `...` | Cancel the upload before it is finished. |\n\n## Usage\n\n...",aS={extends:H,data(){return{name:"FileUploader",readme:sS,examples:[{component:nS,name:"Base",template:this.extractTemplate(iS)}]}}},lS=aS,rS=(0,T.Z)(lS,$u,Nu,!1,null,null,null),oS=rS.exports,dS=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewFileUploadProgress"},[e("file-upload-progress",{attrs:{cancelUploadLabel:"Cancel Upload",errors:[],name:"influence-lactation-final-v2-edited-final.docx",progress:85}}),e("file-upload-progress",{attrs:{cancelUploadLabel:"Cancel Upload",errors:[],name:"ccorino-disclosure-statement.docx",progress:65}}),e("file-upload-progress",{attrs:{cancelUploadLabel:"Cancel Upload",errors:[],name:"example-default-document-type-icon.srv",progress:t.fastValue}}),e("file-upload-progress",{attrs:{cancelUploadLabel:"Cancel Upload",errors:[],name:"influence-lactation-proof-reader.epub",progress:t.slowValue}}),e("file-upload-progress",{attrs:{cancelUploadLabel:"Cancel Upload",errors:["File is too big (20mb). Files larger than 2mb can not be uploaded."],name:"ccorino-disclosure-statement.docx",progress:0}}),e("pkp-button",{on:{click:t.start}},[t._v("Restart")])],1)},pS=[],cS=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewProgressBar"},[e("progress-bar",{attrs:{value:25}}),e("progress-bar",{attrs:{value:75}}),e("progress-bar",{attrs:{value:t.fastValue}}),e("progress-bar",{attrs:{value:t.slowValue}}),e("pkp-button",{on:{click:t.start}},[t._v("Restart")])],1)},uS=[],mS={components:{ProgressBar:Cp},data(){return{fastInterval:null,fastValue:0,slowInterval:null,slowValue:0}},methods:{start(){this.fastInterval&&clearInterval(this.fastInterval),this.slowInterval&&clearInterval(this.slowInterval),this.fastValue=0,this.slowValue=0,this.fastInterval=setInterval((()=>{this.fastValue<100?this.fastValue=this.fastValue+23>100?100:this.fastValue+23:clearInterval(this.fastInterval)}),1e3),this.slowInterval=setInterval((()=>{this.slowValue<100?this.slowValue=this.slowValue+8>100?100:this.slowValue+8:clearInterval(this.slowInterval)}),1700)}},mounted(){this.start()}},hS=mS,bS=(0,T.Z)(hS,cS,uS,!1,null,null,null),fS=bS.exports,gS={extends:fS,components:{FileUploadProgress:Ep}},vS=gS,_S=(0,T.Z)(vS,dS,pS,!1,null,null,null),yS=_S.exports,kS='<template>\n\t<div class="previewFileUploadProgress">\n\t\t<file-upload-progress\n\t\t\tcancelUploadLabel="Cancel Upload"\n\t\t\t:errors="[]"\n\t\t\tname="influence-lactation-final-v2-edited-final.docx"\n\t\t\t:progress="85"\n\t\t/>\n\t\t<file-upload-progress\n\t\t\tcancelUploadLabel="Cancel Upload"\n\t\t\t:errors="[]"\n\t\t\tname="ccorino-disclosure-statement.docx"\n\t\t\t:progress="65"\n\t\t/>\n\t\t<file-upload-progress\n\t\t\tcancelUploadLabel="Cancel Upload"\n\t\t\t:errors="[]"\n\t\t\tname="example-default-document-type-icon.srv"\n\t\t\t:progress="fastValue"\n\t\t/>\n\t\t<file-upload-progress\n\t\t\tcancelUploadLabel="Cancel Upload"\n\t\t\t:errors="[]"\n\t\t\tname="influence-lactation-proof-reader.epub"\n\t\t\t:progress="slowValue"\n\t\t/>\n\t\t<file-upload-progress\n\t\t\tcancelUploadLabel="Cancel Upload"\n\t\t\t:errors="[\n\t\t\t\t\'File is too big (20mb). Files larger than 2mb can not be uploaded.\',\n\t\t\t]"\n\t\t\tname="ccorino-disclosure-statement.docx"\n\t\t\t:progress="0"\n\t\t/>\n\t\t<pkp-button @click="start">Restart</pkp-button>\n\t</div>\n</template>\n\n<script>\nimport FileUploadProgress from \'../../../../components/FileUploadProgress/FileUploadProgress.vue\';\nimport PreviewProgressBar from \'../../ProgressBar/previews/PreviewProgressBar.vue\';\n\nexport default {\n\textends: PreviewProgressBar,\n\tcomponents: {\n\t\tFileUploadProgress,\n\t},\n};\n<\/script>\n\n<style lang="less">\n.previewFileUploadProgress {\n\t.pkpButton {\n\t\tmargin-top: 1rem;\n\t}\n}\n</style>\n',wS="## Props\n\n| Key | Description |\n| --- | --- |\n| `cancelUploadLabel` | A label for the button to cancel the upload. |\n| `errors` | An array of error messages related to this upload. |\n| `name` | The file's name. |\n| `progress` | A number from `0-100` representing the percentage of the file that has been uploaded so far. |\n\n## Events\n\n| Key | Description |\n| --- | --- |\n| `cancel` | Cancel the upload before it is finished. |\n\n## Usage\n\nUse this component to display a file upload in progress.",SS={extends:H,data(){return{name:"FileUploadProgress",readme:wS,examples:[{component:yS,name:"Base",template:this.extractTemplate(kS)}]}}},TS=SS,FS=(0,T.Z)(TS,ju,qu,!1,null,null,null),xS=FS.exports,PS=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewFilters"},[e("pkp-filter",{attrs:{isFilterActive:t.isFilterActive("stageIds",1),param:"stageIds",title:"Submission",value:1},on:{"add-filter":t.addFilter,"remove-filter":t.removeFilter}}),e("pkp-filter",{attrs:{isFilterActive:t.isFilterActive("stageIds",2),param:"stageIds",title:"Review",value:2},on:{"add-filter":t.addFilter,"remove-filter":t.removeFilter}}),e("pkp-filter",{attrs:{isFilterActive:t.isFilterActive("stageIds",3),param:"stageIds",title:"Copyeding",value:3},on:{"add-filter":t.addFilter,"remove-filter":t.removeFilter}}),e("pkp-filter",{attrs:{isFilterActive:t.isFilterActive("stageIds",4),param:"stageIds",title:"Production",value:4},on:{"add-filter":t.addFilter,"remove-filter":t.removeFilter}})],1)},LS=[],CS={components:{PkpFilter:Ul},data(){return{activeFilters:{stageIds:[]}}},methods:{isFilterActive(t,e){return this.activeFilters[t].includes(e)},addFilter(t,e){this.activeFilters[t].includes(e)||this.activeFilters[t].push(e)},removeFilter(t,e){this.activeFilters[t].includes(e)&&(this.activeFilters[t]=this.activeFilters[t].filter((t=>t!==e)))}}},AS=CS,IS=(0,T.Z)(AS,PS,LS,!1,null,null,null),DS=IS.exports,ES='<template>\n\t<div class="previewFilters">\n\t\t<pkp-filter\n\t\t\t:isFilterActive="isFilterActive(\'stageIds\', 1)"\n\t\t\tparam="stageIds"\n\t\t\ttitle="Submission"\n\t\t\t:value="1"\n\t\t\t@add-filter="addFilter"\n\t\t\t@remove-filter="removeFilter"\n\t\t/>\n\t\t<pkp-filter\n\t\t\t:isFilterActive="isFilterActive(\'stageIds\', 2)"\n\t\t\tparam="stageIds"\n\t\t\ttitle="Review"\n\t\t\t:value="2"\n\t\t\t@add-filter="addFilter"\n\t\t\t@remove-filter="removeFilter"\n\t\t/>\n\t\t<pkp-filter\n\t\t\t:isFilterActive="isFilterActive(\'stageIds\', 3)"\n\t\t\tparam="stageIds"\n\t\t\ttitle="Copyeding"\n\t\t\t:value="3"\n\t\t\t@add-filter="addFilter"\n\t\t\t@remove-filter="removeFilter"\n\t\t/>\n\t\t<pkp-filter\n\t\t\t:isFilterActive="isFilterActive(\'stageIds\', 4)"\n\t\t\tparam="stageIds"\n\t\t\ttitle="Production"\n\t\t\t:value="4"\n\t\t\t@add-filter="addFilter"\n\t\t\t@remove-filter="removeFilter"\n\t\t/>\n\t</div>\n</template>\n\n<script>\nimport PkpFilter from \'@/components/Filter/Filter.vue\';\n\nexport default {\n\tcomponents: {\n\t\tPkpFilter,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tactiveFilters: {\n\t\t\t\tstageIds: [],\n\t\t\t},\n\t\t};\n\t},\n\tmethods: {\n\t\tisFilterActive(param, val) {\n\t\t\treturn this.activeFilters[param].includes(val);\n\t\t},\n\t\taddFilter(param, val) {\n\t\t\tif (!this.activeFilters[param].includes(val)) {\n\t\t\t\tthis.activeFilters[param].push(val);\n\t\t\t}\n\t\t},\n\t\tremoveFilter(param, val) {\n\t\t\tif (this.activeFilters[param].includes(val)) {\n\t\t\t\tthis.activeFilters[param] = this.activeFilters[param].filter(\n\t\t\t\t\t(item) => item !== val\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t},\n};\n<\/script>\n',RS=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewFilters"},[e("pkp-filter-slider",{attrs:{isFilterActive:t.isFilterActive("activeReviews"),param:"activeReviews",title:"Active Reviews",isVisible:!0,value:2,max:25,min:0,formatter:"{value} or more"},on:{"add-filter":t.addFilter,"update-filter":t.addFilter,"remove-filter":t.removeFilter}}),e("pkp-filter-slider",{attrs:{isFilterActive:t.isFilterActive("completedReviews"),param:"completedReviews",title:"Completed Reviews",isVisible:!0,value:2,max:100,min:0,formatter:"{value} or more"},on:{"add-filter":t.addFilter,"update-filter":t.addFilter,"remove-filter":t.removeFilter}}),e("pkp-filter-slider",{attrs:{isFilterActive:t.isFilterActive("daysSinceLastReview"),param:"daysSinceLastReview",title:"Days since last review",isVisible:!0,value:t.daysSinceLastReview,max:365,min:1,formatter:"{value} or more"},on:{"add-filter":t.addFilter,"update-filter":t.addFilter,"remove-filter":t.removeFilter}}),e("pkp-filter-slider",{attrs:{isFilterActive:t.isFilterActive("rating"),param:"rating",title:"Reviewer Rating",isVisible:!0,value:3,max:5,min:1,useStars:!0,starLabel:"Reviewer rating: {$rating}"},on:{"add-filter":t.addFilter,"update-filter":t.addFilter,"remove-filter":t.removeFilter}})],1)},BS=[],US={components:{PkpFilterSlider:zl},data(){return{activeFilters:{},daysSinceLastReview:30}},methods:{isFilterActive(t){return Object.keys(this.activeFilters).includes(t)},addFilter(t,e){let n={...this.activeFilters};n[t]=e,this.activeFilters=n},removeFilter(t){let e={...this.activeFilters};delete e[t],this.activeFilters=e}}},OS=US,MS=(0,T.Z)(OS,RS,BS,!1,null,null,null),$S=MS.exports,NS='<template>\n\t<div class="previewFilters">\n\t\t<pkp-filter-slider\n\t\t\t:isFilterActive="isFilterActive(\'activeReviews\')"\n\t\t\tparam="activeReviews"\n\t\t\ttitle="Active Reviews"\n\t\t\t:isVisible="true"\n\t\t\t:value="2"\n\t\t\t:max="25"\n\t\t\t:min="0"\n\t\t\tformatter="{value} or more"\n\t\t\t@add-filter="addFilter"\n\t\t\t@update-filter="addFilter"\n\t\t\t@remove-filter="removeFilter"\n\t\t/>\n\t\t<pkp-filter-slider\n\t\t\t:isFilterActive="isFilterActive(\'completedReviews\')"\n\t\t\tparam="completedReviews"\n\t\t\ttitle="Completed Reviews"\n\t\t\t:isVisible="true"\n\t\t\t:value="2"\n\t\t\t:max="100"\n\t\t\t:min="0"\n\t\t\tformatter="{value} or more"\n\t\t\t@add-filter="addFilter"\n\t\t\t@update-filter="addFilter"\n\t\t\t@remove-filter="removeFilter"\n\t\t/>\n\t\t<pkp-filter-slider\n\t\t\t:isFilterActive="isFilterActive(\'daysSinceLastReview\')"\n\t\t\tparam="daysSinceLastReview"\n\t\t\ttitle="Days since last review"\n\t\t\t:isVisible="true"\n\t\t\t:value="daysSinceLastReview"\n\t\t\t:max="365"\n\t\t\t:min="1"\n\t\t\tformatter="{value} or more"\n\t\t\t@add-filter="addFilter"\n\t\t\t@update-filter="addFilter"\n\t\t\t@remove-filter="removeFilter"\n\t\t/>\n\t\t<pkp-filter-slider\n\t\t\t:isFilterActive="isFilterActive(\'rating\')"\n\t\t\tparam="rating"\n\t\t\ttitle="Reviewer Rating"\n\t\t\t:isVisible="true"\n\t\t\t:value="3"\n\t\t\t:max="5"\n\t\t\t:min="1"\n\t\t\t:useStars="true"\n\t\t\tstarLabel="Reviewer rating: {$rating}"\n\t\t\t@add-filter="addFilter"\n\t\t\t@update-filter="addFilter"\n\t\t\t@remove-filter="removeFilter"\n\t\t/>\n\t</div>\n</template>\n\n<script>\nimport PkpFilterSlider from \'@/components/Filter/FilterSlider.vue\';\n\nexport default {\n\tcomponents: {\n\t\tPkpFilterSlider,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tactiveFilters: {},\n\t\t\tdaysSinceLastReview: 30,\n\t\t};\n\t},\n\tmethods: {\n\t\tisFilterActive(param) {\n\t\t\treturn Object.keys(this.activeFilters).includes(param);\n\t\t},\n\t\taddFilter(param, val) {\n\t\t\tlet activeFilters = {...this.activeFilters};\n\t\t\tactiveFilters[param] = val;\n\t\t\tthis.activeFilters = activeFilters;\n\t\t},\n\t\tremoveFilter(param) {\n\t\t\tlet activeFilters = {...this.activeFilters};\n\t\t\tdelete activeFilters[param];\n\t\t\tthis.activeFilters = activeFilters;\n\t\t},\n\t},\n};\n<\/script>\n',jS=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewFilters"},[e("filter-slider-multirange",{attrs:{isFilterActive:t.isFilterActive("daysSinceLastReview"),param:"daysSinceLastReview",title:"Days since last review",value:t.daysSinceLastReview,max:365,min:1,valueLabel:"{$min}-{$max}",moreThanLabel:"More than",lessThanLabel:"Less than"},on:{"add-filter":t.addFilter,"update-filter":t.addFilter,"remove-filter":t.removeFilter}}),e("filter-slider-multirange",{attrs:{isFilterActive:t.isFilterActive("activeReviewsCurrentlyAssigned"),param:"activeReviewsCurrentlyAssigned",title:"Days since last review",value:t.activeReviewsCurrentlyAssigned,max:20,min:1,valueLabel:"{$min}-{$max}",moreThanLabel:"More than",lessThanLabel:"Less than"},on:{"add-filter":t.addFilter,"update-filter":t.addFilter,"remove-filter":t.removeFilter}})],1)},qS=[],WS={components:{FilterSliderMultirange:Xl},data(){return{activeFilters:{},daysSinceLastReview:[30,120],activeReviewsCurrentlyAssigned:[1,20]}},methods:{isFilterActive(t){return Object.keys(this.activeFilters).includes(t)},addFilter(t,e){let n={...this.activeFilters};n[t]=e,this.activeFilters=n},removeFilter(t){let e={...this.activeFilters};delete e[t],this.activeFilters=e}}},VS=WS,KS=(0,T.Z)(VS,jS,qS,!1,null,null,null),zS=KS.exports,HS='<template>\n\t<div class="previewFilters">\n\t\t<filter-slider-multirange\n\t\t\t:isFilterActive="isFilterActive(\'daysSinceLastReview\')"\n\t\t\tparam="daysSinceLastReview"\n\t\t\ttitle="Days since last review"\n\t\t\t:value="daysSinceLastReview"\n\t\t\t:max="365"\n\t\t\t:min="1"\n\t\t\tvalueLabel="{$min}-{$max}"\n\t\t\tmoreThanLabel="More than"\n\t\t\tlessThanLabel="Less than"\n\t\t\t@add-filter="addFilter"\n\t\t\t@update-filter="addFilter"\n\t\t\t@remove-filter="removeFilter"\n\t\t/>\n\t\t<filter-slider-multirange\n\t\t\t:isFilterActive="isFilterActive(\'activeReviewsCurrentlyAssigned\')"\n\t\t\tparam="activeReviewsCurrentlyAssigned"\n\t\t\ttitle="Days since last review"\n\t\t\t:value="activeReviewsCurrentlyAssigned"\n\t\t\t:max="20"\n\t\t\t:min="1"\n\t\t\tvalueLabel="{$min}-{$max}"\n\t\t\tmoreThanLabel="More than"\n\t\t\tlessThanLabel="Less than"\n\t\t\t@add-filter="addFilter"\n\t\t\t@update-filter="addFilter"\n\t\t\t@remove-filter="removeFilter"\n\t\t/>\n\t</div>\n</template>\n\n<script>\nimport FilterSliderMultirange from \'@/components/Filter/FilterSliderMultirange.vue\';\n\nexport default {\n\tcomponents: {\n\t\tFilterSliderMultirange,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tactiveFilters: {},\n\t\t\tdaysSinceLastReview: [30, 120],\n\t\t\tactiveReviewsCurrentlyAssigned: [1, 20],\n\t\t};\n\t},\n\tmethods: {\n\t\tisFilterActive(param) {\n\t\t\treturn Object.keys(this.activeFilters).includes(param);\n\t\t},\n\t\taddFilter(param, val) {\n\t\t\tlet activeFilters = {...this.activeFilters};\n\t\t\tactiveFilters[param] = val;\n\t\t\tthis.activeFilters = activeFilters;\n\t\t},\n\t\tremoveFilter(param) {\n\t\t\tlet activeFilters = {...this.activeFilters};\n\t\t\tdelete activeFilters[param];\n\t\t\tthis.activeFilters = activeFilters;\n\t\t},\n\t},\n};\n<\/script>\n',ZS=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewFilters"},[e("filter-autosuggest",{attrs:{autosuggestProps:t.users,component:"field-select-users",param:"assignedTo",value:[],title:"Assigned to Editors"},on:{"add-filter":t.addFilter,"remove-filter":t.removeFilter}}),e("filter-autosuggest",{attrs:{autosuggestProps:t.issues,component:"field-select-issues",param:"issueIds",value:[],title:"Assigned to Issues"},on:{"add-filter":t.addFilter,"remove-filter":t.removeFilter}})],1)},GS=[],YS={components:{FilterAutosuggest:qr},data(){return{users:{...nh,...ih,name:"assignedTo",label:"Assigned to Editors",selectedLabel:"Assigned",apiUrl:"usernames.json"},issues:{...nh,...ih,name:"issueIds",label:"Assigned to Issues",selectedLabel:"Assigned",apiUrl:"issues.json"},activeFilters:{assignedTo:[],issueIds:[]}}},methods:{addFilter(t,e){this.activeFilters[t]=e},removeFilter(t){this.activeFilters[t]=[]}}},JS=YS,XS=(0,T.Z)(JS,ZS,GS,!1,null,null,null),QS=XS.exports,tT='<template>\n\t<div class="previewFilters">\n\t\t<filter-autosuggest\n\t\t\t:autosuggestProps="users"\n\t\t\tcomponent="field-select-users"\n\t\t\tparam="assignedTo"\n\t\t\t:value="[]"\n\t\t\ttitle="Assigned to Editors"\n\t\t\t@add-filter="addFilter"\n\t\t\t@remove-filter="removeFilter"\n\t\t/>\n\t\t<filter-autosuggest\n\t\t\t:autosuggestProps="issues"\n\t\t\tcomponent="field-select-issues"\n\t\t\tparam="issueIds"\n\t\t\t:value="[]"\n\t\t\ttitle="Assigned to Issues"\n\t\t\t@add-filter="addFilter"\n\t\t\t@remove-filter="removeFilter"\n\t\t/>\n\t</div>\n</template>\n\n<script>\nimport FilterAutosuggest from \'@/components/Filter/FilterAutosuggest.vue\';\nimport fieldBase from \'../../Form/helpers/field-base\';\nimport fieldBaseAutosuggest from \'../../Form/helpers/field-autosuggest\';\n\nexport default {\n\tcomponents: {\n\t\tFilterAutosuggest,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tusers: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...fieldBaseAutosuggest,\n\t\t\t\tname: \'assignedTo\',\n\t\t\t\tlabel: \'Assigned to Editors\',\n\t\t\t\tselectedLabel: \'Assigned\',\n\t\t\t\tapiUrl: \'usernames.json\',\n\t\t\t},\n\t\t\tissues: {\n\t\t\t\t...fieldBase,\n\t\t\t\t...fieldBaseAutosuggest,\n\t\t\t\tname: \'issueIds\',\n\t\t\t\tlabel: \'Assigned to Issues\',\n\t\t\t\tselectedLabel: \'Assigned\',\n\t\t\t\tapiUrl: \'issues.json\',\n\t\t\t},\n\t\t\tactiveFilters: {\n\t\t\t\tassignedTo: [],\n\t\t\t\tissueIds: [],\n\t\t\t},\n\t\t};\n\t},\n\tmethods: {\n\t\taddFilter(param, newVal) {\n\t\t\tthis.activeFilters[param] = newVal;\n\t\t},\n\t\tremoveFilter(param) {\n\t\t\tthis.activeFilters[param] = [];\n\t\t},\n\t},\n};\n<\/script>\n',eT='## Props\n\n| Key | Description |\n| --- | --- |\n| `isFilterActive` | Whether or not this is filter is currently on or off. |\n| `param` | The query parameter to use when submitting API requests for this filter. For example, a filter for getting all submissions in a particular stage would be `stageIds`. |\n| `title` | The label for this filter. |\n| `value` | The value to use when submitting API requests for this filter. For example, a filter for getting all submissions currently in the Submission stage would have a `param` of `stageIds` and a `value` of `1`. |\n\n## Props (FilterSlider and FilterSliderMultirange)\n\n| Key | Description |\n| --- | --- |\n| `max` | The highest allowed value. Required. |\n| `min` | The lowest allowed value. Required. |\n| `useStars` | Whether or not to display the value as a star rating. Default: `false`. |\n| `valueLabel` | How to display the value. A label of `At least {$value}` will display as `At least 20`. Default: `{$value}`. |\n\n## Props (FilterSliderMultirange)\n\n| Key | Description |\n| --- | --- |\n| `lessThanLabel` | An accessible label for the higher value. Typically "Less than". Required. |\n| `moreThanLabel` | An accessible label for the lower value. Typically "Higher than". Required. |\n\n## Props (FilterAutosuggest)\n\n| Key | Description |\n| --- | --- |\n| `autosuggestProps` | Props to be passed to the `FieldAutosuggest` component. Required. |\n\n## Events\n\n| Key | Description |\n| --- | --- |\n| `add-filter` | Emitted when the filter is activated. Payload: `(param, value)` |\n| `remove-filter` | Emitted when the filter is deactivated. Payload: `(param, value)` |\n\n## Usage\n\nUse this component when the user wants to narrow the items in a list by some criteria.\n\n## Using Filter Params and Values\n\nThe filter `param` usually corresponds to a query parameter that will be sent to the REST API. For example, filtering submissions by those in the Review stage will use the `stageIds` parameter for the REST API endpoint.\n\nMore than one `Filter` may share the same `param`, but not the same `value`. For example, filtering by the Review and Copyediting stages will use two filters.\n\n```html\n<pkp-filter\n\tlabel="Review"\n\tparam="stageIds"\n\tvalue="2"\n\t...\n/>\n<pkp-filter\n\tlabel="Copyediting"\n\tparam="stageIds"\n\tvalue="3"\n\t...\n/>\n```\n\n## Managing Active Filters\n\nA parent component must manage which filters are active. By convention, this should be in an `activeFilters` object. See the [ListPanel](#/component/ListPanel) for an example.\n\nMost filters should be able to be combined with other filters, so there may be more than one filter active at a time. The following shows what the `activeFilters` object might look like when stage and section filters are applied at the same time:\n\n```json\n{\n\tstageIds: [2, 3],\n\tsectionIds: [1]\n}\n```\n',nT={extends:H,data(){return{name:"Filter",readme:eT,examples:[{component:DS,name:"Base",template:this.extractTemplate(ES)},{component:$S,name:"Slider",template:this.extractTemplate(NS)},{component:zS,name:"Slider (Multirange)",template:this.extractTemplate(HS)},{component:QS,name:"Autosuggest",template:this.extractTemplate(tT)}]}}},iT=nT,sT=(0,T.Z)(iT,Wu,Vu,!1,null,null,null),aT=sT.exports,lT=function(){var t=this,e=t._self._c;return e("pkp-form",t._b({on:{set:t.set}},"pkp-form",t.components.example,!1))},rT=[],oT={name:"family-name",component:"field-text",inputType:"text",label:"Family Name",isRequired:!0,value:""},dT={name:"mailing-address",component:"field-textarea",label:"Mailing Address",size:"small",value:"",groupId:"contact"},pT={...Da,id:"example",action:"http://httpbin.org/put",method:"PUT",fields:[{...Py,groupId:"default"},{...oT,groupId:"default"},{...Qh,groupId:"default"},{...dT,groupId:"default"}],groups:[{id:"default",pageId:"default"}],supportedFormLocales:[...Da.supportedFormLocales,{key:"fr_CA",label:"Français (Canada)"},{key:"ar",label:"عربى"}]},cT={extends:io,data(){return{components:{example:pT}}}},uT=cT,mT=(0,T.Z)(uT,lT,rT,!1,null,null,null),hT=mT.exports,bT="<template>\n\t\x3c!-- Use the v-bind syntax to bind all props at once. --\x3e\n\t<pkp-form v-bind=\"components.example\" @set=\"set\" />\n</template>\n\n<script>\nimport Container from '@/components/Container/Container.vue';\nimport form from '../helpers/form-base';\n\nexport default {\n\textends: Container,\n\tdata() {\n\t\treturn {\n\t\t\tcomponents: {\n\t\t\t\texample: form,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",fT=function(){var t=this,e=t._self._c;return e("pkp-form",t._b({on:{set:t.set}},"pkp-form",t.components.example,!1))},gT=[],vT={name:"orcid",component:"field-text",inputType:"url",label:"ORCID iD",groupId:"profile",value:""},_T={name:"affiliation",component:"field-text",inputType:"text",label:"Affiliation",groupId:"identity",isMultilingual:!0,value:{en:"",fr_CA:"",ar:""}},yT={...Da,id:"example",action:"https://example.org/example",fields:[{...vT,groupId:"default"},{..._T,groupId:"default"},{...Nv,groupId:"default"}],groups:[{id:"default",pageId:"default"}],supportedFormLocales:[...Da.supportedFormLocales,{key:"fr_CA",label:"Français (Canada)"},{key:"ar",label:"عربى"}]},kT={extends:io,data(){return{components:{example:yT}}}},wT=kT,ST=(0,T.Z)(wT,fT,gT,!1,null,null,null),TT=ST.exports,FT="<template>\n\t\x3c!-- Use the v-bind syntax to bind all props at once. --\x3e\n\t<pkp-form v-bind=\"components.example\" @set=\"set\" />\n</template>\n\n<script>\nimport Container from '@/components/Container/Container.vue';\nimport form from '../helpers/form-multilingual';\n\nexport default {\n\textends: Container,\n\tdata() {\n\t\treturn {\n\t\t\tcomponents: {\n\t\t\t\texample: form,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",xT=function(){var t=this,e=t._self._c;return e("pkp-form",t._b({on:{set:t.set}},"pkp-form",t.components.example,!1))},PT=[],LT={id:"identity",label:"Identity",description:"Your name, email and institution will be displayed alongside any published works. We also use these details to communicate with you."},CT={id:"contact",label:"Contact",description:"Help us reach you more easily and tailor how we handle sending emails on your behalf."},AT={name:"phone",component:"field-text",inputType:"tel",label:"Phone",groupId:"contact",value:""},IT={...Da,id:"example",action:"/example/example",fields:[Qh,_T,AT,L_],groups:[{...LT,pageId:"default"},{...CT,pageId:"default"}],supportedFormLocales:[...Da.supportedFormLocales,{key:"fr_CA",label:"Français (Canada)"},{key:"ar",label:"عربى"}]},DT={extends:io,data(){return{components:{example:IT}}}},ET=DT,RT=(0,T.Z)(ET,xT,PT,!1,null,null,null),BT=RT.exports,UT="<template>\n\t\x3c!-- Use the v-bind syntax to bind all props at once. --\x3e\n\t<pkp-form v-bind=\"components.example\" @set=\"set\" />\n</template>\n\n<script>\nimport Container from '@/components/Container/Container.vue';\nimport form from '../helpers/form-groups';\n\nexport default {\n\textends: Container,\n\tdata() {\n\t\treturn {\n\t\t\tcomponents: {\n\t\t\t\texample: form,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",OT=function(){var t=this,e=t._self._c;return e("pkp-form",t._b({on:{set:t.set}},"pkp-form",t.components.example,!1))},MT=[],$T={id:"preferences",label:"Preferences",description:"Tailor how you would like to interact with our journal."},NT={id:"profile",label:"Profile",description:"Your public profile may be displayed alongside published articles."},jT={name:"url",component:"field-text",inputType:"url",label:"Website",groupId:"profile",tooltip:"The link to your website or institutional profile, which should begin with http://.",value:"",prefix:"https://"},qT={...Da,id:"example",action:"/example/user",fields:[Py,oT,Qh,_T,AT,L_,dT,Ig,Hg,$g,jT,Nv,vT],groups:[{...LT,pageId:"account"},{...CT,pageId:"account"},{...$T,pageId:"preferences"},{...NT,pageId:"profile"}],pages:[{id:"account",label:"Account Details",submitButton:{label:"Next",isPrimary:!0}},{id:"preferences",label:"Preferences",submitButton:{label:"Next",isPrimary:!0},previousButton:{label:"Previous"}},{id:"profile",label:"Profile",submitButton:{label:"Submit",isPrimary:!0},previousButton:{label:"Previous"}}],supportedFormLocales:[...Da.supportedFormLocales,{key:"fr_CA",label:"Français (Canada)"},{key:"ar",label:"عربى"}]},WT={extends:io,data(){return{components:{example:qT}}}},VT=WT,KT=(0,T.Z)(VT,OT,MT,!1,null,null,null),zT=KT.exports,HT="<template>\n\t\x3c!-- Use the v-bind syntax to bind all props at once. --\x3e\n\t<pkp-form v-bind=\"components.example\" @set=\"set\" />\n</template>\n\n<script>\nimport Container from '@/components/Container/Container.vue';\nimport form from '../helpers/form-user';\n\nexport default {\n\textends: Container,\n\tdata() {\n\t\treturn {\n\t\t\tcomponents: {\n\t\t\t\texample: form,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",ZT=function(){var t=this,e=t._self._c;return e("pkp-form",t._b({on:{set:t.set}},"pkp-form",t.components.example,!1))},GT=[],YT={name:"email-options-discussions",component:"field-options",label:"Discussions and Replies",showWhen:["email-options","weekly"],value:!1,options:[{value:!0,label:"Yes, send me new discussions and replies by email as soon as they happen."}],groupId:"default"},JT={...Da,id:"example",action:"https://example.org/example",fields:[{...Hg,groupId:"default"},{...$g,description:$g.description+' (Select "Once a week" to see further options.)',groupId:"default"},{...YT,groupId:"default"}],groups:[{id:"default",pageId:"default"}]},XT={extends:io,data(){return{components:{example:JT}}}},QT=XT,tF=(0,T.Z)(QT,ZT,GT,!1,null,null,null),eF=tF.exports,nF="<template>\n\t\x3c!-- Use the v-bind syntax to bind all props at once. --\x3e\n\t<pkp-form v-bind=\"components.example\" @set=\"set\" />\n</template>\n\n<script>\nimport Container from '@/components/Container/Container.vue';\nimport form from '../helpers/form-conditional-display';\n\nexport default {\n\textends: Container,\n\tdata() {\n\t\treturn {\n\t\t\tcomponents: {\n\t\t\t\texample: form,\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",iF=function(){var t=this,e=t._self._c;return e("pkp-form",t._b({on:{set:t.set}},"pkp-form",t.components.example,!1))},sF=[],aF={extends:io,data(){return{components:{example:{...qT,errors:{email:["Please provide a valid email address"],affiliation:{en:["You must enter your affiliation in English."],fr_CA:["You must enter your affiliation in French."],ar:["You must enter your affiliation in Arabic."]},"user-locales":["You must select at least two options."],bio:{fr_CA:["Please provide a bio statement to accompany your publication."]},country:["Please select your country."],"mailing-address":["You must enter a mailing address where you can receive post."]}}}}}},lF=aF,rF=(0,T.Z)(lF,iF,sF,!1,null,null,null),oF=rF.exports,dF="<template>\n\t\x3c!-- Use the v-bind syntax to bind all props at once. --\x3e\n\t<pkp-form v-bind=\"components.example\" @set=\"set\" />\n</template>\n\n<script>\nimport Container from '@/components/Container/Container.vue';\nimport form from '../helpers/form-user';\n\nexport default {\n\textends: Container,\n\tdata() {\n\t\treturn {\n\t\t\tcomponents: {\n\t\t\t\texample: {\n\t\t\t\t\t...form,\n\t\t\t\t\terrors: {\n\t\t\t\t\t\temail: ['Please provide a valid email address'],\n\t\t\t\t\t\taffiliation: {\n\t\t\t\t\t\t\ten: ['You must enter your affiliation in English.'],\n\t\t\t\t\t\t\tfr_CA: ['You must enter your affiliation in French.'],\n\t\t\t\t\t\t\tar: ['You must enter your affiliation in Arabic.'],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'user-locales': ['You must select at least two options.'],\n\t\t\t\t\t\tbio: {\n\t\t\t\t\t\t\tfr_CA: [\n\t\t\t\t\t\t\t\t'Please provide a bio statement to accompany your publication.',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcountry: ['Please select your country.'],\n\t\t\t\t\t\t'mailing-address': [\n\t\t\t\t\t\t\t'You must enter a mailing address where you can receive post.',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n",pF='## Props\n\n| Key | Description |\n| --- | --- |\n| `action` | Where the form should be submitted. It should be a full URL (`http://...`) to the API endpoint where this form is handled. |\n| `canSubmit` | A boolean indicating whether this form can be submitted. The save button will be disable if this is false. Default: `true`. |\n| `errors` | Key/value object of messages. The key is the field `name` and the value is an array of errors. Errors are generated during form submission and handled automatically, so this prop can be omitted in most cicumstances. |\n| `fields` | Array of form fields. This prop is typically configured on the server, using the `Form` and `Field` classes in the PHP application. |\n| `groups` | Array of form groups. See "Groups and Group Descriptions" below. |\n| `hiddenFields` | Key/value of hidden fields that should be submitted with the form. The key will be used as the field\'s `name` attribute. |\n| `id` | Used by a parent component, such as `Container`, to identify events emitted from the form and update the form props when necessary. |\n| `method` | The method to use when submitting the form. This should match the API endpoint that will handle the form. It can be `POST` (create) or `PUT` (edit). |\n| `pages` | Array of form pages. See "Multi-page Forms" below. |\n| `primaryLocale` | The primary locale for this form. This may be the primary locale of the journal/press, submission or site depending on the form. |\n| `supportedFormLocales` | The locale(s) supported by this form. If a form has multilingual fields, it will display a separate input control for each of these locales. |\n| `visibleLocales` | The locale(s) the form is currently being presented in. |\n\n## Events\n\n| Key | Description |\n| --- | --- |\n| `set` | When the form props need to be updated. The payload is an object with any keys that need to be modified. |\n| `success` | When the form has been successfully submitted. The payload will include the server response from the successful form submission. This is usually the object that was added or edited. |\n\n## Global Events\n\n| Key | Description |\n| --- | --- |\n| `form-success` | When the form is successfully submitted. The payload will include the form ID and the server response from the successful form submission. This is usually the object that was added or edited. |\n| `notify` | When an error is encountered during form submission. |\n\n\n## Usage\n\nUse this component to display a form.\n\n## Pass props\n\nTypically you will generate all the required props from one of the `FormComponent` classes on the server side. These props can then be passed to the form.\n\n```html\n<pkp-form\n\tv-bind="formData"\n\t@set="set"\n/>\n```\n\n## Multi-page Forms\n\nUse a multi-page form when you want to guide the user through a multi-step process that ends in a single action. Reviewer assignment is an example of a multi-step process:\n\n1. Select a reviewer\n2. Select a review type and enter a deadline\n3. Prepare the notification email\n\nWe want to divide the action into smaller steps so that we don\'t overwhelm the user, but we shouldn\'t take any action until all steps are complete.\n\nDo _not_ use a multi-page form for all related forms, such as those on the settings page. A user may wish to only edit one setting and that change can be saved immediately without depending on further action in related forms.\n\nIf you want to indicate that forms are related, without requiring them to be submitted together, use [tabs](#/component/Tab).\n\n## Form Submission and Error Handling\n\nA `Form` expects to receive a URL to which it can submit a `PUT` or `POST` request to the application\'s API. Forms can handle the following responses from the API automatically:\n\n- A `200` response when successful with a JSON object describing the entity that was added or edited.\n- A `403` or `404` response when the server refuses the submission with a JSON object describing the error.\n- A `400` response when a validation error occurs with one of the fields. In this case, a JSON object will be returned with each invalid field as a key and an array of errors for that field.\n\nSee the [API Documentation](https://docs.pkp.sfu.ca/dev/api) for the specification of errors.\n\n## Groups and Group Descriptions\n\nFields can be organized into groups and given a group title and description. This should be done when fields benefit from the breakdown and when sufficient horizontal space is available.\n\nIf a form does not occupy the full workspace (~992px) because it is embedded in a tab or modal, avoid group titles and descriptions to ensure adequate space remains for the form fields.\n\n## Conditional Display\n\nFields can be shown or hidden based on the value of another field. The `showWhen` prop is used to control conditional display. This prop is documented in the [FieldBase](#/component/Form/fields/FieldBase) example.\n',cF={extends:H,data(){return{name:"Form",readme:pF,examples:[{component:hT,name:"Base",template:this.extractTemplate(bT)},{component:TT,name:"Multilingual",template:this.extractTemplate(FT)},{component:BT,name:"With Groups",template:this.extractTemplate(UT)},{component:zT,name:"With Pagination",template:this.extractTemplate(HT)},{component:eF,name:"With Conditional Display",template:this.extractTemplate(nF)},{component:oF,name:"With Errors",template:this.extractTemplate(dF)}]}}},uF=cF,mF=(0,T.Z)(uF,Ku,zu,!1,null,null,null),hF=mF.exports,bF=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewHeader"},[e("pkp-header",[e("h1",[t._v("Data Modelling and Conceptual Modelling")])]),e("pkp-header",[e("h3",[t._v("Participants")]),e("template",{slot:"actions"},[e("pkp-button",[t._v("Send Message")]),e("pkp-button",[t._v("Add Participant")])],1)],2),e("pkp-header",[e("h3",[t._v("Submissions")]),t.isLoading?e("spinner"):t._e(),e("template",{slot:"actions"},[e("pkp-button",{attrs:{isActive:t.isLoading},on:{click:function(e){t.isLoading=!t.isLoading}}},[t._v(" Toggle Loading Spinner ")])],1)],2),e("pkp-header",[e("h1",[t._v(" Data Modelling and Conceptual Modelling: a comparative analysis of functionality and roles within both wide and narrow scopes in a context of rapid synergistic iterative evolution ")]),e("template",{slot:"actions"},[e("pkp-button",[t._v("Preview")]),e("pkp-button",[t._v("Activity Log")])],1)],2),e("pkp-header",{attrs:{isOneLine:!1}},[e("h1",[t._v(" Data Modelling and Conceptual Modelling: a comparative analysis of functionality and roles within both wide and narrow scopes in a context of rapid synergistic iterative evolution ")]),e("template",{slot:"actions"},[e("pkp-button",[t._v("Preview")]),e("pkp-button",[t._v("Activity Log")])],1)],2)],1)},fF=[],gF={components:{PkpHeader:jt},data(){return{isLoading:!1}}},vF=gF,_F=(0,T.Z)(vF,bF,fF,!1,null,null,null),yF=_F.exports,kF='<template>\n\t<div class="previewHeader">\n\t\t<pkp-header>\n\t\t\t<h1>Data Modelling and Conceptual Modelling</h1>\n\t\t</pkp-header>\n\t\t<pkp-header>\n\t\t\t<h3>Participants</h3>\n\t\t\t<template slot="actions">\n\t\t\t\t<pkp-button>Send Message</pkp-button>\n\t\t\t\t<pkp-button>Add Participant</pkp-button>\n\t\t\t</template>\n\t\t</pkp-header>\n\t\t<pkp-header>\n\t\t\t<h3>Submissions</h3>\n\t\t\t<spinner v-if="isLoading" />\n\t\t\t<template slot="actions">\n\t\t\t\t<pkp-button :isActive="isLoading" @click="isLoading = !isLoading">\n\t\t\t\t\tToggle Loading Spinner\n\t\t\t\t</pkp-button>\n\t\t\t</template>\n\t\t</pkp-header>\n\t\t<pkp-header>\n\t\t\t<h1>\n\t\t\t\tData Modelling and Conceptual Modelling: a comparative analysis of\n\t\t\t\tfunctionality and roles within both wide and narrow scopes in a context\n\t\t\t\tof rapid synergistic iterative evolution\n\t\t\t</h1>\n\t\t\t<template slot="actions">\n\t\t\t\t<pkp-button>Preview</pkp-button>\n\t\t\t\t<pkp-button>Activity Log</pkp-button>\n\t\t\t</template>\n\t\t</pkp-header>\n\t\t<pkp-header :isOneLine="false">\n\t\t\t<h1>\n\t\t\t\tData Modelling and Conceptual Modelling: a comparative analysis of\n\t\t\t\tfunctionality and roles within both wide and narrow scopes in a context\n\t\t\t\tof rapid synergistic iterative evolution\n\t\t\t</h1>\n\t\t\t<template slot="actions">\n\t\t\t\t<pkp-button>Preview</pkp-button>\n\t\t\t\t<pkp-button>Activity Log</pkp-button>\n\t\t\t</template>\n\t\t</pkp-header>\n\t</div>\n</template>\n\n<script>\nimport PkpHeader from \'@/components/Header/Header.vue\';\n\nexport default {\n\tcomponents: {\n\t\tPkpHeader,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisLoading: false,\n\t\t};\n\t},\n};\n<\/script>\n\n<style lang="less">\n.previewHeader > {\n\tborder-top: 1px solid #eee;\n\n\t> * {\n\t\tborder: 1px solid #eee;\n\t\tborder-top: none;\n\t}\n}\n</style>\n',wF="## Props\n\n| Key | Description |\n| --- | --- |\n| `isOneLine` | Truncate the header text to fit on one line. Default: `true` |\n\n## Events\n\nThis component does not emit any events.\n\n## Usage\n\nThe `Header` component defines a consistent UI for providing a group of related components with a title, actions which interact with those components, and a loading spinner when requests are being processed.",SF={extends:H,data(){return{name:"Header",readme:wF,examples:[{component:yF,name:"Base",template:this.extractTemplate(kF)}]}}},TF=SF,FF=(0,T.Z)(TF,Hu,Zu,!1,null,null,null),xF=FF.exports,PF=function(){var t=this,e=t._self._c;return e("help-button",{attrs:{topic:"settings",section:"workflow-library",label:"Learn more about the Publisher Library"}})},LF=[],CF={components:{HelpButton:We}},AF=CF,IF=(0,T.Z)(AF,PF,LF,!1,null,null,null),DF=IF.exports,EF='<template>\n\t<help-button\n\t\ttopic="settings"\n\t\tsection="workflow-library"\n\t\tlabel="Learn more about the Publisher Library"\n\t/>\n</template>\n\n<script>\nimport HelpButton from \'@/components/HelpButton/HelpButton.vue\';\n\nexport default {\n\tcomponents: {\n\t\tHelpButton,\n\t},\n};\n<\/script>\n',RF='## Props\n\n| Key | Description |\n| --- | --- |\n| `topic` | Which topic to open in the help panel. This will correspond with one of the `.md` files used in the help panel. Do not include the `.md` extension. |\n| `section` | Open the help panel to a particular section of the topic. This must match one of the named anchors in the topic page, such as `<a name="workflow-library"></a>`. |\n| `label` | A localized label for screen readers. In English this should be "Help". |\n\n## Events\n\nThis component does not emit any events.\n\n## Usage\n\nUse this component to display an icon that will open the help panel when clicked.\n\n## Recommendations\n\nUse the help panel when **instructions** for completing actions require further information, such as a description of when one choice should be made over another. This will commonly occur with form fields or other controls where limited space is available.\n\nUse the help panel when you want to provide **recommendations** or **guidance** to the user. This is appropriate for non-required information, such as how to choose a good reviewer, or general usage guidance, such as what steps should be taken on a given workflow stage.\n\nDo _not_ use the help panel for **critical information** that the user needs to complete a required task. The majority of users will not open the help panel, so you should not rely on them reading the information to complete a task.\n',BF={extends:H,data(){return{name:"HelpButton",readme:RF,examples:[{component:DF,name:"Base",template:this.extractTemplate(EF)}]}}},UF=BF,OF=(0,T.Z)(UF,Gu,Yu,!1,null,null,null),MF=OF.exports,$F=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewIcon"},[e("icon",{attrs:{icon:"bug"}}),e("icon",{attrs:{icon:"info-circle"}}),e("icon",{attrs:{icon:"exclamation-triangle"}}),e("div",{staticClass:"previewIcon__inline"},[e("icon",{attrs:{icon:"search",inline:!0}}),t._v(" Search ")],1)],1)},NF=[],jF={},qF=(0,T.Z)(jF,$F,NF,!1,null,null,null),WF=qF.exports,VF='<template>\n\t<div class="previewIcon">\n\t\t<icon icon="bug" />\n\t\t<icon icon="info-circle" />\n\t\t<icon icon="exclamation-triangle" />\n\t\t<div class="previewIcon__inline">\n\t\t\t<icon icon="search" :inline="true" />\n\t\t\tSearch\n\t\t</div>\n\t</div>\n</template>\n\n<style lang="less">\n@import \'../../../../styles/_import\';\n\n.previewIcon > .fa + .fa {\n\tmargin-left: 1rem;\n}\n.previewIcon__inline {\n\tfont-size: @font-sml;\n}\n</style>\n',KF='## Props\n\n| Key | Description |\n| --- | --- |\n| `icon` | Which <a href="https://fontawesome.com/">FontAwesome</a> icon to use. Drop the `fa-` prefix from the class name. If you want to use `fa-bug`, the value of this prop should be `bug`. |\n| `inline` | Use when an icon sits alongside text to ensure adequate spacing between the icon and text. |\n\n## Events\n\nThis component does not emit any events\n\n## Usage\n\nUse this component to display a [FontAwesome v4.7](https://fontawesome.com/v4.7.0) icon. See [all icons](https://fontawesome.com/v4.7.0/icons/).\n\nUse icons when you want to visually connect two parts of the UI that are not otherwise connected. For example, the [ListPanel](#/component/ListPanel) filters use an icon to link the button with the panel it controls.\n\n### Be careful when using icon-only labels\n\nYou may want to use icon-only labels when fitting a lot of information into a small space. Such icon-based display can be useful for presenting dense information, but these patterns tend to favor experienced users over novice ones. Use with caution.\n\n### Avoid decorative icons\n\nWhen adding buttons or other controls, do not add an icon when the text label sufficiently describes the action.\n\n## Help Icon\n\nThe `info-circle` icon (<span class="fa fa-info-circle" aria-hidden="true"></span>) is reserved for providing help on how to use the software.\n\n## Warning Icon\n\nThe `exclamation-triangle` icon (<span class="fa fa-exclamation-triangle" aria-hidden="true"></span>) is reserved for warning the user about an error, urgent information, or a serious consequence of an expected action.\n',zF={extends:H,data(){return{name:"Icon",readme:KF,examples:[{component:WF,name:"Base",template:this.extractTemplate(VF)}]}}},HF=zF,ZF=(0,T.Z)(HF,Ju,Xu,!1,null,null,null),GF=ZF.exports,YF=function(){var t=this,e=t._self._c;return e("institutions-list-panel",{attrs:{addInstitutionLabel:"Add Institution",apiUrl:"",confirmDeleteMessage:"Are you sure you want to delete this institution?",deleteInstitutionLabel:"Delete Institution",editInstitutionLabel:"Edit Institution",form:t.form,id:"previewInstitutionsListPanel",items:t.items,itemsMax:t.itemsMax,title:"Institutions",urlBase:"https://example.com/institution/view/__id__"}})},JF=[],XF=function(){var t=this,e=t._self._c;return e("div",{staticClass:"institutionsListPanel"},[t._t("default",(function(){return[e("list-panel",{attrs:{items:t.items},scopedSlots:t._u([{key:"item-title",fn:function({item:n}){return[e("span",{attrs:{id:"institution-"+n.id}},[t._v(" "+t._s(t.localize(n.name))+" ")])]}},{key:"item-actions",fn:function({item:n}){return[e("pkp-button",{attrs:{"aria-describedby":"institution-"+n.id},on:{click:function(e){return t.openEditModal(n.id)}}},[t._v(" "+t._s(t.__("common.edit"))+" ")]),e("pkp-button",{attrs:{isWarnable:!0,"aria-describedby":"institution-"+n.id},on:{click:function(e){return t.openDeleteModal(n.id)}}},[t._v(" "+t._s(t.__("common.delete"))+" ")])]}}])},[e("pkp-header",{attrs:{slot:"header"},slot:"header"},[e("h2",[t._v(t._s(t.title))]),t.isLoading?e("spinner"):t._e(),e("template",{slot:"actions"},[e("search",{attrs:{searchPhrase:t.searchPhrase},on:{"search-phrase-changed":t.setSearchPhrase}}),e("pkp-button",{on:{click:t.openAddModal}},[t._v(" "+t._s(t.addInstitutionLabel)+" ")])],1)],2),t.lastPage>1?e("pagination",{attrs:{slot:"footer",currentPage:t.currentPage,isLoading:t.isLoading,lastPage:t.lastPage},on:{"set-page":t.setPage},slot:"footer"}):t._e()],1),e("modal",{attrs:{closeLabel:t.__("common.close"),name:"form",title:t.activeFormTitle},on:{closed:t.formModalClosed}},[e("pkp-form",t._b({on:{set:t.updateForm,success:t.formSuccess}},"pkp-form",t.activeForm,!1))],1)]}))],2)},QF=[],tx={components:{ListPanel:Kt,Pagination:Jt,PkpForm:aa,PkpHeader:jt,Search:Ui,Modal:ot},mixins:[la,Dn],props:{addInstitutionLabel:{type:String,required:!0},confirmDeleteMessage:{type:String,required:!0},deleteInstitutionLabel:{type:String,required:!0},editInstitutionLabel:{type:String,required:!0},form:{type:Object,required:!0},id:{type:String,required:!0},items:{type:Array,default(){return[]}},itemsMax:{type:Number,default(){return 0}},title:{type:String,required:!0}},data(){return{activeForm:null,activeFormTitle:"",resetFocusTo:null}},methods:{formModalClosed(t){this.activeForm=null,this.activeFormTitle="",this.resetFocusTo&&this.resetFocusTo.focus()},formSuccess(t){"POST"===this.activeForm.method?(this.offset=0,this.get(),pkp.eventBus.$emit("add:institution",t)):(this.setItems(this.items.map((e=>e.id===t.id?t:e)),this.itemsMax),pkp.eventBus.$emit("update:institution",t)),this.$modal.hide("form")},openAddModal(){this.resetFocusTo=document.activeElement;let t=oa()(this.form);t.action=this.apiUrl,t.method="POST",this.activeForm=t,this.activeFormTitle=this.addInstitutionLabel,this.$modal.show("form")},openDeleteModal(t){const e=this.items.find((e=>e.id===t));"undefined"!==typeof e?this.openDialog({name:"delete",title:this.deleteInstitutionLabel,message:this.replaceLocaleParams(this.confirmDeleteMessage,{title:this.localize(e.title)}),actions:[{label:this.__("common.yes"),isPrimary:!0,callback:()=>{var e=this;$.ajax({url:this.apiUrl+"/"+t,type:"POST",headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"DELETE"},error:e.ajaxErrorCallback,success:function(n){e.setItems(e.items.filter((e=>e.id!==t)),e.itemsMax),e.$modal.hide("delete"),e.setFocusIn(e.$el)}})}},{label:this.__("common.no"),isWarnable:!0,callback:()=>this.$modal.hide("delete")}]}):this.ajaxErrorCallback({})},openEditModal(t){this.resetFocusTo=document.activeElement;const e=this.items.find((e=>e.id===t));if(!e)return void this.ajaxErrorCallback({});let n=oa()(this.form);n.action=this.apiUrl+"/"+t,n.method="PUT",n.fields=n.fields.map((t=>(Object.keys(e).includes(t.name)&&("ipRanges"===t.name?t.value=e[t.name].join("\r\n"):t.value=e[t.name]),t))),this.activeForm=n,this.activeFormTitle=this.editInstitutionLabel,this.$modal.show("form")},setItems(t,e){this.$emit("set",this.id,{items:t,itemsMax:e})},updateForm(t,e){let n={...this.activeForm};Object.keys(e).forEach((function(t){n[t]=e[t]})),this.activeForm=n}}},ex=tx,nx=(0,T.Z)(ex,XF,QF,!1,null,null,null),ix=nx.exports,sx={...Da,id:"example",action:"https://example.org/example",fields:[{name:"name",component:"field-text",inputType:"text",label:"Name",isRequired:!0,size:"large",value:{en:"",fr_CA:"",ar:""},isMultilingual:!0,groupId:"default"},{name:"ipRanges",component:"field-textarea",label:"IP ranges",description:"Valid values include an IP address (e.g. 142.58.103.1), IP range (e.g. 142.58.103.1 - 142.58.103.4), IP range with wildcard '*' (e.g. 142.58.*.*), and an IP range with CIDR (e.g. 142.58.100.0/24).",value:"",size:"large",isMultilingual:!1,groupId:"default"}],groups:[{id:"default",pageId:"default"}],supportedFormLocales:[...Da.supportedFormLocales,{key:"fr_CA",label:"Français (Canada)"},{key:"ar",label:"عربى"}]},ax={components:{InstitutionsListPanel:ix},data(){const t=[{id:1,name:{en:"Institution 1 Name EN",fr_CA:"Institution 1 Name FR",ar:"Institution 1 Name AR"},ipRanges:["142.60.*.*"]},{id:2,name:{en:"Institution 2 Name EN",fr_CA:"Institution 2 Name FR",ar:"Institution 2 Name AR"},ipRanges:["142.58.103.1 - 142.58.103.4","142.59.*.*"]},{id:3,name:{en:"Institution 3 Name EN",fr_CA:"Institution 3 Name FR",ar:"Institution 3 Name AR"}},{id:4,name:{en:"Institution 4 Name EN",fr_CA:"Institution 4 Name FR",ar:"Institution 4 Name AR"}}];return{form:{...sx},items:[...t],itemsMax:t.length}}},lx=ax,rx=(0,T.Z)(lx,YF,JF,!1,null,null,null),ox=rx.exports,dx="<template>\n\t<institutions-list-panel\n\t\taddInstitutionLabel=\"Add Institution\"\n\t\tapiUrl=\"\"\n\t\tconfirmDeleteMessage=\"Are you sure you want to delete this institution?\"\n\t\tdeleteInstitutionLabel=\"Delete Institution\"\n\t\teditInstitutionLabel=\"Edit Institution\"\n\t\t:form=\"form\"\n\t\tid=\"previewInstitutionsListPanel\"\n\t\t:items=\"items\"\n\t\t:itemsMax=\"itemsMax\"\n\t\ttitle=\"Institutions\"\n\t\turlBase=\"https://example.com/institution/view/__id__\"\n\t/>\n</template>\n<script>\nimport InstitutionsListPanel from '@/components/ListPanel/institutions/InstitutionsListPanel.vue';\nimport form from '@/docs/components/Form/helpers/form-institution';\n\nexport default {\n\tcomponents: {\n\t\tInstitutionsListPanel,\n\t},\n\tdata() {\n\t\tconst institutions = [\n\t\t\t{\n\t\t\t\tid: 1,\n\t\t\t\tname: {\n\t\t\t\t\ten: 'Institution 1 Name EN',\n\t\t\t\t\tfr_CA: 'Institution 1 Name FR',\n\t\t\t\t\tar: 'Institution 1 Name AR',\n\t\t\t\t},\n\t\t\t\tipRanges: ['142.60.*.*'],\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 2,\n\t\t\t\tname: {\n\t\t\t\t\ten: 'Institution 2 Name EN',\n\t\t\t\t\tfr_CA: 'Institution 2 Name FR',\n\t\t\t\t\tar: 'Institution 2 Name AR',\n\t\t\t\t},\n\t\t\t\tipRanges: ['142.58.103.1 - 142.58.103.4', '142.59.*.*'],\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 3,\n\t\t\t\tname: {\n\t\t\t\t\ten: 'Institution 3 Name EN',\n\t\t\t\t\tfr_CA: 'Institution 3 Name FR',\n\t\t\t\t\tar: 'Institution 3 Name AR',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 4,\n\t\t\t\tname: {\n\t\t\t\t\ten: 'Institution 4 Name EN',\n\t\t\t\t\tfr_CA: 'Institution 4 Name FR',\n\t\t\t\t\tar: 'Institution 4 Name AR',\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\n\t\treturn {\n\t\t\tform: {...form},\n\t\t\titems: [...institutions],\n\t\t\titemsMax: institutions.length,\n\t\t};\n\t},\n};\n<\/script>\n",px={extends:H,data(){return{name:"InstitutionsListPanel",examples:[{component:ox,name:"Base",template:this.extractTemplate(dx)}]}}},cx=px,ux=(0,T.Z)(cx,Qu,tm,!1,null,null,null),mx=ux.exports,hx=function(){var t=this,e=t._self._c;return e("list",[e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"comment-o",inline:!0}}),t._v(" 32 ")],1),t._v(" Number of active discussions in this journal. ")],2),e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"clock-o",inline:!0}}),t._v(" 67 ")],1),t._v(" Days until next issue is published. ")],2),e("list-item",[e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}),t._v(" This journal is not currently available for the public to view. Would you like to "),e("a",{attrs:{href:"#"}},[t._v("make it public")]),t._v(" ? ")],1)],1)},bx=[],fx={components:{List:ur,ListItem:vr}},gx=fx,vx=(0,T.Z)(gx,hx,bx,!1,null,null,null),_x=vx.exports,yx='<template>\n\t<list>\n\t\t<list-item>\n\t\t\t<template slot="value">\n\t\t\t\t<icon icon="comment-o" :inline="true" />\n\t\t\t\t32\n\t\t\t</template>\n\t\t\tNumber of active discussions in this journal.\n\t\t</list-item>\n\t\t<list-item>\n\t\t\t<template slot="value">\n\t\t\t\t<icon icon="clock-o" :inline="true" />\n\t\t\t\t67\n\t\t\t</template>\n\t\t\tDays until next issue is published.\n\t\t</list-item>\n\t\t<list-item>\n\t\t\t<icon icon="exclamation-triangle" :inline="true" />\n\t\t\tThis journal is not currently available for the public to view. Would you\n\t\t\tlike to\n\t\t\t<a href="#">make it public</a>\n\t\t\t?\n\t\t</list-item>\n\t</list>\n</template>\n\n<script>\nimport List from \'@/components/List/List.vue\';\nimport ListItem from \'@/components/List/ListItem.vue\';\n\nexport default {\n\tcomponents: {\n\t\tList,\n\t\tListItem,\n\t},\n};\n<\/script>\n',kx='## Props\n\nThis component does not have any props.\n\n## Events\n\nThis component does not emit any events.\n\n## Usage\n\nUse this component to display simple lists of content that should be grouped together.\n\nLists use [component slots](https://vuejs.org/v2/guide/components.html#Content-Distribution-with-Slots) which allow you to compose lists directly in the template. Wrap any content in a `<list>` and `<list-item>` like this:\n\n```html\n<list>\n\t<list-item>\n\t\tAnything <em>goes</em> here.\n\t</list-item>\n</list>\n```\n\nYou can also use other components inside a `<list-item>`.\n\n```html\n<list>\n\t<list-item>\n\t\t<pkp-button @click="click">Submit</pkp-button>\n\t</list-item>\n</list>\n```\n\nPass a short piece of information to the `value` slot and it will appear in a consistent style.\n\n```html\n<list>\n\t<list-item>\n\t\t<template slot="value">\n\t\t\t<icon icon="comment-o" :inline="true" /> 32\n\t\t</template>\n\t\tNumber of active discussions in this journal.\n\t</list-item>\n</list>\n```\n\n\n## Usage Recommendations\n\nIf one `value` slot includes an icon, all `value` slots should include icons. The user should be able to scan from top to bottom with all text aligned vertically on the left.\n',wx={extends:H,data(){return{name:"List",readme:kx,examples:[{component:_x,name:"Base",template:this.extractTemplate(yx)}]}}},Sx=wx,Tx=(0,T.Z)(Sx,em,nm,!1,null,null,null),Fx=Tx.exports,xx=function(){var t=this,e=t._self._c;return e("list-panel",{attrs:{items:t.items,title:"List Panel"}})},Px=[],Lx=[{id:1,title:"C. Corino et. al",subtitle:"Lorem ipsum dolor sit amet"},{id:2,title:"D. Barnes et. al",subtitle:"Amet sit dolor ipsum lorem"},{id:3,title:"A Mwandenga",subtitle:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur"}],Cx={components:{ListPanel:Kt},data(){return{items:[...Lx]}}},Ax=Cx,Ix=(0,T.Z)(Ax,xx,Px,!1,null,null,null),Dx=Ix.exports,Ex="<template>\n\t<list-panel :items=\"items\" title=\"List Panel\" />\n</template>\n\n<script>\nimport ListPanel from '@/components/ListPanel/ListPanel.vue';\nimport items from '../helpers/items.js';\n\nexport default {\n\tcomponents: {\n\t\tListPanel,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\titems: [...items],\n\t\t};\n\t},\n};\n<\/script>\n",Rx=function(){var t=this,e=t._self._c;return e("list-panel",{attrs:{items:t.items}},[e("pkp-header",{attrs:{slot:"header"},slot:"header"},[e("h2",[t._v("List Panel with Actions")]),e("template",{slot:"actions"},[e("pkp-button",{on:{click:t.openModal}},[t._v("Add Item")]),e("pkp-button",{attrs:{isWarnable:!0},on:{click:t.openModal}},[t._v(" Reset Defaults ")])],1)],2)],1)},Bx=[],Ux={components:{ListPanel:Kt,PkpHeader:jt},data(){return{items:[...Lx]}},methods:{openModal(){alert("You opened this modal.")}}},Ox=Ux,Mx=(0,T.Z)(Ox,Rx,Bx,!1,null,null,null),$x=Mx.exports,Nx='<template>\n\t<list-panel :items="items">\n\t\t<pkp-header slot="header">\n\t\t\t<h2>List Panel with Actions</h2>\n\t\t\t<template slot="actions">\n\t\t\t\t<pkp-button @click="openModal">Add Item</pkp-button>\n\t\t\t\t<pkp-button @click="openModal" :isWarnable="true">\n\t\t\t\t\tReset Defaults\n\t\t\t\t</pkp-button>\n\t\t\t</template>\n\t\t</pkp-header>\n\t</list-panel>\n</template>\n\n<script>\nimport ListPanel from \'@/components/ListPanel/ListPanel.vue\';\nimport PkpHeader from \'@/components/Header/Header.vue\';\nimport items from \'../helpers/items\';\n\nexport default {\n\tcomponents: {\n\t\tListPanel,\n\t\tPkpHeader,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\titems: [...items],\n\t\t};\n\t},\n\tmethods: {\n\t\topenModal() {\n\t\t\talert(\'You opened this modal.\');\n\t\t},\n\t},\n};\n<\/script>\n',jx=function(){var t=this,e=t._self._c;return e("list-panel",{staticClass:"previewListPanelDescription",attrs:{items:t.items}},[e("template",{slot:"header"},[e("pkp-header",[e("h2",[t._v("ListPanel with Description")])]),e("p",[t._v(" This is an example of description text that can be displayed with the panel. This is an example of description text that can be displayed with the panel. ")])],1)],2)},qx=[],Wx={components:{ListPanel:Kt,PkpHeader:jt},data(){return{items:[...Lx]}}},Vx=Wx,Kx=(0,T.Z)(Vx,jx,qx,!1,null,null,null),zx=Kx.exports,Hx="<template>\n\t<list-panel :items=\"items\" class=\"previewListPanelDescription\">\n\t\t<template slot=\"header\">\n\t\t\t<pkp-header>\n\t\t\t\t<h2>ListPanel with Description</h2>\n\t\t\t</pkp-header>\n\t\t\t<p>\n\t\t\t\tThis is an example of description text that can be displayed with the\n\t\t\t\tpanel. This is an example of description text that can be displayed with\n\t\t\t\tthe panel.\n\t\t\t</p>\n\t\t</template>\n\t</list-panel>\n</template>\n\n<script>\nimport ListPanel from '@/components/ListPanel/ListPanel.vue';\nimport PkpHeader from '@/components/Header/Header.vue';\nimport items from '../helpers/items';\n\nexport default {\n\tcomponents: {\n\t\tListPanel,\n\t\tPkpHeader,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\titems: [...items],\n\t\t};\n\t},\n};\n<\/script>\n\n<style lang=\"less\">\n@import '../../../../styles/_import';\n\n.previewListPanelDescription .listPanel__header p {\n\tmargin: 0;\n}\n</style>\n",Zx=function(){var t=this,e=t._self._c;return e("list-panel",{attrs:{items:[],title:"ListPanel with No Items"}})},Gx=[],Yx={components:{ListPanel:Kt}},Jx=Yx,Xx=(0,T.Z)(Jx,Zx,Gx,!1,null,null,null),Qx=Xx.exports,tP='<template>\n\t<list-panel :items="[]" title="ListPanel with No Items" />\n</template>\n\n<script>\nimport ListPanel from \'@/components/ListPanel/ListPanel.vue\';\n\nexport default {\n\tcomponents: {\n\t\tListPanel,\n\t},\n};\n<\/script>\n',eP=function(){var t=this,e=t._self._c;return e("list-panel",{attrs:{items:t.items,isSidebarVisible:t.isSidebarVisible}},[e("pkp-header",{attrs:{slot:"header"},slot:"header"},[e("h2",[t._v("List Panel with Filter")]),e("template",{slot:"actions"},[e("pkp-button",{attrs:{isActive:t.isSidebarVisible},on:{click:t.toggleFilters}},[e("icon",{attrs:{icon:"filter",inline:!0}}),t._v(" Filters ")],1)],1)],2),e("template",{slot:"sidebar"},[e("pkp-header",{attrs:{isOneLine:!1}},[e("h3",[e("icon",{attrs:{icon:"filter",inline:!0}}),t._v(" Filters ")],1)]),t._l(t.colorFilters,(function(n){return e("pkp-filter",{key:n.value,attrs:{param:n.param,title:n.title,value:n.value,isFilterActive:t.isFilterActive(n.param,n.value)},on:{"add-filter":t.addFilter,"remove-filter":t.removeFilter}})}))],2)],2)},nP=[],iP={components:{ListPanel:Kt,PkpFilter:Ul,PkpHeader:jt},data(){return{activeFilters:{},colorFilters:[{param:"color",title:"Red",value:"red"},{param:"color",title:"Green",value:"green"},{param:"color",title:"Blue",value:"blue"}],isSidebarVisible:!1,items:[...Lx]}},methods:{toggleFilters(){this.isSidebarVisible=!this.isSidebarVisible},addFilter(t,e){let n={...this.activeFilters};n[t]=e,this.activeFilters=n},removeFilter(t,e){let n={...this.activeFilters};delete n[t],this.activeFilters=n},isFilterActive:function(t,e){return!!Object.keys(this.activeFilters).includes(t)&&(Array.isArray(this.activeFilters[t])?this.activeFilters[t].includes(e):this.activeFilters[t]===e)}}},sP=iP,aP=(0,T.Z)(sP,eP,nP,!1,null,null,null),lP=aP.exports,rP='<template>\n\t<list-panel :items="items" :isSidebarVisible="isSidebarVisible">\n\t\t<pkp-header slot="header">\n\t\t\t<h2>List Panel with Filter</h2>\n\t\t\t<template slot="actions">\n\t\t\t\t<pkp-button :isActive="isSidebarVisible" @click="toggleFilters">\n\t\t\t\t\t<icon icon="filter" :inline="true" />\n\t\t\t\t\tFilters\n\t\t\t\t</pkp-button>\n\t\t\t</template>\n\t\t</pkp-header>\n\t\t<template slot="sidebar">\n\t\t\t<pkp-header :isOneLine="false">\n\t\t\t\t<h3>\n\t\t\t\t\t<icon icon="filter" :inline="true" />\n\t\t\t\t\tFilters\n\t\t\t\t</h3>\n\t\t\t</pkp-header>\n\t\t\t<pkp-filter\n\t\t\t\tv-for="filter in colorFilters"\n\t\t\t\t:key="filter.value"\n\t\t\t\t:param="filter.param"\n\t\t\t\t:title="filter.title"\n\t\t\t\t:value="filter.value"\n\t\t\t\t:isFilterActive="isFilterActive(filter.param, filter.value)"\n\t\t\t\t@add-filter="addFilter"\n\t\t\t\t@remove-filter="removeFilter"\n\t\t\t/>\n\t\t</template>\n\t</list-panel>\n</template>\n\n<script>\nimport ListPanel from \'@/components/ListPanel/ListPanel.vue\';\nimport PkpFilter from \'@/components/Filter/Filter.vue\';\nimport PkpHeader from \'@/components/Header/Header.vue\';\nimport items from \'../helpers/items\';\n\nexport default {\n\tcomponents: {\n\t\tListPanel,\n\t\tPkpFilter,\n\t\tPkpHeader,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tactiveFilters: {},\n\t\t\tcolorFilters: [\n\t\t\t\t{\n\t\t\t\t\tparam: \'color\',\n\t\t\t\t\ttitle: \'Red\',\n\t\t\t\t\tvalue: \'red\',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tparam: \'color\',\n\t\t\t\t\ttitle: \'Green\',\n\t\t\t\t\tvalue: \'green\',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tparam: \'color\',\n\t\t\t\t\ttitle: \'Blue\',\n\t\t\t\t\tvalue: \'blue\',\n\t\t\t\t},\n\t\t\t],\n\t\t\tisSidebarVisible: false,\n\t\t\titems: [...items],\n\t\t};\n\t},\n\tmethods: {\n\t\ttoggleFilters() {\n\t\t\tthis.isSidebarVisible = !this.isSidebarVisible;\n\t\t},\n\t\taddFilter(param, value) {\n\t\t\tlet activeFilters = {...this.activeFilters};\n\t\t\tactiveFilters[param] = value;\n\t\t\tthis.activeFilters = activeFilters;\n\t\t},\n\t\tremoveFilter(param, value) {\n\t\t\tlet activeFilters = {...this.activeFilters};\n\t\t\tdelete activeFilters[param];\n\t\t\tthis.activeFilters = activeFilters;\n\t\t},\n\t\tisFilterActive: function (param, value) {\n\t\t\tif (!Object.keys(this.activeFilters).includes(param)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (Array.isArray(this.activeFilters[param])) {\n\t\t\t\treturn this.activeFilters[param].includes(value);\n\t\t\t}\n\t\t\treturn this.activeFilters[param] === value;\n\t\t},\n\t},\n};\n<\/script>\n',oP=function(){var t=this,e=t._self._c;return e("list-panel",{attrs:{items:t.items,title:"List Panel with Item Actions"},scopedSlots:t._u([{key:"item-actions",fn:function({item:n}){return[e("pkp-button",{on:{click:function(e){return t.openModal(n.title)}}},[t._v("Edit")]),e("pkp-button",{attrs:{isWarnable:!0},on:{click:function(e){return t.openModal(n.title)}}},[t._v(" Delete ")])]}}])})},dP=[],pP={components:{ListPanel:Kt},data(){return{items:[...Lx]}},methods:{openModal(t){alert("You opened a modal for "+t+".")}}},cP=pP,uP=(0,T.Z)(cP,oP,dP,!1,null,null,null),mP=uP.exports,hP='<template>\n\t<list-panel :items="items" title="List Panel with Item Actions">\n\t\t<template v-slot:item-actions="{item}">\n\t\t\t<pkp-button @click="openModal(item.title)">Edit</pkp-button>\n\t\t\t<pkp-button @click="openModal(item.title)" :isWarnable="true">\n\t\t\t\tDelete\n\t\t\t</pkp-button>\n\t\t</template>\n\t</list-panel>\n</template>\n\n<script>\nimport ListPanel from \'@/components/ListPanel/ListPanel.vue\';\nimport items from \'../helpers/items\';\n\nexport default {\n\tcomponents: {\n\t\tListPanel,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\titems: [...items],\n\t\t};\n\t},\n\tmethods: {\n\t\topenModal(title) {\n\t\t\talert(\'You opened a modal for \' + title + \'.\');\n\t\t},\n\t},\n};\n<\/script>\n',bP=function(){var t=this,e=t._self._c;return e("list-panel",{staticClass:"previewListPanelItemExpander",attrs:{expanded:t.expanded,items:t.items,title:"List Panel with Item Expander"},scopedSlots:t._u([{key:"item-actions",fn:function({item:n}){return[e("pkp-button",{on:{click:function(e){return t.openModal(n.title)}}},[t._v("Edit")]),e("expander",{attrs:{isExpanded:t.expanded.includes(n.id),itemName:n.title},on:{toggle:function(e){return t.toggleExpanded(n.id)}}})]}},{key:"itemExpanded",fn:function({}){return[e("list",[e("list-item",[t._v("Ut enim ad minim veniam, quis nostrud")]),e("list-item",[t._v(" Duis aute irure dolor in reprehenderit in voluptate velit esse cillum. ")])],1),e("div",{staticClass:"listPanel__itemExpandedActions"},[e("pkp-button",{on:{click:t.openModal}},[t._v("Approve")]),e("pkp-button",{attrs:{isWarnable:!0},on:{click:t.openModal}},[t._v("Decline")])],1)]}}])})},fP=[],gP={components:{Expander:lr,List:ur,ListItem:vr,ListPanel:Kt},data(){return{items:[...Lx],expanded:[]}},methods:{openModal(t){alert("Edit "+t)},toggleExpanded(t){this.expanded.includes(t)?this.expanded=this.expanded.filter((e=>e!==t)):this.expanded.push(t)}}},vP=gP,_P=(0,T.Z)(vP,bP,fP,!1,null,null,null),yP=_P.exports,kP='<template>\n\t<list-panel\n\t\t:expanded="expanded"\n\t\t:items="items"\n\t\ttitle="List Panel with Item Expander"\n\t\tclass="previewListPanelItemExpander"\n\t>\n\t\t<template v-slot:item-actions="{item}">\n\t\t\t<pkp-button @click="openModal(item.title)">Edit</pkp-button>\n\t\t\t<expander\n\t\t\t\t:isExpanded="expanded.includes(item.id)"\n\t\t\t\t:itemName="item.title"\n\t\t\t\t@toggle="toggleExpanded(item.id)"\n\t\t\t/>\n\t\t</template>\n\t\t<template v-slot:itemExpanded="{}">\n\t\t\t<list>\n\t\t\t\t<list-item>Ut enim ad minim veniam, quis nostrud</list-item>\n\t\t\t\t<list-item>\n\t\t\t\t\tDuis aute irure dolor in reprehenderit in voluptate velit esse cillum.\n\t\t\t\t</list-item>\n\t\t\t</list>\n\t\t\t<div class="listPanel__itemExpandedActions">\n\t\t\t\t<pkp-button @click="openModal">Approve</pkp-button>\n\t\t\t\t<pkp-button :isWarnable="true" @click="openModal">Decline</pkp-button>\n\t\t\t</div>\n\t\t</template>\n\t</list-panel>\n</template>\n\n<script>\nimport Expander from \'@/components/Expander/Expander.vue\';\nimport List from \'@/components/List/List.vue\';\nimport ListItem from \'@/components/List/ListItem.vue\';\nimport ListPanel from \'@/components/ListPanel/ListPanel.vue\';\nimport items from \'../helpers/items\';\n\nexport default {\n\tcomponents: {\n\t\tExpander,\n\t\tList,\n\t\tListItem,\n\t\tListPanel,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\titems: [...items],\n\t\t\texpanded: [],\n\t\t};\n\t},\n\tmethods: {\n\t\topenModal(title) {\n\t\t\talert(\'Edit \' + title);\n\t\t},\n\t\ttoggleExpanded(id) {\n\t\t\tif (this.expanded.includes(id)) {\n\t\t\t\tthis.expanded = this.expanded.filter((k) => k !== id);\n\t\t\t} else {\n\t\t\t\tthis.expanded.push(id);\n\t\t\t}\n\t\t},\n\t},\n};\n<\/script>\n',wP=function(){var t=this,e=t._self._c;return e("list-panel",{attrs:{items:t.items,title:"List Panel with Pagination"}},[t.lastPage>1?e("pagination",{attrs:{slot:"footer",currentPage:t.currentPage,isLoading:t.isLoading,lastPage:t.lastPage},on:{"set-page":t.setPage},slot:"footer"}):t._e()],1)},SP=[];let TP=[];for(let $=1;$<31;$++)TP.push({id:$,title:"Item "+$});var FP,xP,PP,LP,CP,AP,IP,DP,EP,RP,BP,UP,OP,MP,$P,NP,jP,qP,WP,VP,KP,zP,HP,ZP,GP,YP,JP,XP,QP,tL,eL,nL,iL={components:{ListPanel:Kt,Pagination:Jt},data(){return{allItems:TP,count:5,isLoading:!1,items:TP.slice(0,5),itemsMax:TP.length,offset:0}},computed:{currentPage(){return Math.floor(this.offset/this.count)+1},lastPage(){return Math.ceil(this.itemsMax/this.count)}},methods:{setPage:function(t){this.isLoading=!0,setTimeout((()=>{this.offset=t*this.count-this.count,this.items=this.allItems.slice(this.offset,this.count+this.offset),this.isLoading=!1}),1e3)}}},sL=iL,aL=(0,T.Z)(sL,wP,SP,!1,null,null,null),lL=aL.exports,rL='<template>\n\t<list-panel :items="items" title="List Panel with Pagination">\n\t\t<pagination\n\t\t\tv-if="lastPage > 1"\n\t\t\tslot="footer"\n\t\t\t:currentPage="currentPage"\n\t\t\t:isLoading="isLoading"\n\t\t\t:lastPage="lastPage"\n\t\t\t@set-page="setPage"\n\t\t/>\n\t</list-panel>\n</template>\n\n<script>\nimport ListPanel from \'@/components/ListPanel/ListPanel.vue\';\nimport Pagination from \'@/components/Pagination/Pagination.vue\';\n\nlet manyItems = [];\nfor (let i = 1; i < 31; i++) {\n\tmanyItems.push({\n\t\tid: i,\n\t\ttitle: \'Item \' + i,\n\t});\n}\n\nexport default {\n\tcomponents: {\n\t\tListPanel,\n\t\tPagination,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tallItems: manyItems,\n\t\t\tcount: 5,\n\t\t\tisLoading: false,\n\t\t\titems: manyItems.slice(0, 5),\n\t\t\titemsMax: manyItems.length,\n\t\t\toffset: 0,\n\t\t};\n\t},\n\tcomputed: {\n\t\tcurrentPage() {\n\t\t\treturn Math.floor(this.offset / this.count) + 1;\n\t\t},\n\t\tlastPage() {\n\t\t\treturn Math.ceil(this.itemsMax / this.count);\n\t\t},\n\t},\n\tmethods: {\n\t\tsetPage: function (page) {\n\t\t\t// Mock a delay for a remote request\n\t\t\tthis.isLoading = true;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.offset = page * this.count - this.count;\n\t\t\t\tthis.items = this.allItems.slice(this.offset, this.count + this.offset);\n\t\t\t\tthis.isLoading = false;\n\t\t\t}, 1000);\n\t\t},\n\t},\n};\n<\/script>\n',oL=function(){var t=this,e=t._self._c;return e("list-panel",{attrs:{items:t.items}},[e("pkp-header",{attrs:{slot:"header"},slot:"header"},[e("h2",[t._v("List Panel with Search")]),e("template",{slot:"actions"},[e("search",{attrs:{searchPhrase:t.searchPhrase},on:{"search-phrase-changed":t.setSearchPhrase}})],1)],2)],1)},dL=[],pL={components:{ListPanel:Kt,PkpHeader:jt,Search:Ui},data(){return{items:[...Lx],originalItems:[...Lx],searchPhrase:""}},methods:{setSearchPhrase(t){this.searchPhrase=t,t.length?this.items=this.originalItems.filter((e=>new RegExp(t,"i").test(e.title)||new RegExp(t,"i").test(e.subtitle))):this.items=[...this.originalItems]}}},cL=pL,uL=(0,T.Z)(cL,oL,dL,!1,null,null,null),mL=uL.exports,hL="<template>\n\t<list-panel :items=\"items\">\n\t\t<pkp-header slot=\"header\">\n\t\t\t<h2>List Panel with Search</h2>\n\t\t\t<template slot=\"actions\">\n\t\t\t\t<search\n\t\t\t\t\t:searchPhrase=\"searchPhrase\"\n\t\t\t\t\t@search-phrase-changed=\"setSearchPhrase\"\n\t\t\t\t/>\n\t\t\t</template>\n\t\t</pkp-header>\n\t</list-panel>\n</template>\n\n<script>\nimport ListPanel from '@/components/ListPanel/ListPanel.vue';\nimport PkpHeader from '@/components/Header/Header.vue';\nimport Search from '@/components/Search/Search.vue';\nimport items from '../helpers/items';\n\nexport default {\n\tcomponents: {\n\t\tListPanel,\n\t\tPkpHeader,\n\t\tSearch,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\titems: [...items],\n\t\t\toriginalItems: [...items],\n\t\t\tsearchPhrase: '',\n\t\t};\n\t},\n\tmethods: {\n\t\t/**\n\t\t * Normally you would send the search request to the server\n\t\t */\n\t\tsetSearchPhrase(searchPhrase) {\n\t\t\tthis.searchPhrase = searchPhrase;\n\t\t\tif (!searchPhrase.length) {\n\t\t\t\tthis.items = [...this.originalItems];\n\t\t\t} else {\n\t\t\t\tthis.items = this.originalItems.filter((item) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tnew RegExp(searchPhrase, 'i').test(item.title) ||\n\t\t\t\t\t\tnew RegExp(searchPhrase, 'i').test(item.subtitle)\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t},\n};\n<\/script>\n",bL=function(){var t=this,e=t._self._c;return e("fieldset",{staticClass:"previewListPanelSelect"},[e("legend",{staticClass:"-screenReader"},[t._v("List Panel with Select")]),e("list-panel",{attrs:{items:t.items},scopedSlots:t._u([{key:"item",fn:function({item:n}){return[e("div",{staticClass:"listPanel__itemSummary"},[e("label",{staticClass:"listPanel__selectWrapper"},[e("div",{staticClass:"listPanel__selector"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"checkbox",name:"submissions[]"},domProps:{value:n.id,checked:Array.isArray(t.selected)?t._i(t.selected,n.id)>-1:t.selected},on:{change:function(e){var i=t.selected,s=e.target,a=!!s.checked;if(Array.isArray(i)){var l=n.id,r=t._i(i,l);s.checked?r<0&&(t.selected=i.concat([l])):r>-1&&(t.selected=i.slice(0,r).concat(i.slice(r+1)))}else t.selected=a}}})]),e("div",{staticClass:"listPanel__itemIdentity"},[e("div",{staticClass:"listPanel__itemTitle"},[t._v(" "+t._s(n.title)+" ")]),e("div",{staticClass:"listPanel__itemSubTitle"},[t._v(" "+t._s(n.subtitle)+" ")])])])])]}}])},[e("template",{slot:"header"},[e("pkp-header",[e("h2",[t._v("List Panel with Select")])]),t.canSelectAll?e("div",{staticClass:"listPanel__selectAllWrapper"},[e("input",{attrs:{type:"checkbox",id:t.id+"-selectAll"},domProps:{checked:t.isSelectAllOn},on:{click:t.toggleSelectAll}}),e("label",{staticClass:"listPanel__selectAllLabel",attrs:{for:t.id+"-selectAll"}},[t._v(" Select All ")])]):t._e()],1)],2)],1)},fL=[],gL={components:{ListPanel:Kt,PkpHeader:jt},data(){return{id:"previewListPanelSelect",canSelectAll:!0,isSelectAllOn:!1,items:[...Lx],selected:[]}},methods:{toggleSelectAll(){this.isSelectAllOn?this.selected=[]:this.selected=this.items.map((t=>t.id))}},watch:{selected(t,e){this.isSelectAllOn=this.selected.length&&this.selected.length===this.items.length}}},vL=gL,_L=(0,T.Z)(vL,bL,fL,!1,null,null,null),yL=_L.exports,kL='<template>\n\t<fieldset class="previewListPanelSelect">\n\t\t<legend class="-screenReader">List Panel with Select</legend>\n\t\t<list-panel :items="items">\n\t\t\t<template slot="header">\n\t\t\t\t<pkp-header>\n\t\t\t\t\t<h2>List Panel with Select</h2>\n\t\t\t\t</pkp-header>\n\t\t\t\t<div v-if="canSelectAll" class="listPanel__selectAllWrapper">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype="checkbox"\n\t\t\t\t\t\t:id="id + \'-selectAll\'"\n\t\t\t\t\t\t:checked="isSelectAllOn"\n\t\t\t\t\t\t@click="toggleSelectAll"\n\t\t\t\t\t/>\n\t\t\t\t\t<label class="listPanel__selectAllLabel" :for="id + \'-selectAll\'">\n\t\t\t\t\t\tSelect All\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-slot:item="{item}">\n\t\t\t\t<div class="listPanel__itemSummary">\n\t\t\t\t\t<label class="listPanel__selectWrapper">\n\t\t\t\t\t\t<div class="listPanel__selector">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype="checkbox"\n\t\t\t\t\t\t\t\tname="submissions[]"\n\t\t\t\t\t\t\t\t:value="item.id"\n\t\t\t\t\t\t\t\tv-model="selected"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="listPanel__itemIdentity">\n\t\t\t\t\t\t\t<div class="listPanel__itemTitle">\n\t\t\t\t\t\t\t\t{{ item.title }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="listPanel__itemSubTitle">\n\t\t\t\t\t\t\t\t{{ item.subtitle }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</list-panel>\n\t</fieldset>\n</template>\n\n<script>\nimport ListPanel from \'@/components/ListPanel/ListPanel.vue\';\nimport PkpHeader from \'@/components/Header/Header.vue\';\nimport items from \'../helpers/items\';\n\nexport default {\n\tcomponents: {\n\t\tListPanel,\n\t\tPkpHeader,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tid: \'previewListPanelSelect\',\n\t\t\tcanSelectAll: true,\n\t\t\tisSelectAllOn: false,\n\t\t\titems: [...items],\n\t\t\tselected: [],\n\t\t};\n\t},\n\tmethods: {\n\t\ttoggleSelectAll() {\n\t\t\tif (this.isSelectAllOn) {\n\t\t\t\tthis.selected = [];\n\t\t\t} else {\n\t\t\t\tthis.selected = this.items.map((i) => i.id);\n\t\t\t}\n\t\t},\n\t},\n\twatch: {\n\t\tselected(newVal, oldVal) {\n\t\t\tthis.isSelectAllOn =\n\t\t\t\tthis.selected.length && this.selected.length === this.items.length;\n\t\t},\n\t},\n};\n<\/script>\n\n<style lang="less">\n@import \'../../../../styles/_import\';\n\n.previewListPanelSelect {\n\tborder: none;\n\tpadding: 0;\n\n\t.listPanel__selectAllWrapper {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-top: 1rem;\n\t\tmargin-inline-start: -0.5rem;\n\t\tline-height: 1.5rem;\n\n\t\t> input {\n\t\t\tmargin-inline-start: 0.5rem;\n\t\t}\n\t}\n\n\t.listPanel__selectAllLabel {\n\t\tmargin-inline-start: 0.5rem;\n\t}\n\n\t.listPanel__selectWrapper {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-inline-start: -1rem;\n\t}\n\n\t.listPanel__selector {\n\t\twidth: 3rem;\n\t\tpadding-inline-start: 1rem;\n\t}\n}\n</style>\n',wL="\n## Props\n\n| Key | Description |\n| --- | --- |\n| `description` | An optional description of this `ListPanel`.  |\n| `emptyLabel` | An optional message to show when no items exist. Default: `No items found.` |\n| `expanded` | An array of item ids that are currently in expanded view. |\n| `headingLevel` | The HTML tag to use for the title. Default: `h2` |\n| `isSidebarVisible` | Whether or not the sidebar is visible.  |\n| `items` | Array containing items in the list. |\n| `title` | The title to display for this `ListPanel`. |\n\n## Events\n\nThis component does not emit any events.\n\n## Usage\n\nUse this component to display anything from simple lists to complex management panels.\n\nA `ListPanel` will often interact with the REST API to get, search, filter and paginate items in the list. Use the [Fetch](#/pages/fetch) mixin to provide these features.\n",SL={extends:H,data(){return{name:"ListPanel",readme:wL,examples:[{component:Dx,name:"Base",template:this.extractTemplate(Ex)},{component:$x,name:"With Actions",template:this.extractTemplate(Nx)},{component:zx,name:"With Description",template:this.extractTemplate(Hx)},{component:Qx,name:"With No Items",template:this.extractTemplate(tP)},{component:lP,name:"With Filter",template:this.extractTemplate(rP)},{component:mP,name:"With Item Actions",template:this.extractTemplate(hP)},{component:yP,name:"With Expandable Item",template:this.extractTemplate(kP)},{component:lL,name:"With Pagination",template:this.extractTemplate(rL)},{component:mL,name:"With Search",template:this.extractTemplate(hL)},{component:yL,name:"With Select",template:this.extractTemplate(kL)}]}}},TL=SL,FL=(0,T.Z)(TL,FP,xP,!1,null,null,null),xL=FL.exports,PL=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app__page width width--wide"},[e("list-panel",{staticClass:"manageEmails__listPanel",attrs:{items:t.currentMailables,"is-sidebar-visible":!0},scopedSlots:t._u([{key:"item-title",fn:function({item:e}){return[t._v(" "+t._s(e.name)+" ")]}},{key:"item-subtitle",fn:function({item:e}){return[t._v(" "+t._s(e.description)+" ")]}},{key:"item-actions",fn:function({item:n}){return[e("pkp-button",{on:{click:function(e){return t.openMailable(n)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("Edit")]),e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.__("common.editItem",{name:n.name}))+" ")])])]}}])},[e("pkp-header",{attrs:{slot:"header"},slot:"header"},[e("h1",[t._v("Emails")]),e("template",{slot:"actions"},[e("search",{attrs:{"search-label":"Search by name or description","search-phrase":t.searchPhrase},on:{"search-phrase-changed":t=>this.searchPhrase=t}}),e("pkp-button",{attrs:{isWarnable:!0},on:{click:t.confirmResetAll}},[t._v(" Reset All ")])],1)],2),e("template",{slot:"sidebar"},[e("pkp-header",[e("h2",[e("icon",{attrs:{icon:"filter",inline:!0}}),t._v(" Filters ")],1)]),t._l(t.groupFilters,(function(n,i){return e("pkp-filter",{key:i,attrs:{param:"groupIds",title:n,value:i,"is-filter-active":t.isFilterActive("groupIds",i)},on:{"add-filter":t.addFilter,"remove-filter":t.removeFilter}})})),e("div",{staticClass:"listPanel__block"},[e("pkp-header",[e("h3",[t._v("Sent From")])]),t._l(t.fromFilters,(function(n,i){return e("pkp-filter",{key:i,attrs:{param:"fromRoleIds",title:n,value:parseInt(i),"is-filter-active":t.isFilterActive("fromRoleIds",parseInt(i))},on:{"add-filter":t.addFilter,"remove-filter":t.removeFilter}})}))],2),e("div",{staticClass:"listPanel__block"},[e("pkp-header",[e("h3",[t._v("Sent To")])]),t._l(t.toFilters,(function(n,i){return e("pkp-filter",{key:i,attrs:{param:"toRoleIds",title:n,value:parseInt(i),"is-filter-active":t.isFilterActive("toRoleIds",parseInt(i))},on:{"add-filter":t.addFilter,"remove-filter":t.removeFilter}})}))],2)],2)],2),e("modal",{attrs:{closeLabel:t.__("common.close"),name:"mailable",title:t.currentMailable?t.currentMailable.name:""},on:{closed:t.mailableModalClosed}},[t.currentMailable?[e("p",[t._v(t._s(t.currentMailable.description))]),e("p",[t._v(" Add and edit templates that you would like to make available to the user when they are sending this email. The default will be loaded automatically, and the user will be able to quickly load any other templates you add here. ")]),e("list-panel",{attrs:{items:t.currentMailable.emailTemplates},scopedSlots:t._u([{key:"item-subtitle",fn:function({item:e}){return[t._v(" "+t._s(t.localize(e.name))+" ")]}},{key:"item-actions",fn:function({item:n}){return[n.key===t.currentMailable.emailTemplateKey?e("badge",[t._v(" Default ")]):t._e(),e("pkp-button",{on:{click:function(e){return t.openTemplate(n)}}},[t._v("Edit")]),n.key===t.currentMailable.emailTemplateKey&&n.id?e("pkp-button",{attrs:{"is-warnable":!0},on:{click:function(e){return t.confirmResetTemplate(n)}}},[t._v(" Reset ")]):n.id?e("pkp-button",{attrs:{"is-warnable":!0},on:{click:function(e){return t.confirmRemoveTemplate(n)}}},[t._v(" Remove ")]):t._e()]}}],null,!1,1288163441)},[e("pkp-header",{attrs:{slot:"header"},slot:"header"},[e("h3",[t._v("Templates")]),e("template",{slot:"actions"},[e("pkp-button",{on:{click:function(e){return t.openTemplate()}}},[t._v("Add Template")])],1)],2)],1)]:t._e()],2),e("modal",{attrs:{closeLabel:t.__("common.close"),name:"template",title:t.currentTemplate?"Edit Template":"Add Template"},on:{closed:t.templateModalClosed}},[e("pkp-form",t._b({ref:"templateForm",staticClass:"manageEmails__templateForm",on:{set:t.updateCurrentTemplateForm,success:t.templateSaved}},"pkp-form",t.currentTemplateForm,!1))],1)],1)},LL=[],CL={name:"ManageEmailsPage",extends:ho,mixins:[mt],components:{Modal:ot,PkpFilter:Ul,Search:Ui},data(){return{activeFilters:{},currentMailable:{},currentTemplate:{},currentTemplateForm:{},customTemplates:[],i18nRemoveTemplate:"",i18nRemoveTemplateMessage:"",i18nResetAll:"",i18nResetAllMessage:"",mailables:[],mailablesApiUrl:"",resetFocusTo:{},searchPhrase:"",templateForm:{},templatesApiUrl:""}},computed:{currentMailables(){let t=[...this.mailables];if(!this.searchPhrase.length&&!Object.keys(this.activeFilters).length)return t;if(this.searchPhrase.length){const e=this.searchPhrase.toLowerCase();t=t.filter((t=>t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)))}return Object.keys(this.activeFilters).forEach((e=>{this.activeFilters[e].forEach((n=>{t=t.filter((t=>t[e].includes(n)))}))})),t}},methods:{addFilter(t,e){let n={...this.activeFilters};n[t]?n[t].push(e):n[t]=[e],this.activeFilters=n},confirmRemoveTemplate(t){this.openDialog({name:"removeTemplate",title:this.i18nRemoveTemplate,message:this.i18nRemoveTemplateMessage.replace("{$template}",this.localize(t.subject)),actions:[{label:this.i18nRemoveTemplate,isWarnable:!0,callback:()=>{this.deleteTemplate(t,(()=>{this.currentMailable.emailTemplates=this.currentMailable.emailTemplates.filter((e=>e.key!==t.key))}),(()=>{this.$modal.hide("removeTemplate")}))}},{label:this.__("common.cancel"),callback:()=>this.$modal.hide("removeTemplate")}]})},confirmResetAll(){this.openDialog({name:"resetAll",title:this.i18nResetAll,message:this.i18nResetAllMessage,actions:[{label:this.i18nResetAll,isWarnable:!0,callback:()=>{$.ajax({url:this.templatesApiUrl+"/restoreDefaults",type:"POST",context:this,headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"DELETE"},error:this.ajaxErrorCallback,success(t){window.location.reload()}})}},{label:this.__("common.cancel"),callback:()=>this.$modal.hide("resetAll")}]})},confirmResetTemplate(t){this.openDialog({name:"resetTemplate",title:this.i18nResetTemplate,message:this.i18nResetTemplateMessage.replace("{$template}",this.currentMailable.name),actions:[{label:this.i18nResetTemplate,isWarnable:!0,callback:()=>{this.deleteTemplate(t,(()=>{this.getTemplate(t.key,(e=>{this.currentMailable.emailTemplates=this.currentMailable.emailTemplates.map((n=>n.key===t.key?e:n)),this.$modal.hide("resetTemplate")}))}))}},{label:this.__("common.cancel"),callback:()=>this.$modal.hide("resetTemplate")}]})},deleteTemplate(t,e,n){$.ajax({url:this.templatesApiUrl+"/"+t.key,type:"POST",context:this,headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"DELETE"},error:this.ajaxErrorCallback,success:e,complete:n})},getMailable(t,e){$.ajax({url:this.mailablesApiUrl+"/"+encodeURIComponent(t.emailTemplateKey),type:"GET",context:this,error:this.ajaxErrorCallback,success:e})},getTemplate(t,e){$.ajax({url:this.templatesApiUrl+"/"+encodeURIComponent(t),type:"GET",context:this,error:this.ajaxErrorCallback,success:e})},isFilterActive(t,e){return this.activeFilters[t]&&this.activeFilters[t].includes(e)},mailableModalClosed(){this.resetFocus(),setTimeout((()=>{this.currentMailable={},this.currentTemplate={}}),300)},openMailable(t){t.supportsTemplates?this.getMailable(t,(t=>{this.resetFocusTo=document.activeElement,this.currentMailable=t,this.$modal.show("mailable")})):this.getTemplate(t.emailTemplateKey,(e=>{this.currentMailable=t,this.openTemplate(e)}))},openTemplate(t){t=t||{},this.resetFocusTo=document.activeElement,this.currentTemplate=t,this.$nextTick((()=>this.$modal.show("template")))},removeFilter(t,e){if(!this.activeFilters[t])return;let n={...this.activeFilters};n[t]=n[t].filter((t=>t!==e)),this.activeFilters=n},resetFocus(){this.resetFocusTo&&this.resetFocusTo.focus()},setCurrentTemplateForm(t){let e=JSON.parse(JSON.stringify(this.templateForm));if(Object.entries(this.currentMailable).length){if(Object.entries(t).length){e.action=t._href,e.method="PUT";const n=Object.keys(t);e.fields=e.fields.map((e=>(n.includes(e.name)&&(e.value=e.isMultilingual?{...t[e.name]}:t[e.name]),e)))}e.fields=e.fields.map((t=>("body"===t.name&&(t.preparedContent=Object.keys(this.currentMailable.dataDescriptions).map((t=>({key:t,value:"{$"+t+"}",description:this.currentMailable.dataDescriptions[t]})))),t))),(!t||t&&this.currentMailable.emailTemplateKey!==t.key)&&(e.hiddenFields.alternateTo=this.currentMailable.emailTemplateKey),this.currentTemplateForm=e}else this.currentTemplateForm=e},templateSaved(t){const e=this.currentMailable.emailTemplates.findIndex((e=>e.key===t.key))>-1;e?this.currentMailable.emailTemplates=this.currentMailable.emailTemplates.map((e=>e.key===t.key?t:e)):this.currentMailable.emailTemplates.push(t),setTimeout((()=>this.$modal.hide("template")),1e3)},templateModalClosed(){this.currentMailable.supportsTemplates?(this.resetFocus(),setTimeout((()=>{this.currentTemplate={}}),300)):this.mailableModalClosed()},updateCurrentTemplateForm(t,e){this.currentTemplateForm={...this.currentTemplateForm,...e}}},watch:{currentTemplate(t){this.setCurrentTemplateForm(t)}}},AL=CL,IL=(0,T.Z)(AL,PP,LP,!1,null,null,null),DL=IL.exports,EL={...Da,id:"example",action:"https://example.org/example",hiddenFields:{},fields:[{component:"field-text",description:"Enter a brief name to help you find this template.",label:"Name",name:"name",value:{en:"",fr_CA:""},isMultilingual:!0,groupId:"default"},{name:"subject",component:"field-text",label:"Subject",isMultilingual:!0,value:{en:"",fr_CA:""},groupId:"default"},{name:"body",component:"field-prepared-content",label:"Body",description:'Use the "Insert Content" button to use dynamic data in your template. These variables will be replaced with real data before the email is sent.',isMultilingual:!0,size:"large",plugins:"paste,link,lists",toolbar:"bold italic superscript subscript | link | blockquote bullist numlist",value:{en:"",fr_CA:""},insertLabel:"Insert",insertModalLabel:"Insert Content",preparedContentLabel:"Content",searchLabel:"Find content to insert",preparedContent:[],groupId:"default"}],groups:[{id:"default",pageId:"default"}],supportedFormLocales:[...Da.supportedFormLocales,{key:"fr_CA",label:"Français (Canada)"}]},RL={extends:DL,data(){return{groupFilters:{submission:"Submission",review:"Review",copyediting:"Copyediting",production:"Production",other:"Other"},fromFilters:{17:"Editor",4096:"Reviewer",4097:"Assistant",1048576:"Reader"},toFilters:{17:"Editor",4096:"Reviewer",4097:"Assistant",65536:"Author",1048576:"Reader",2097152:"Subscription Manager"},i18nRemoveTemplate:"Remove Template",i18nRemoveTemplateMessage:"Are you sure you want to unassign the template <strong>{$template}</strong> from the <strong>{$mailable}</strong> email?",i18nResetAll:"Reset All",i18nResetAllMessage:"If you reset all templates, all modifications to the email templates will be lost. Do you want to confirm this operation?",mailables:[],templateForm:{...EL}}},methods:{alert(t){alert(t)},getMailable(t,e){$.ajax({url:"mailable.json",type:"GET",context:this,error(){alert("failed to load mailable at /mailable.json")},success:e})},getTemplate(t,e){this.getMailable("",(t=>{e.apply(this,[t.emailTemplates[0]])}))}},created(){$.ajax({url:"mailables.json",method:"GET",context:this,success(t){this.mailables=t},error(t){alert("failed to load mailables from /mailables.json")}})}},BL=RL,UL=(0,T.Z)(BL,PL,LL,!1,null,null,null),OL=UL.exports,ML='<template>\n\t<div class="app__page width width--wide">\n\t\t<list-panel\n\t\t\tclass="manageEmails__listPanel"\n\t\t\t:items="currentMailables"\n\t\t\t:is-sidebar-visible="true"\n\t\t>\n\t\t\t<pkp-header slot="header">\n\t\t\t\t<h1>Emails</h1>\n\t\t\t\t<template slot="actions">\n\t\t\t\t\t<search\n\t\t\t\t\t\tsearch-label="Search by name or description"\n\t\t\t\t\t\t:search-phrase="searchPhrase"\n\t\t\t\t\t\t@search-phrase-changed="\n\t\t\t\t\t\t\t(newSearch) => (this.searchPhrase = newSearch)\n\t\t\t\t\t\t"\n\t\t\t\t\t></search>\n\t\t\t\t\t<pkp-button @click="confirmResetAll" :isWarnable="true">\n\t\t\t\t\t\tReset All\n\t\t\t\t\t</pkp-button>\n\t\t\t\t</template>\n\t\t\t</pkp-header>\n\t\t\t<template v-slot:item-title="{item}">\n\t\t\t\t{{ item.name }}\n\t\t\t</template>\n\t\t\t<template v-slot:item-subtitle="{item}">\n\t\t\t\t{{ item.description }}\n\t\t\t</template>\n\t\t\t<template v-slot:item-actions="{item}">\n\t\t\t\t<pkp-button @click="openMailable(item)">\n\t\t\t\t\t<span aria-hidden="true">Edit</span>\n\t\t\t\t\t<span class="-screenReader">\n\t\t\t\t\t\t{{ __(\'common.editItem\', {name: item.name}) }}\n\t\t\t\t\t</span>\n\t\t\t\t</pkp-button>\n\t\t\t</template>\n\t\t\t<template slot="sidebar">\n\t\t\t\t<pkp-header>\n\t\t\t\t\t<h2>\n\t\t\t\t\t\t<icon icon="filter" :inline="true" />\n\t\t\t\t\t\tFilters\n\t\t\t\t\t</h2>\n\t\t\t\t</pkp-header>\n\t\t\t\t<pkp-filter\n\t\t\t\t\tv-for="(name, value) in groupFilters"\n\t\t\t\t\t:key="value"\n\t\t\t\t\tparam="groupIds"\n\t\t\t\t\t:title="name"\n\t\t\t\t\t:value="value"\n\t\t\t\t\t:is-filter-active="isFilterActive(\'groupIds\', value)"\n\t\t\t\t\t@add-filter="addFilter"\n\t\t\t\t\t@remove-filter="removeFilter"\n\t\t\t\t></pkp-filter>\n\t\t\t\t<div class="listPanel__block">\n\t\t\t\t\t<pkp-header>\n\t\t\t\t\t\t<h3>Sent From</h3>\n\t\t\t\t\t</pkp-header>\n\t\t\t\t\t<pkp-filter\n\t\t\t\t\t\tv-for="(name, value) in fromFilters"\n\t\t\t\t\t\t:key="value"\n\t\t\t\t\t\tparam="fromRoleIds"\n\t\t\t\t\t\t:title="name"\n\t\t\t\t\t\t:value="parseInt(value)"\n\t\t\t\t\t\t:is-filter-active="isFilterActive(\'fromRoleIds\', parseInt(value))"\n\t\t\t\t\t\t@add-filter="addFilter"\n\t\t\t\t\t\t@remove-filter="removeFilter"\n\t\t\t\t\t></pkp-filter>\n\t\t\t\t</div>\n\t\t\t\t<div class="listPanel__block">\n\t\t\t\t\t<pkp-header>\n\t\t\t\t\t\t<h3>Sent To</h3>\n\t\t\t\t\t</pkp-header>\n\t\t\t\t\t<pkp-filter\n\t\t\t\t\t\tv-for="(name, value) in toFilters"\n\t\t\t\t\t\t:key="value"\n\t\t\t\t\t\tparam="toRoleIds"\n\t\t\t\t\t\t:title="name"\n\t\t\t\t\t\t:value="parseInt(value)"\n\t\t\t\t\t\t:is-filter-active="isFilterActive(\'toRoleIds\', parseInt(value))"\n\t\t\t\t\t\t@add-filter="addFilter"\n\t\t\t\t\t\t@remove-filter="removeFilter"\n\t\t\t\t\t></pkp-filter>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</list-panel>\n\t\t<modal\n\t\t\t:closeLabel="__(\'common.close\')"\n\t\t\tname="mailable"\n\t\t\t:title="currentMailable ? currentMailable.name : \'\'"\n\t\t\t@closed="mailableModalClosed"\n\t\t>\n\t\t\t<template v-if="currentMailable">\n\t\t\t\t<p>{{ currentMailable.description }}</p>\n\t\t\t\t<p>\n\t\t\t\t\tAdd and edit templates that you would like to make available to the\n\t\t\t\t\tuser when they are sending this email. The default will be loaded\n\t\t\t\t\tautomatically, and the user will be able to quickly load any other\n\t\t\t\t\ttemplates you add here.\n\t\t\t\t</p>\n\t\t\t\t<list-panel :items="currentMailable.emailTemplates">\n\t\t\t\t\t<pkp-header slot="header">\n\t\t\t\t\t\t<h3>Templates</h3>\n\t\t\t\t\t\t<template slot="actions">\n\t\t\t\t\t\t\t<pkp-button @click="openTemplate()">Add Template</pkp-button>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</pkp-header>\n\t\t\t\t\t<template v-slot:item-subtitle="{item}">\n\t\t\t\t\t\t{{ localize(item.name) }}\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-slot:item-actions="{item}">\n\t\t\t\t\t\t<badge v-if="item.key === currentMailable.emailTemplateKey">\n\t\t\t\t\t\t\tDefault\n\t\t\t\t\t\t</badge>\n\t\t\t\t\t\t<pkp-button @click="openTemplate(item)">Edit</pkp-button>\n\t\t\t\t\t\t<pkp-button\n\t\t\t\t\t\t\tv-if="item.key === currentMailable.emailTemplateKey && item.id"\n\t\t\t\t\t\t\t:is-warnable="true"\n\t\t\t\t\t\t\t@click="confirmResetTemplate(item)"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tReset\n\t\t\t\t\t\t</pkp-button>\n\t\t\t\t\t\t<pkp-button\n\t\t\t\t\t\t\tv-else-if="item.id"\n\t\t\t\t\t\t\t:is-warnable="true"\n\t\t\t\t\t\t\t@click="confirmRemoveTemplate(item)"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t</pkp-button>\n\t\t\t\t\t</template>\n\t\t\t\t</list-panel>\n\t\t\t</template>\n\t\t</modal>\n\t\t<modal\n\t\t\t:closeLabel="__(\'common.close\')"\n\t\t\tname="template"\n\t\t\t:title="currentTemplate ? \'Edit Template\' : \'Add Template\'"\n\t\t\t@closed="templateModalClosed"\n\t\t>\n\t\t\t<pkp-form\n\t\t\t\tref="templateForm"\n\t\t\t\tclass="manageEmails__templateForm"\n\t\t\t\tv-bind="currentTemplateForm"\n\t\t\t\t@set="updateCurrentTemplateForm"\n\t\t\t\t@success="templateSaved"\n\t\t\t></pkp-form>\n\t\t</modal>\n\t</div>\n</template>\n\n<script>\nimport ManageEmailsPage from \'../../../../components/Container/ManageEmailsPage.vue\';\nimport templateForm from \'../../../components/Form/helpers/form-email-template\';\n\nexport default {\n\textends: ManageEmailsPage,\n\tdata() {\n\t\treturn {\n\t\t\tgroupFilters: {\n\t\t\t\tsubmission: \'Submission\',\n\t\t\t\treview: \'Review\',\n\t\t\t\tcopyediting: \'Copyediting\',\n\t\t\t\tproduction: \'Production\',\n\t\t\t\tother: \'Other\',\n\t\t\t},\n\t\t\tfromFilters: {\n\t\t\t\t17: \'Editor\', // ROLE_ID_SUB_EDITOR\n\t\t\t\t4096: \'Reviewer\', // ROLE_ID_REVIEWER\n\t\t\t\t4097: \'Assistant\', // ROLE_ID_ASSISTANT\n\t\t\t\t1048576: \'Reader\', // ROLE_ID_READER\n\t\t\t},\n\t\t\ttoFilters: {\n\t\t\t\t17: \'Editor\', // ROLE_ID_SUB_EDITOR\n\t\t\t\t4096: \'Reviewer\', // ROLE_ID_REVIEWER\n\t\t\t\t4097: \'Assistant\', // ROLE_ID_ASSISTANT\n\t\t\t\t65536: \'Author\', // ROLE_ID_AUTHOR\n\t\t\t\t1048576: \'Reader\', // ROLE_ID_READER\n\t\t\t\t2097152: \'Subscription Manager\', // ROLE_ID_SUBSCRIPTION_MANAGER\n\t\t\t},\n\t\t\ti18nRemoveTemplate: \'Remove Template\',\n\t\t\ti18nRemoveTemplateMessage:\n\t\t\t\t\'Are you sure you want to unassign the template <strong>{$template}</strong> from the <strong>{$mailable}</strong> email?\',\n\t\t\ti18nResetAll: \'Reset All\',\n\t\t\ti18nResetAllMessage:\n\t\t\t\t\'If you reset all templates, all modifications to the email templates will be lost. Do you want to confirm this operation?\',\n\t\t\tmailables: [],\n\t\t\ttemplateForm: {...templateForm},\n\t\t};\n\t},\n\tmethods: {\n\t\talert(msg) {\n\t\t\talert(msg);\n\t\t},\n\t\tgetMailable(mailable, onSuccess) {\n\t\t\t$.ajax({\n\t\t\t\turl: \'mailable.json\',\n\t\t\t\ttype: \'GET\',\n\t\t\t\tcontext: this,\n\t\t\t\terror() {\n\t\t\t\t\talert(\'failed to load mailable at /mailable.json\');\n\t\t\t\t},\n\t\t\t\tsuccess: onSuccess,\n\t\t\t});\n\t\t},\n\t\tgetTemplate(template, onSuccess) {\n\t\t\tthis.getMailable(\'\', (mailable) => {\n\t\t\t\tonSuccess.apply(this, [mailable.emailTemplates[0]]);\n\t\t\t});\n\t\t},\n\t},\n\tcreated() {\n\t\t$.ajax({\n\t\t\turl: \'mailables.json\',\n\t\t\tmethod: \'GET\',\n\t\t\tcontext: this,\n\t\t\tsuccess(r) {\n\t\t\t\tthis.mailables = r;\n\t\t\t},\n\t\t\terror(r) {\n\t\t\t\talert(\'failed to load mailables from /mailables.json\');\n\t\t\t},\n\t\t});\n\t},\n};\n<\/script>\n\n<style lang="less">\n@import \'../../../../styles/_import\';\n\n.component--ManageEmails .component__exampleWrapper {\n\tbackground: @bg;\n}\n</style>\n',$L="## Data\n\n| Key | Description |\n| --- | --- |\n\n## Usage\n\nThe `ManageEmailsPage` extends the [`Container`](/#/pages/container) app. Use this app to show the page where editors can edit email templates assigned to mailables.\n\n## Template\n\nThe `ManageEmailsPage` app is a template-less component. You must write the template in Smarty on the server-side and it will be compiled at run time.\n\nThe example here provides a sample template.\n",NL={extends:H,data(){return{name:"ManageEmailsPage",readme:$L,examples:[{component:OL,name:"Base",template:this.extractTemplate(ML)}]}}},jL=NL,qL=(0,T.Z)(jL,CP,AP,!1,null,null,null),WL=qL.exports,VL=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewModal"},[e("pkp-button",{ref:"simpleModalButton",on:{click:function(e){return t.$modal.show("simple")}}},[t._v(" Open Modal ")]),e("modal",{attrs:{closeLabel:"Close",name:"simple",title:"Simple Modal"},on:{closed:function(e){return t.setFocusToRef("simpleModalButton")}}},[e("p",[t._v("This is an example of a simple modal.")])])],1)},KL=[],zL={components:{Modal:ot}},HL=zL,ZL=(0,T.Z)(HL,VL,KL,!1,null,null,null),GL=ZL.exports,YL='<template>\n\t<div class="previewModal">\n\t\t<pkp-button ref="simpleModalButton" @click="$modal.show(\'simple\')">\n\t\t\tOpen Modal\n\t\t</pkp-button>\n\t\t<modal\n\t\t\tcloseLabel="Close"\n\t\t\tname="simple"\n\t\t\ttitle="Simple Modal"\n\t\t\t@closed="setFocusToRef(\'simpleModalButton\')"\n\t\t>\n\t\t\t<p>This is an example of a simple modal.</p>\n\t\t</modal>\n\t</div>\n</template>\n\n<script>\nimport Modal from \'@/components/Modal/Modal.vue\';\n\nexport default {\n\tcomponents: {\n\t\tModal,\n\t},\n};\n<\/script>\n',JL=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewModal"},[e("pkp-button",{ref:"modalFormButton",on:{click:function(e){return t.$modal.show("form")}}},[t._v(" Modal with Form ")]),e("modal",{attrs:{closeLabel:"Close",name:"form",title:"Add Announcement"},on:{closed:function(e){return t.setFocusToRef("modalFormButton")}}},[e("pkp-form",t._b({on:{set:t.setForm,success:t.formSuccess}},"pkp-form",t.form,!1))],1)],1)},XL=[],QL={components:{PkpForm:aa,Modal:ot},data(){return{form:{...oa()(Ra),action:"http://localhost:8080",method:"GET"}}},methods:{formSuccess(t){this.$modal.hide("form")},setForm(t,e){let n={...this.form};Object.keys(e).forEach((function(t){n[t]=e[t]})),this.form=n}}},tC=QL,eC=(0,T.Z)(tC,JL,XL,!1,null,null,null),nC=eC.exports,iC='<template>\n\t<div class="previewModal">\n\t\t<pkp-button ref="modalFormButton" @click="$modal.show(\'form\')">\n\t\t\tModal with Form\n\t\t</pkp-button>\n\t\t<modal\n\t\t\tcloseLabel="Close"\n\t\t\tname="form"\n\t\t\ttitle="Add Announcement"\n\t\t\t@closed="setFocusToRef(\'modalFormButton\')"\n\t\t>\n\t\t\t<pkp-form v-bind="form" @set="setForm" @success="formSuccess" />\n\t\t</modal>\n\t</div>\n</template>\n\n<script>\nimport PkpForm from \'@/components/Form/Form.vue\';\nimport Modal from \'@/components/Modal/Modal.vue\';\nimport cloneDeep from \'clone-deep\';\nimport form from \'@/docs/components/Form/helpers/form-announcement\';\n\nexport default {\n\tcomponents: {\n\t\tPkpForm,\n\t\tModal,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tform: {\n\t\t\t\t...cloneDeep(form),\n\t\t\t\taction: \'http://localhost:8080\',\n\t\t\t\tmethod: \'GET\',\n\t\t\t},\n\t\t};\n\t},\n\tmethods: {\n\t\tformSuccess(r) {\n\t\t\tthis.$modal.hide(\'form\');\n\t\t},\n\t\tsetForm(key, data) {\n\t\t\tlet form = {...this.form};\n\t\t\tObject.keys(data).forEach(function (key) {\n\t\t\t\tform[key] = data[key];\n\t\t\t});\n\t\t\tthis.form = form;\n\t\t},\n\t},\n};\n<\/script>\n',sC=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewModal"},[e("pkp-button",{ref:"modalTabsButton",on:{click:function(e){return t.$modal.show("tabs")}}},[t._v(" Modal with Tabs ")]),e("modal",{attrs:{closeLabel:"Close",name:"tabs",title:"Nested Tabs Example"},on:{closed:function(e){return t.setFocusToRef("modalTabsButton")}}},[e("p",[t._v(" Avoid complex interactions in modals whenever possible. Deeply nested tabs like this are often a sign that a single modal is trying to do too much. If there is more than one task that can be completed in a modal, it is usually better to use a different UI pattern. ")]),e("tabs",[e("tab",{attrs:{id:"one",label:"First Tab"}},[e("tabs",[e("tab",{attrs:{id:"nestedone",label:"First nested"}},[t._v(" Lorem ipsum dolor sit amet ")]),e("tab",{attrs:{id:"nestedtwo",label:"Second nested"}},[t._v(" Amet sit dolor ipsum Lorem ")]),e("tab",{attrs:{id:"nestedthree",label:"Third nested"}},[t._v(" Dolor ipsum sit lorem amet ")])],1)],1),e("tab",{attrs:{id:"two",label:"Second Tab"}},[t._v("This is the second tab.")]),e("tab",{attrs:{id:"three",label:"Third Tab"}},[t._v("This is the third tab.")])],1),e("template",{slot:"footer"},[e("pkp-button",{on:{click:function(e){return t.$modal.hide("tabs")}}},[t._v("Close")])],1)],2)],1)},aC=[],lC={components:{Modal:ot}},rC=lC,oC=(0,T.Z)(rC,sC,aC,!1,null,null,null),dC=oC.exports,pC='<template>\n\t<div class="previewModal">\n\t\t<pkp-button ref="modalTabsButton" @click="$modal.show(\'tabs\')">\n\t\t\tModal with Tabs\n\t\t</pkp-button>\n\t\t<modal\n\t\t\tcloseLabel="Close"\n\t\t\tname="tabs"\n\t\t\ttitle="Nested Tabs Example"\n\t\t\t@closed="setFocusToRef(\'modalTabsButton\')"\n\t\t>\n\t\t\t<p>\n\t\t\t\tAvoid complex interactions in modals whenever possible. Deeply nested\n\t\t\t\ttabs like this are often a sign that a single modal is trying to do too\n\t\t\t\tmuch. If there is more than one task that can be completed in a modal,\n\t\t\t\tit is usually better to use a different UI pattern.\n\t\t\t</p>\n\t\t\t<tabs>\n\t\t\t\t<tab id="one" label="First Tab">\n\t\t\t\t\t<tabs>\n\t\t\t\t\t\t<tab id="nestedone" label="First nested">\n\t\t\t\t\t\t\tLorem ipsum dolor sit amet\n\t\t\t\t\t\t</tab>\n\t\t\t\t\t\t<tab id="nestedtwo" label="Second nested">\n\t\t\t\t\t\t\tAmet sit dolor ipsum Lorem\n\t\t\t\t\t\t</tab>\n\t\t\t\t\t\t<tab id="nestedthree" label="Third nested">\n\t\t\t\t\t\t\tDolor ipsum sit lorem amet\n\t\t\t\t\t\t</tab>\n\t\t\t\t\t</tabs>\n\t\t\t\t</tab>\n\t\t\t\t<tab id="two" label="Second Tab">This is the second tab.</tab>\n\t\t\t\t<tab id="three" label="Third Tab">This is the third tab.</tab>\n\t\t\t</tabs>\n\t\t\t<template slot="footer">\n\t\t\t\t<pkp-button @click="$modal.hide(\'tabs\')">Close</pkp-button>\n\t\t\t</template>\n\t\t</modal>\n\t</div>\n</template>\n\n<script>\nimport Modal from \'@/components/Modal/Modal.vue\';\n\nexport default {\n\tcomponents: {\n\t\tModal,\n\t},\n};\n<\/script>\n',cC=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewModal"},[e("pkp-button",{ref:"modalReportButton",on:{click:function(e){return t.$modal.show("report")}}},[t._v(" Modal with Custom Actions ")]),e("modal",{attrs:{closeLabel:"Close",name:"report",title:"Activity Report"},on:{closed:function(e){return t.setFocusToRef("modalReportButton")}}},[e("list",[e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"comment-o",inline:!0}}),t._v(" 23 ")],1),t._v(" Emails sent today ")],2),e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"file-text-o",inline:!0}}),t._v(" 9 ")],1),t._v(" Submissions rejected today ")],2)],1),e("template",{slot:"footer"},[t.isSendingReport?e("spinner"):t._e(),e("pkp-button",{attrs:{isDisabled:t.isSendingReport,isPrimary:!0},on:{click:t.sendEmailReport}},[t._v(" Send Email Report ")]),e("pkp-button",{attrs:{isDisabled:t.isSendingReport},on:{click:function(e){return t.$modal.hide("report")}}},[t._v(" Close ")])],1)],2)],1)},uC=[],mC={components:{List:ur,ListItem:vr,Modal:ot},data(){return{isSendingReport:!1}},methods:{sendEmailReport(){this.isSendingReport=!0,setTimeout((()=>{this.isSendingReport=!1,this.$modal.hide("report")}),2e3)}}},hC=mC,bC=(0,T.Z)(hC,cC,uC,!1,null,null,null),fC=bC.exports,gC='<template>\n\t<div class="previewModal">\n\t\t<pkp-button ref="modalReportButton" @click="$modal.show(\'report\')">\n\t\t\tModal with Custom Actions\n\t\t</pkp-button>\n\t\t<modal\n\t\t\tcloseLabel="Close"\n\t\t\tname="report"\n\t\t\ttitle="Activity Report"\n\t\t\t@closed="setFocusToRef(\'modalReportButton\')"\n\t\t>\n\t\t\t<list>\n\t\t\t\t<list-item>\n\t\t\t\t\t<template slot="value">\n\t\t\t\t\t\t<icon icon="comment-o" :inline="true" />\n\t\t\t\t\t\t23\n\t\t\t\t\t</template>\n\t\t\t\t\tEmails sent today\n\t\t\t\t</list-item>\n\t\t\t\t<list-item>\n\t\t\t\t\t<template slot="value">\n\t\t\t\t\t\t<icon icon="file-text-o" :inline="true" />\n\t\t\t\t\t\t9\n\t\t\t\t\t</template>\n\t\t\t\t\tSubmissions rejected today\n\t\t\t\t</list-item>\n\t\t\t</list>\n\t\t\t<template slot="footer">\n\t\t\t\t<spinner v-if="isSendingReport" />\n\t\t\t\t<pkp-button\n\t\t\t\t\t:isDisabled="isSendingReport"\n\t\t\t\t\t:isPrimary="true"\n\t\t\t\t\t@click="sendEmailReport"\n\t\t\t\t>\n\t\t\t\t\tSend Email Report\n\t\t\t\t</pkp-button>\n\t\t\t\t<pkp-button\n\t\t\t\t\t:isDisabled="isSendingReport"\n\t\t\t\t\t@click="$modal.hide(\'report\')"\n\t\t\t\t>\n\t\t\t\t\tClose\n\t\t\t\t</pkp-button>\n\t\t\t</template>\n\t\t</modal>\n\t</div>\n</template>\n\n<script>\nimport List from \'@/components/List/List.vue\';\nimport ListItem from \'@/components/List/ListItem.vue\';\nimport Modal from \'@/components/Modal/Modal.vue\';\n\nexport default {\n\tcomponents: {\n\t\tList,\n\t\tListItem,\n\t\tModal,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisSendingReport: false,\n\t\t};\n\t},\n\tmethods: {\n\t\tsendEmailReport() {\n\t\t\tthis.isSendingReport = true;\n\t\t\t// Simulate a server request\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.isSendingReport = false;\n\t\t\t\tthis.$modal.hide(\'report\');\n\t\t\t}, 2000);\n\t\t},\n\t},\n};\n<\/script>\n',vC="## Props\n\n| Key | Description |\n| --- | --- |\n| `closeLabel` | The accessible text on the modal's close icon (×). Required |\n| `name` | A unique name for this modal. This is used to open and close the modal. |\n| `title` | The title to display at the top of the modal. This is optional but should be used in most cases. |\n\n## Events\n\n| Key | Description |\n| --- | --- |\n| `closed` | When the modal is closed. The payload is passed from the [vue-js-modal](https://github.com/euvl/vue-js-modal) library. See the Focus section below. |\n\n## Global Events\n\nThis component does not emit any global events.\n\n## Usage\n\nThis library uses the [vue-js-modal](https://github.com/euvl/vue-js-modal) component to control modals and dialogs. For a simple confiration modal, see the [Dialog](#/component/Dialog) component.\n\nUse the `Modal` component by importing it and showing it like this.\n\n```js\nimport Modal from '@/components/Modal/Modal.vue';\n\nexport default {\n\tcomponents: {\n\t\tModal\n\t},\n\tmethods: {\n\t\topenModal() {\n\t\t\tthis.$modal.show('exampleModalName');\n\t\t}\n\t}\n}\n```\n\n## Dialog\n\nDialogs provide an easy way to show a simple confirmation prompt. Import the `dialog` mixin and use the `openDialog` method to create a dialog.\n\n```js\nimport dialog from '@/mixins/dialog';\n\nexport default {\n\tmixins: [dialog],\n\tmethods: {\n\t\tthis.openDialog({\n\t\t\tname: 'example',\n\t\t\ttitle: 'Submit Article',\n\t\t\tmessage: 'Are you sure you want to submit this article?',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Confirm',\n\t\t\t\t\tisPrimary: true,\n\t\t\t\t\tcallback: () => {\n\t\t\t\t\t\t// user has confirmed\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Cancel',\n\t\t\t\t\tisWarnable: true,\n\t\t\t\t\tcallback: () => {\n\t\t\t\t\t\t// user has cancelled\n\t\t\t\t\t\t// usually you want to close the modal\n\t\t\t\t\t\tthis.$modal.hide('example');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\tclose: () => {\n\t\t\t\t// dialog has been closed\n\t\t\t}\n\t\t});\n\t}\n}\n```\n\n### Dialog Props\n\n| Key | Description |\n| --- | --- |\n| `name` | A unique name for this dialog. |\n| `title` | The title to display in the dialog. |\n| `message` | The message to display in the dialog. |\n| `close` | A callback function that will be fired when the dialog is closed. |\n| `actions` | The buttons to add to the dialog. |\n| `actions[0].label` | The label for the button. |\n| `actions[0].callback` | A callback function that will be fired when the button is pressed. |\n| `actions[0].isPrimary` | Whether to style this action as the primary or main action. See [Button](#/component/Button) |\n| `actions[0].isWarnable` | Whether to style this action like a cancel, back or delete action. See [Button](#/component/Button) |\n| `actions[0].element` | Pass `a` to make this a link instead of a button. See [Button](#/component/Button) |\n| `actions[0].href` | The URL of a link when `element` is set to `a`. See [Button](#/component/Button) |\n\n## Focus\n\nWhen a modal is opened the focus will be moved into it. When it is closed the focus must be reset to the element it was on _before the modal was opened_.\n\nUse a [$ref](https://vuejs.org/v2/guide/components-edge-cases.html#Accessing-Child-Component-Instances-amp-Child-Elements) to set focus back to the appropriate element.\n\n```html\n<pkp-button ref=\"button\" @click=\"$modal.show('example')\">\n\tOpen Modal\n</pkp-button>\n<modal\n\tv-bind=\"MODAL_PROPS\"\n\tname=\"example\"\n\t@closed=\"setFocusToRef('button')\"\n>\n\t...\n</modal>\n```\n\nA dialog will reset the focus automatically.",_C={extends:H,data(){return{name:"Modal",readme:vC,examples:[{component:GL,name:"Base",template:this.extractTemplate(YL)},{component:nC,name:"With Form",template:this.extractTemplate(iC)},{component:dC,name:"With Tabs",template:this.extractTemplate(pC)},{component:fC,name:"With Custom Actions",template:this.extractTemplate(gC)}]}}},yC=_C,kC=(0,T.Z)(yC,IP,DP,!1,null,null,null),wC=kC.exports,SC=function(){var t=this,e=t._self._c;return e("multilingual-progress",{attrs:{count:1,total:3}})},TC=[],FC={components:{MultilingualProgress:en}},xC=FC,PC=(0,T.Z)(xC,SC,TC,!1,null,null,null),LC=PC.exports,CC='<template>\n\t<multilingual-progress :count="1" :total="3" />\n</template>\n\n<script>\nimport MultilingualProgress from \'@/components/MultilingualProgress/MultilingualProgress.vue\';\n\nexport default {\n\tcomponents: {\n\t\tMultilingualProgress,\n\t},\n};\n<\/script>\n',AC="## Props\n\n| Key | Description |\n| --- | --- |\n| `count` | The number of completed multilingual items. |\n| `total` | The total number of multilingual items available to be completed. |\n\n## Events\n\nThis component does not emit any events.\n\n## Usage\n\nUse this component to indicate progress towards completing items that are required in multiple languages.\n\n## Recommendations\n\nThis is primarily intended for use with multilingual input fields, but can be used in other scenarios where we want to indicate to the user that a particular action should be completed in more than one locale.\n",IC={extends:H,data(){return{name:"Multilingual Progress",readme:AC,examples:[{component:LC,name:"Base",template:this.extractTemplate(CC)}]}}},DC=IC,EC=(0,T.Z)(DC,EP,RP,!1,null,null,null),RC=EC.exports,BC=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewNotification"},[e("notification",[t._v(" Revisions have been submitted and a decision is required. ")]),e("notification",{attrs:{type:"success"}},[t._v(" This article has been been successfully published. "),e("a",{attrs:{href:"#"}},[t._v("View Article")]),t._v(" . ")]),e("notification",{attrs:{type:"warning"}},[e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}),t._v(" This submission does not have any contributors. At least one contributor must be provided. ")],1),t.dismissed?t._e():e("notification",{attrs:{canDismiss:!0},on:{dismiss:t.dismiss}},[t._v(" This notification can be dismissed. ")])],1)},UC=[],OC={components:{Notification:Bt},data(){return{dismissed:!1}},methods:{dismiss(){this.dismissed=!0}}},MC=OC,$C=(0,T.Z)(MC,BC,UC,!1,null,null,null),NC=$C.exports,jC='<template>\n\t<div class="previewNotification">\n\t\t<notification>\n\t\t\tRevisions have been submitted and a decision is required.\n\t\t</notification>\n\t\t<notification type="success">\n\t\t\tThis article has been been successfully published.\n\t\t\t<a href="#">View Article</a>\n\t\t\t.\n\t\t</notification>\n\t\t<notification type="warning">\n\t\t\t<icon icon="exclamation-triangle" :inline="true" />\n\t\t\tThis submission does not have any contributors. At least one contributor\n\t\t\tmust be provided.\n\t\t</notification>\n\t\t<notification v-if="!dismissed" :canDismiss="true" @dismiss="dismiss">\n\t\t\tThis notification can be dismissed.\n\t\t</notification>\n\t</div>\n</template>\n\n<script>\nimport Notification from \'@/components/Notification/Notification.vue\';\n\nexport default {\n\tcomponents: {\n\t\tNotification,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdismissed: false,\n\t\t};\n\t},\n\tmethods: {\n\t\tdismiss() {\n\t\t\tthis.dismissed = true;\n\t\t},\n\t},\n};\n<\/script>\n\n<style lang="less">\n.previewNotification > .pkpNotification + .pkpNotification {\n\tmargin-top: 1rem;\n}\n</style>\n',qC="##  Props\n\n| Key | Description |\n| --- | --- |\n| `type` | The type of notification. Pass `warning` for notifications about errors or serious problems. |\n\n## Events\n\nThis component does not emit any events.\n\n## Usage\n\nUse the `Notification` component to draw the user's attention to new information. Do not overuse notifications. If they become too common, they will no longer draw the user's attention.",WC={extends:H,data(){return{name:"Notification",readme:qC,examples:[{component:NC,name:"Base",template:this.extractTemplate(jC)}]}}},VC=WC,KC=(0,T.Z)(VC,BP,UP,!1,null,null,null),zC=KC.exports,HC=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewNotify"},[e("pkp-button",{on:{click:function(e){return t.notify("This is an example notice.")}}},[t._v(" Notice ")]),e("pkp-button",{on:{click:function(e){return t.notify("This issue has been successfully published.","success")}}},[t._v(" Success ")]),e("pkp-button",{on:{click:function(e){return t.notify("An unexpected error has occurred. Please refresh the page and try again.","warning")}}},[t._v(" Warning ")]),e("pkp-button",{attrs:{isWarnable:!0},on:{click:t.clearAll}},[t._v(" Clear All Notifications ")]),e("div",{ref:"notifications",staticClass:"app__notifications",attrs:{"aria-live":"polite","aria-atomic":"true",role:"status"}},[e("transition-group",{attrs:{name:"app__notification"}},t._l(t.notifications,(function(n){return e("notification",{key:n.key,attrs:{type:n.type,"can-dismiss":!0},on:{dismiss:function(e){return t.dismissNotification(n.key)}}},[t._v(" "+t._s(n.message)+" ")])})),1)],1)],1)},ZC=[],GC={extends:ho,methods:{clearAll(){pkp.eventBus.$emit("clear-all-notify")},notify(t,e){pkp.eventBus.$emit("notify",t,e)}}},YC=GC,JC=(0,T.Z)(YC,HC,ZC,!1,null,null,null),XC=JC.exports,QC='<template>\n\t<div class="previewNotify">\n\t\t<pkp-button @click="notify(\'This is an example notice.\')">\n\t\t\tNotice\n\t\t</pkp-button>\n\t\t<pkp-button\n\t\t\t@click="notify(\'This issue has been successfully published.\', \'success\')"\n\t\t>\n\t\t\tSuccess\n\t\t</pkp-button>\n\t\t<pkp-button\n\t\t\t@click="\n\t\t\t\tnotify(\n\t\t\t\t\t\'An unexpected error has occurred. Please refresh the page and try again.\',\n\t\t\t\t\t\'warning\'\n\t\t\t\t)\n\t\t\t"\n\t\t>\n\t\t\tWarning\n\t\t</pkp-button>\n\t\t<pkp-button :isWarnable="true" @click="clearAll">\n\t\t\tClear All Notifications\n\t\t</pkp-button>\n\t\t<div\n\t\t\taria-live="polite"\n\t\t\taria-atomic="true"\n\t\t\tclass="app__notifications"\n\t\t\tref="notifications"\n\t\t\trole="status"\n\t\t>\n\t\t\t<transition-group name="app__notification">\n\t\t\t\t<notification\n\t\t\t\t\tv-for="notification in notifications"\n\t\t\t\t\t:key="notification.key"\n\t\t\t\t\t:type="notification.type"\n\t\t\t\t\t:can-dismiss="true"\n\t\t\t\t\t@dismiss="dismissNotification(notification.key)"\n\t\t\t\t>\n\t\t\t\t\t{{ notification.message }}\n\t\t\t\t</notification>\n\t\t\t</transition-group>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Page from \'@/components/Container/Page.vue\';\n\nexport default {\n\textends: Page,\n\tmethods: {\n\t\tclearAll() {\n\t\t\tpkp.eventBus.$emit(\'clear-all-notify\');\n\t\t},\n\t\tnotify(message, type) {\n\t\t\tpkp.eventBus.$emit(\'notify\', message, type);\n\t\t},\n\t},\n};\n<\/script>\n\n<style lang="less">\n.previewNotify > .pkpButton + .pkpButton {\n\tmargin-left: 0.25rem;\n}\n</style>\n',tA="## Usage\n\nNotify the user when something changes by emitting a `notify` event on the global event bus.\n\n```js\npkp.eventBus.$emit('notify', 'The DOI for this submission has been scheduled for deposit.');\n```\n\nUse the `success` status to indicate an action has finished successfully.\n\n```js\npkp.eventBus.$emit('notify', 'The submission has been published.', 'success');\n```\n\nUse the `warning` status to indicate an action that has failed or which may need to be corrected by the user.\n\n```js\npkp.eventBus.$emit('notify', 'An ORCID is required for all authors.', 'error');\n```\n\nThe notifications will disappear after a few seconds, unless the user is hovering their mouse over the notification. Pass the `clear-all-notify` event if you need to clear all the events off the screen immediately.\n\n```js\npkp.eventBus.$emit('clear-all-notify');\n```\n\nA [Page](#/component/Page) must be present in order to receive the event and display the notification. This should be available on every page in the editorial backend.\n\n## Accessibility\n\nThese notifications should not contain actions such as buttons or links. The notification will be read out by a screen reader, but some users will not be able to navigate to the notification to perform an action before it disappears.",eA={extends:H,data(){return{name:"Notify",readme:tA,examples:[{component:XC,name:"Base",template:this.extractTemplate(QC)}]}}},nA=eA,iA=(0,T.Z)(nA,OP,MP,!1,null,null,null),sA=iA.exports,aA=function(){var t=this,e=t._self._c;return e("list",t._l(t.items,(function(n){return e("list-item",{key:n},[t._v(" "+t._s(n)+" "),e("orderer",{attrs:{isDraggable:!1,itemId:n,itemTitle:n},on:{down:t.down,up:t.up}})],1)})),1)},lA=[],rA={components:{List:ur,ListItem:vr,Orderer:hn},data(){return{items:["One","Two","Three"]}},methods:{up:function(t){const e=this.items.findIndex((e=>e===t));e&&this.items.splice(e-1,0,this.items.splice(e,1)[0])},down:function(t){const e=this.items.findIndex((e=>e===t));e<0||e>=this.items.length-1||this.items.splice(e+1,0,this.items.splice(e,1)[0])}}},oA=rA,dA=(0,T.Z)(oA,aA,lA,!1,null,null,null),pA=dA.exports,cA='<template>\n\t<list>\n\t\t<list-item v-for="item in items" :key="item">\n\t\t\t{{ item }}\n\t\t\t<orderer\n\t\t\t\t:isDraggable="false"\n\t\t\t\t:itemId="item"\n\t\t\t\t:itemTitle="item"\n\t\t\t\t@down="down"\n\t\t\t\t@up="up"\n\t\t\t/>\n\t\t</list-item>\n\t</list>\n</template>\n\n<script>\nimport List from \'@/components/List/List.vue\';\nimport ListItem from \'@/components/List/ListItem.vue\';\nimport Orderer from \'@/components/Orderer/Orderer.vue\';\n\nexport default {\n\tcomponents: {\n\t\tList,\n\t\tListItem,\n\t\tOrderer,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\titems: [\'One\', \'Two\', \'Three\'],\n\t\t};\n\t},\n\tmethods: {\n\t\t/**\n\t\t * Movin\' on up!\n\t\t *\n\t\t * @param {String|Number} id The item to move\n\t\t */\n\t\tup: function (id) {\n\t\t\tconst index = this.items.findIndex((item) => {\n\t\t\t\treturn item === id;\n\t\t\t});\n\t\t\tif (!index) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.items.splice(index - 1, 0, this.items.splice(index, 1)[0]);\n\t\t},\n\n\t\t/**\n\t\t * Get down tonight!\n\t\t *\n\t\t * @param {String|Number} id The item to move\n\t\t */\n\t\tdown: function (id) {\n\t\t\tconst index = this.items.findIndex((item) => {\n\t\t\t\treturn item === id;\n\t\t\t});\n\t\t\tif (index < 0 || index >= this.items.length - 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.items.splice(index + 1, 0, this.items.splice(index, 1)[0]);\n\t\t},\n\t},\n};\n<\/script>\n',uA=function(){var t=this,e=t._self._c;return e("list",{staticClass:"viewOrderer--draggable"},[e("draggable",{model:{value:t.items,callback:function(e){t.items=e},expression:"items"}},t._l(t.items,(function(n){return e("list-item",{key:n},[t._v(" "+t._s(n)+" "),e("orderer",{attrs:{itemId:n,itemTitle:n},on:{down:t.down,up:t.up}})],1)})),1)],1)},mA=[],hA={extends:pA,components:{draggable:on()},data(){return{...pA.data()}}},bA=hA,fA=(0,T.Z)(bA,uA,mA,!1,null,null,null),gA=fA.exports,vA='<template>\n\t<list class="viewOrderer--draggable">\n\t\t<draggable v-model="items">\n\t\t\t<list-item v-for="item in items" :key="item">\n\t\t\t\t{{ item }}\n\t\t\t\t<orderer :itemId="item" :itemTitle="item" @down="down" @up="up" />\n\t\t\t</list-item>\n\t\t</draggable>\n\t</list>\n</template>\n\n<script>\nimport PreviewOrderer from \'./PreviewOrderer.vue\';\nimport draggable from \'vuedraggable\';\n\nexport default {\n\textends: PreviewOrderer,\n\tcomponents: {\n\t\tdraggable,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t...PreviewOrderer.data(),\n\t\t};\n\t},\n};\n<\/script>\n\n<style lang="less">\n@import \'../../../../styles/_import\';\n\n.viewOrderer--draggable {\n\t.listItem {\n\t\tpadding-inline-start: 4em;\n\t}\n}\n</style>\n',_A="## Props\n\n| Key | Description |\n| --- | --- |\n`itemId` | A unique id for the item to be ordered. This will be emitted in the `up` and `down` events. It may be a string or number, and does not correspond to the item's order in the list. |\n`itemTitle` | The name of the item. This is used in an accessible label for the up and down buttons. |\n`isDraggable` | Whether or not to provide drag-and-drop controls for this item. When `isDraggable` is true, the items to be ordered must be wrapped in a `<draggable>` component. |\n\n## Events\n\n| Key | Description |\n| --- | --- |\n| `up` | This event will be emitted when the up arrow is pressed on an item. The value will be the item's `id`. |\n| `down` | This event will be emitted when the down arrow is pressed on an item. The value will be the item's `id`. |\n\n## Usage\n\nA helper component that adds accessible controls to change the order of items.\n\nThe `Orderer` component can be used inside list items. In the parent component, you will need to listen for `up` and `down` events from the component and modify your list accordingly.\n\n## Drag and Drop\n\nOrderable items will _usually_ be used within a `draggable` component for drag-and-drop support. When doing so, items in the list should have a left padding of `4em` to accommodate the grab handle.\n\nIf you do not want your items to be draggable, set the `Orderer`'s `isDraggable` prop to `false` to hide the grab handle.\n\n## Loops and Keys\n\nOrderable items will _usually_ be printed with a `v-for` loop, like this:\n\n```html\n<li v-for=\"item in items\" :key=\"item.id\">\n\t...\n</li>\n```\n\nWhen doing so, you _must_ use the `:key` attribute to provide a unique key or the keyboard focus can not travel with the item as it moves.\n",yA={extends:H,data(){return{name:"Orderer",readme:_A,examples:[{component:pA,name:"Base",template:this.extractTemplate(cA)},{component:gA,name:"Draggable",template:this.extractTemplate(vA)}]}}},kA=yA,wA=(0,T.Z)(kA,$P,NP,!1,null,null,null),SA=wA.exports,TA=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app",class:t.classes},[e("header",{staticClass:"app__header",attrs:{role:"banner"}},[t.contexts.length?e("dropdown",{staticClass:"app__headerAction app__contexts"},[e("template",{slot:"button"},[e("icon",{attrs:{icon:"sitemap"}}),e("span",{staticClass:"-screenReader"},[t._v("Journals")])],1),e("ul",t._l(t.contexts,(function(n){return e("li",{key:n.id},[e("a",{staticClass:"pkpDropdown__action",attrs:{href:n.url}},[t._v(" "+t._s(n.title)+" ")])])})),0)],2):t._e(),e("div",{staticClass:"app__contextTitle"},[t._v("Journal of Public Knowledge")]),e("div",{staticClass:"app__headerActions"},[e("div",{staticClass:"app__headerAction app__tasks"},[e("button",{ref:"tasksButton",on:{click:function(e){return t.alert("Opens the tasks grid in a modal")}}},[e("icon",{attrs:{icon:"bell-o"}}),e("span",{staticClass:"-screenReader"},[t._v("Tasks")]),t.unreadTasksCount?e("span",{staticClass:"app__tasksCount"},[t._v(" "+t._s(t.unreadTasksCount)+" ")]):t._e()],1)]),e("dropdown",{staticClass:"app__headerAction app__userNav"},[e("template",{slot:"button"},[e("icon",{attrs:{icon:"user-circle-o"}}),t.isLoggedInAs?e("icon",{staticClass:"app__userNav__isLoggedInAsWarning",attrs:{icon:"user-circle"}}):t._e(),e("span",{staticClass:"-screenReader"},[t._v("Options for "+t._s(t.currentUsername))])],1),t.isLoggedInAs?e("div",{staticClass:"pkpDropdown__section"},[e("div",{staticClass:"app__userNav__loggedInAs"},[t._v(" You are currently logged in as "+t._s(t.currentUsername)+". "),e("a",{staticClass:"app__userNav__logOutAs",attrs:{href:"#"}},[t._v(" Logout as "+t._s(t.currentUsername)+" ")]),t._v(" . ")])]):t._e(),e("div",{staticClass:"pkpDropdown__section"},[e("ul",[e("li",[e("a",{staticClass:"pkpDropdown__action",attrs:{href:"#"}},[t._v("View Profile")])]),e("li",[e("a",{staticClass:"pkpDropdown__action",attrs:{href:"#"}},[t._v("Logout")])])])]),e("div",{staticClass:"pkpDropdown__section"},[e("div",{staticClass:"app__userNav__changeLocale"},[t._v("Change Language")]),e("ul",t._l(t.locales,(function(n){return e("li",{key:n.key},[e("a",{staticClass:"pkpDropdown__action",attrs:{href:n.key}},["en"===n.key?e("icon",{attrs:{icon:"check",inline:!0}}):t._e(),t._v(" "+t._s(n.name)+" ")],1)])})),0)])],2)],1)],1),e("div",{staticClass:"app__body"},[t.menu&&Object.keys(t.menu).length>1?e("nav",{staticClass:"app__nav",attrs:{"aria-label":"Site Navigation"}},[e("ul",t._l(t.menu,(function(n,i){return e("li",{key:i,class:n.submenu?"app__navGroup":""},[n.submenu?e("div",{staticClass:"app__navItem app__navItem--hasSubmenu"},[t._v(" "+t._s(n.name)+" ")]):e("a",{staticClass:"app__navItem",class:n.isCurrent?"app__navItem--isCurrent":"",attrs:{href:n.url}},[t._v(" "+t._s(n.name)+" ")]),n.submenu?e("ul",t._l(n.submenu,(function(n,i){return e("li",{key:i},[e("a",{staticClass:"app__navItem",class:n.isCurrent?"app__navItem--isCurrent":"",attrs:{href:n.url}},[t._v(" "+t._s(n.name)+" ")])])})),0):t._e()])})),0)]):t._e(),e("main",{staticClass:"app__main"},[e("div",{staticClass:"app__page"},[e("nav",{staticClass:"app__breadcrumbs",attrs:{role:"navigation","aria-label":"You are here:"}},[e("ol",t._l(t.breadcrumbs,(function(n,i){return e("li",{key:n.name},[i===t.breadcrumbs.length-1?[e("span",{attrs:{"aria-current":"page"}},[t._v(t._s(n.name))])]:[e("a",{attrs:{href:n.url}},[t._v(" "+t._s(n.name)+" ")]),e("span",{staticClass:"app__breadcrumbsSeparator"},[t._v("/")])]],2)})),0)]),t._m(0)])])]),e("div",{ref:"notifications",staticClass:"app__notifications",attrs:{"aria-live":"polite","aria-atomic":"true",role:"status"}},[e("transition-group",{attrs:{name:"app__notification"}},t._l(t.notifications,(function(n){return e("notification",{key:n.key,attrs:{type:n.type,"can-dismiss":!0},on:{dismiss:function(e){return t.dismissNotification(n.key)}}},[t._v(" "+t._s(n.message)+" ")])})),1)],1),e("transition",{attrs:{name:"app__loading"}},[t.isLoading?e("div",{staticClass:"app__loading",attrs:{role:"alert"}},[e("div",{staticClass:"app__loading__content"},[e("spinner"),t._v(" Loading ")],1)]):t._e()])],1)},FA=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"page__content"},[e("h1",{staticClass:"app__pageHeading"},[t._v("Page Title Here")]),e("div",{staticClass:"app__contentPanel"},[e("div",{staticStyle:{"min-height":"50rem"}})])])}],xA={extends:ho,components:{Dropdown:po},data(){return{breadcrumbs:[{id:"settings",name:"Settings",url:"http://example.org"},{id:"website",name:"Website"}],contexts:[{id:1,title:"Journal of Public Knowledge",url:"http://example.org"},{id:2,title:"Recherche Bactériologique",url:"http://example.org"},{id:3,title:"الطب والأنثروبولوجيا",url:"http://example.org"}],currentLocale:"en",hasMultipleContexts:!0,isLoggedInAs:"ccorino",locales:[{key:"en",name:"English"},{key:"fr_CA",name:"Français (Canada)"},{key:"ar",name:"العربية"}],menu:{submissions:{name:"Submissions",url:"#/component/Page",isCurrent:!1},issues:{name:"Issues",url:"#/component/Page",isCurrent:!1},announcements:{name:"Announcements",url:"#/component/Page",isCurrent:!1},subscriptions:{name:"Subscriptions",url:"#/component/Page",isCurrent:!1},settings:{name:"Settings",isCurrent:!1,submenu:{context:{name:"Journal",url:"#/component/Page",isCurrent:!1},website:{name:"Website",url:"#/component/Page",isCurrent:!1},workflow:{name:"Workflow",url:"#/component/Page",isCurrent:!1},distribution:{name:"Distribution",url:"#/component/Page",isCurrent:!1},access:{name:"Users & Roles",url:"#/component/Page",isCurrent:!1}}},stats:{name:"Stats",isCurrent:!1,submenu:{editorial:{name:"Editorial",url:"#/component/Page",isCurrent:!1},publications:{name:"Publications",url:"#/component/Page",isCurrent:!1},users:{name:"Users",url:"#/component/Page",isCurrent:!1}}},tools:{name:"Tools",url:"#/component/Page",isCurrent:!1},admin:{name:"Administration",url:"#/component/Page",isCurrent:!1}},tasksUrl:"",unreadTasksCount:3}},computed:{classes(){let t=[];return this.isLoggedInAs&&t.push("app--isLoggedInAs"),t},currentUsername(){return this.isLoggedInAs?this.isLoggedInAs:pkp.currentUser.username}},methods:{alert(t){alert(t)}}},PA=xA,LA=(0,T.Z)(PA,TA,FA,!1,null,null,null),CA=LA.exports,AA='<template>\n\t<div class="app" :class="classes">\n\t\t<header class="app__header" role="banner">\n\t\t\t<dropdown v-if="contexts.length" class="app__headerAction app__contexts">\n\t\t\t\t<template slot="button">\n\t\t\t\t\t<icon icon="sitemap" />\n\t\t\t\t\t<span class="-screenReader">Journals</span>\n\t\t\t\t</template>\n\t\t\t\t<ul>\n\t\t\t\t\t<li v-for="context in contexts" :key="context.id">\n\t\t\t\t\t\t<a :href="context.url" class="pkpDropdown__action">\n\t\t\t\t\t\t\t{{ context.title }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</dropdown>\n\t\t\t<div class="app__contextTitle">Journal of Public Knowledge</div>\n\t\t\t<div class="app__headerActions">\n\t\t\t\t<div class="app__headerAction app__tasks">\n\t\t\t\t\t<button\n\t\t\t\t\t\tref="tasksButton"\n\t\t\t\t\t\t@click="alert(\'Opens the tasks grid in a modal\')"\n\t\t\t\t\t>\n\t\t\t\t\t\t<icon icon="bell-o"></icon>\n\t\t\t\t\t\t<span class="-screenReader">Tasks</span>\n\t\t\t\t\t\t<span v-if="unreadTasksCount" class="app__tasksCount">\n\t\t\t\t\t\t\t{{ unreadTasksCount }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<dropdown class="app__headerAction app__userNav">\n\t\t\t\t\t<template slot="button">\n\t\t\t\t\t\t<icon icon="user-circle-o" />\n\t\t\t\t\t\t<icon\n\t\t\t\t\t\t\tv-if="isLoggedInAs"\n\t\t\t\t\t\t\ticon="user-circle"\n\t\t\t\t\t\t\tclass="app__userNav__isLoggedInAsWarning"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span class="-screenReader">Options for {{ currentUsername }}</span>\n\t\t\t\t\t</template>\n\t\t\t\t\t<div v-if="isLoggedInAs" class="pkpDropdown__section">\n\t\t\t\t\t\t<div class="app__userNav__loggedInAs">\n\t\t\t\t\t\t\tYou are currently logged in as {{ currentUsername }}.\n\t\t\t\t\t\t\t<a href="#" class="app__userNav__logOutAs">\n\t\t\t\t\t\t\t\tLogout as {{ currentUsername }}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="pkpDropdown__section">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="#" class="pkpDropdown__action">View Profile</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="#" class="pkpDropdown__action">Logout</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="pkpDropdown__section">\n\t\t\t\t\t\t<div class="app__userNav__changeLocale">Change Language</div>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li v-for="locale in locales" :key="locale.key">\n\t\t\t\t\t\t\t\t<a :href="locale.key" class="pkpDropdown__action">\n\t\t\t\t\t\t\t\t\t<icon\n\t\t\t\t\t\t\t\t\t\tv-if="locale.key === \'en\'"\n\t\t\t\t\t\t\t\t\t\ticon="check"\n\t\t\t\t\t\t\t\t\t\t:inline="true"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{{ locale.name }}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</dropdown>\n\t\t\t</div>\n\t\t</header>\n\n\t\t<div class="app__body">\n\t\t\t<nav\n\t\t\t\tv-if="!!menu && Object.keys(menu).length > 1"\n\t\t\t\tclass="app__nav"\n\t\t\t\taria-label="Site Navigation"\n\t\t\t>\n\t\t\t\t<ul>\n\t\t\t\t\t<li\n\t\t\t\t\t\tv-for="(menuItem, key) in menu"\n\t\t\t\t\t\t:key="key"\n\t\t\t\t\t\t:class="!!menuItem.submenu ? \'app__navGroup\' : \'\'"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if="!!menuItem.submenu"\n\t\t\t\t\t\t\tclass="app__navItem app__navItem--hasSubmenu"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ menuItem.name }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\tclass="app__navItem"\n\t\t\t\t\t\t\t:class="menuItem.isCurrent ? \'app__navItem--isCurrent\' : \'\'"\n\t\t\t\t\t\t\t:href="menuItem.url"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ menuItem.name }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<ul v-if="!!menuItem.submenu">\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tv-for="(submenuItem, submenuKey) in menuItem.submenu"\n\t\t\t\t\t\t\t\t:key="submenuKey"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tclass="app__navItem"\n\t\t\t\t\t\t\t\t\t:class="\n\t\t\t\t\t\t\t\t\t\tsubmenuItem.isCurrent ? \'app__navItem--isCurrent\' : \'\'\n\t\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t\t:href="submenuItem.url"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ submenuItem.name }}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t\t<main class="app__main">\n\t\t\t\t<div class="app__page">\n\t\t\t\t\t<nav\n\t\t\t\t\t\tclass="app__breadcrumbs"\n\t\t\t\t\t\trole="navigation"\n\t\t\t\t\t\taria-label="You are here:"\n\t\t\t\t\t>\n\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tv-for="(breadcrumb, index) in breadcrumbs"\n\t\t\t\t\t\t\t\t:key="breadcrumb.name"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<template v-if="index === breadcrumbs.length - 1">\n\t\t\t\t\t\t\t\t\t<span aria-current="page">{{ breadcrumb.name }}</span>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t\t<a :href="breadcrumb.url">\n\t\t\t\t\t\t\t\t\t\t{{ breadcrumb.name }}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<span class="app__breadcrumbsSeparator">/</span>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ol>\n\t\t\t\t\t</nav>\n\t\t\t\t\t<div class="page__content">\n\t\t\t\t\t\t<h1 class="app__pageHeading">Page Title Here</h1>\n\t\t\t\t\t\t<div class="app__contentPanel">\n\t\t\t\t\t\t\t<div style="min-height: 50rem"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t\t<div\n\t\t\taria-live="polite"\n\t\t\taria-atomic="true"\n\t\t\tclass="app__notifications"\n\t\t\tref="notifications"\n\t\t\trole="status"\n\t\t>\n\t\t\t<transition-group name="app__notification">\n\t\t\t\t<notification\n\t\t\t\t\tv-for="notification in notifications"\n\t\t\t\t\t:key="notification.key"\n\t\t\t\t\t:type="notification.type"\n\t\t\t\t\t:can-dismiss="true"\n\t\t\t\t\t@dismiss="dismissNotification(notification.key)"\n\t\t\t\t>\n\t\t\t\t\t{{ notification.message }}\n\t\t\t\t</notification>\n\t\t\t</transition-group>\n\t\t</div>\n\t\t<transition name="app__loading">\n\t\t\t<div v-if="isLoading" class="app__loading" role="alert">\n\t\t\t\t<div class="app__loading__content">\n\t\t\t\t\t<spinner></spinner>\n\t\t\t\t\tLoading\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</transition>\n\t</div>\n</template>\n\n<script>\nimport Page from \'@/components/Container/Page.vue\';\nimport Dropdown from \'@/components/Dropdown/Dropdown.vue\';\n\nexport default {\n\textends: Page,\n\tcomponents: {\n\t\tDropdown,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tbreadcrumbs: [\n\t\t\t\t{\n\t\t\t\t\tid: \'settings\',\n\t\t\t\t\tname: \'Settings\',\n\t\t\t\t\turl: \'http://example.org\',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \'website\',\n\t\t\t\t\tname: \'Website\',\n\t\t\t\t},\n\t\t\t],\n\t\t\tcontexts: [\n\t\t\t\t{\n\t\t\t\t\tid: 1,\n\t\t\t\t\ttitle: \'Journal of Public Knowledge\',\n\t\t\t\t\turl: \'http://example.org\',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 2,\n\t\t\t\t\ttitle: \'Recherche Bactériologique\',\n\t\t\t\t\turl: \'http://example.org\',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 3,\n\t\t\t\t\ttitle: \'الطب والأنثروبولوجيا\',\n\t\t\t\t\turl: \'http://example.org\',\n\t\t\t\t},\n\t\t\t],\n\t\t\tcurrentLocale: \'en\',\n\t\t\thasMultipleContexts: true,\n\t\t\tisLoggedInAs: \'ccorino\',\n\t\t\tlocales: [\n\t\t\t\t{\n\t\t\t\t\tkey: \'en\',\n\t\t\t\t\tname: \'English\',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: \'fr_CA\',\n\t\t\t\t\tname: \'Français (Canada)\',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: \'ar\',\n\t\t\t\t\tname: \'العربية\',\n\t\t\t\t},\n\t\t\t],\n\t\t\tmenu: {\n\t\t\t\tsubmissions: {\n\t\t\t\t\tname: \'Submissions\',\n\t\t\t\t\turl: \'#/component/Page\',\n\t\t\t\t\tisCurrent: false,\n\t\t\t\t},\n\t\t\t\tissues: {\n\t\t\t\t\tname: \'Issues\',\n\t\t\t\t\turl: \'#/component/Page\',\n\t\t\t\t\tisCurrent: false,\n\t\t\t\t},\n\t\t\t\tannouncements: {\n\t\t\t\t\tname: \'Announcements\',\n\t\t\t\t\turl: \'#/component/Page\',\n\t\t\t\t\tisCurrent: false,\n\t\t\t\t},\n\t\t\t\tsubscriptions: {\n\t\t\t\t\tname: \'Subscriptions\',\n\t\t\t\t\turl: \'#/component/Page\',\n\t\t\t\t\tisCurrent: false,\n\t\t\t\t},\n\t\t\t\tsettings: {\n\t\t\t\t\tname: \'Settings\',\n\t\t\t\t\tisCurrent: false,\n\t\t\t\t\tsubmenu: {\n\t\t\t\t\t\tcontext: {\n\t\t\t\t\t\t\tname: \'Journal\',\n\t\t\t\t\t\t\turl: \'#/component/Page\',\n\t\t\t\t\t\t\tisCurrent: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t\twebsite: {\n\t\t\t\t\t\t\tname: \'Website\',\n\t\t\t\t\t\t\turl: \'#/component/Page\',\n\t\t\t\t\t\t\tisCurrent: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tworkflow: {\n\t\t\t\t\t\t\tname: \'Workflow\',\n\t\t\t\t\t\t\turl: \'#/component/Page\',\n\t\t\t\t\t\t\tisCurrent: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdistribution: {\n\t\t\t\t\t\t\tname: \'Distribution\',\n\t\t\t\t\t\t\turl: \'#/component/Page\',\n\t\t\t\t\t\t\tisCurrent: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t\taccess: {\n\t\t\t\t\t\t\tname: \'Users & Roles\',\n\t\t\t\t\t\t\turl: \'#/component/Page\',\n\t\t\t\t\t\t\tisCurrent: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tstats: {\n\t\t\t\t\tname: \'Stats\',\n\t\t\t\t\tisCurrent: false,\n\t\t\t\t\tsubmenu: {\n\t\t\t\t\t\teditorial: {\n\t\t\t\t\t\t\tname: \'Editorial\',\n\t\t\t\t\t\t\turl: \'#/component/Page\',\n\t\t\t\t\t\t\tisCurrent: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpublications: {\n\t\t\t\t\t\t\tname: \'Publications\',\n\t\t\t\t\t\t\turl: \'#/component/Page\',\n\t\t\t\t\t\t\tisCurrent: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tusers: {\n\t\t\t\t\t\t\tname: \'Users\',\n\t\t\t\t\t\t\turl: \'#/component/Page\',\n\t\t\t\t\t\t\tisCurrent: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttools: {\n\t\t\t\t\tname: \'Tools\',\n\t\t\t\t\turl: \'#/component/Page\',\n\t\t\t\t\tisCurrent: false,\n\t\t\t\t},\n\t\t\t\tadmin: {\n\t\t\t\t\tname: \'Administration\',\n\t\t\t\t\turl: \'#/component/Page\',\n\t\t\t\t\tisCurrent: false,\n\t\t\t\t},\n\t\t\t},\n\t\t\ttasksUrl: \'\',\n\t\t\tunreadTasksCount: 3,\n\t\t};\n\t},\n\tcomputed: {\n\t\tclasses() {\n\t\t\tlet classes = [];\n\t\t\tif (this.isLoggedInAs) {\n\t\t\t\tclasses.push(\'app--isLoggedInAs\');\n\t\t\t}\n\t\t\treturn classes;\n\t\t},\n\t\tcurrentUsername() {\n\t\t\treturn this.isLoggedInAs ? this.isLoggedInAs : pkp.currentUser.username;\n\t\t},\n\t},\n\tmethods: {\n\t\talert(msg) {\n\t\t\talert(msg);\n\t\t},\n\t},\n};\n<\/script>\n\n<style lang="less">\n@import \'../../../../styles/_import\';\n\n.component--Container {\n\t.component__exampleWrapper {\n\t\tmax-width: none;\n\t\tbackground: transparent;\n\t}\n\n\t.previewApp__content {\n\t\tbackground: #fff;\n\t}\n}\n</style>\n',IA="## Props\n\nThis is a root component. Pass data to the component using state (see below).\n\n## Data\n\n| Key | Description |\n| --- | --- |\n| `breadcrumbs` | An array of objects defining a breadcrumb to display above main page content. |\n| `components` | A key/value object with component data to manage. See [Managing Components](#/component/Page#managing-components) |\n| `menu` | An array items for the main navigation menu |\n| `notifications` | An array of toast-style notifications to display. Default: `[]`. See [Notify](/utilities/Notify) |\n| `notificationInterval` | Used internally to clear notifications. Do not set this manually. |\n| `tasksUrl` | The URL to retrieve the tasks grid. |\n| `unreadTasksCount` | The current number of unread tasks. |\n\n## Events\n\nThis is a root component. It does not emit any events but may fire events on the global [event bus](/#/pages/event-bus).\n\n## Usage\n\nThis component is a root component which is used to render a page of the editorial backend. It manages the layout architecture, including the main navigation menu, tasks and user navigation dropdown.\n\nNothing is needed to load the `Page` component. It is initialized automatically for every page in the editorial backend. Learn more about the [application's frontend](https://docs.pkp.sfu.ca/dev/documentation/en/frontend).\n\n## State\n\nThe developer documentation includes guidance on [how to initialize state](https://docs.pkp.sfu.ca/dev/documentation/en/frontend-ui-library#state) in a `Page` component.\n\n## Page Components\n\nSeveral page components have been created to manage state for different pages of the application. They include:\n\n- `AdminPage` is used on administration pages.\n- `ImportExportPage` is used to support the select all functionality for the export tools.\n- `SettingsPage` is used on settings pages.\n- `StatsEditorialPage` is used on the editorial stats page. See [preview](#/component/StatsPage).\n- `StatsPublicationsPage` is used on the publication stats page. See [preview](#/component/StatsPage/publication-stats).\n- `WorkflowPage` is used on the submission workflow page. See [preview](#/component/WorkflowPage).\n\n",DA={extends:H,data(){return{name:"Page",readme:IA,examples:[{component:CA,name:"Base",template:this.extractTemplate(AA)}]}}},EA=DA,RA=(0,T.Z)(EA,jP,qP,!1,null,null,null),BA=RA.exports,UA=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewPagination"},[e("pagination",{attrs:{"current-page":t.currentPage,"last-page":10,isLoading:t.isLoading},on:{"set-page":t.setPage}}),e("pagination",{attrs:{"current-page":t.currentPage,"last-page":10,"show-adjacent-pages":2,isLoading:t.isLoading},on:{"set-page":t.setPage}})],1)},OA=[],MA={components:{Pagination:Jt},data(){return{currentPage:1,isLoading:!1}},methods:{setPage(t){this.isLoading=!0,this.currentPage=t,setTimeout((()=>{this.isLoading=!1}),1e3)}}},$A=MA,NA=(0,T.Z)($A,UA,OA,!1,null,null,null),jA=NA.exports,qA='<template>\n\t<div class="previewPagination">\n\t\t<pagination\n\t\t\t:current-page="currentPage"\n\t\t\t:last-page="10"\n\t\t\t:isLoading="isLoading"\n\t\t\t@set-page="setPage"\n\t\t/>\n\t\t<pagination\n\t\t\t:current-page="currentPage"\n\t\t\t:last-page="10"\n\t\t\t:show-adjacent-pages="2"\n\t\t\t:isLoading="isLoading"\n\t\t\t@set-page="setPage"\n\t\t/>\n\t</div>\n</template>\n\n<script>\nimport Pagination from \'@/components/Pagination/Pagination.vue\';\n\nexport default {\n\tcomponents: {\n\t\tPagination,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcurrentPage: 1,\n\t\t\tisLoading: false,\n\t\t};\n\t},\n\tmethods: {\n\t\t/**\n\t\t * Mock a server request delay when changing pages\n\t\t */\n\t\tsetPage(page) {\n\t\t\tthis.isLoading = true;\n\t\t\tthis.currentPage = page;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.isLoading = false;\n\t\t\t}, 1000);\n\t\t},\n\t},\n};\n<\/script>\n\n<style lang="less">\n.previewPagination > * + * {\n\tmargin-top: 2rem;\n}\n</style>\n',WA='## Props\n\n| Key | Description |\n| --- | --- |\n| `currentPage` | The page that is currently being displayed. |\n| `isLoading` | Is the current page still loading? |\n| `lastPage` | The last page that is available. |\n| `showAdjacentPages` | \'How many pages to show beside the current one. Default is <code>1</code>. |\n\n## Events\n\n| Key | Description |\n| --- | --- |\n| `set-page` | The page that should be selected. |\n\n## Usage\n\nUse the `Pagination` component when users can not view all items at once.\n\n## Hide When Unused\n\nPagination should be hidden when only one page of results exists. This can be done in a parent component with the following code.\n\n```html\n<pagination\n\tv-if="lastPage > 1" \x3c!-- hide pagination for single page results --\x3e\n\t:current-page="currentPage"\n\t:last-page="lastPage"\n\t@set-page="set-page"\n/>\n```\n\n## Adjacent Pages\n\nLeave `showAdjacentPages` set to the default unless you have a good reason to change it. It may be changed when the user is likely to want to "skip" the next or previous page, but not jump to the end.\n',VA={extends:H,data(){return{name:"Pagination",readme:WA,examples:[{component:jA,name:"Base",template:this.extractTemplate(qA)}]}}},KA=VA,zA=(0,T.Z)(KA,WP,VP,!1,null,null,null),HA=zA.exports,ZA=function(){var t=this,e=t._self._c;return e("panel",[e("panel-section",[e("template",{slot:"header"},[e("h2",[t._v("Journal Overview")]),e("p",[t._v(" The following details about your journal are provided for your review. Please review them carefully before proceeding. ")])]),e("list",[e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"comment-o",inline:!0}}),t._v(" 32 ")],1),t._v(" Number of active discussions in this journal. ")],2),e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"clock-o",inline:!0}}),t._v(" 67 ")],1),t._v(" Days until next issue is published. ")],2),e("list-item",[e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}),t._v(" This journal is not currently available for the public to view. Would you like to "),e("a",{attrs:{href:"#"}},[t._v("make it public")]),t._v(" ? ")],1)],1)],2)],1)},GA=[],YA={components:{List:ur,ListItem:vr}},JA=YA,XA=(0,T.Z)(JA,ZA,GA,!1,null,null,null),QA=XA.exports,tI='<template>\n\t<panel>\n\t\t<panel-section>\n\t\t\t<template slot="header">\n\t\t\t\t<h2>Journal Overview</h2>\n\t\t\t\t<p>\n\t\t\t\t\tThe following details about your journal are provided for your review.\n\t\t\t\t\tPlease review them carefully before proceeding.\n\t\t\t\t</p>\n\t\t\t</template>\n\t\t\t<list>\n\t\t\t\t<list-item>\n\t\t\t\t\t<template slot="value">\n\t\t\t\t\t\t<icon icon="comment-o" :inline="true" />\n\t\t\t\t\t\t32\n\t\t\t\t\t</template>\n\t\t\t\t\tNumber of active discussions in this journal.\n\t\t\t\t</list-item>\n\t\t\t\t<list-item>\n\t\t\t\t\t<template slot="value">\n\t\t\t\t\t\t<icon icon="clock-o" :inline="true" />\n\t\t\t\t\t\t67\n\t\t\t\t\t</template>\n\t\t\t\t\tDays until next issue is published.\n\t\t\t\t</list-item>\n\t\t\t\t<list-item>\n\t\t\t\t\t<icon icon="exclamation-triangle" :inline="true" />\n\t\t\t\t\tThis journal is not currently available for the public to view. Would\n\t\t\t\t\tyou like to\n\t\t\t\t\t<a href="#">make it public</a>\n\t\t\t\t\t?\n\t\t\t\t</list-item>\n\t\t\t</list>\n\t\t</panel-section>\n\t</panel>\n</template>\n\n<script>\nimport List from \'@/components/List/List.vue\';\nimport ListItem from \'@/components/List/ListItem.vue\';\n\nexport default {\n\tcomponents: {\n\t\tList,\n\t\tListItem,\n\t},\n};\n<\/script>\n',eI=function(){var t=this,e=t._self._c;return e("panel",[e("panel-section",[e("template",{slot:"header"},[e("h2",[t._v("Journal Overview")]),e("p",[t._v(" The following details about your journal are provided for your review. Please review them carefully before proceeding. ")])]),e("list",[e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"comment-o",inline:!0}}),t._v(" 32 ")],1),t._v(" Number of active discussions in this journal. ")],2),e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"clock-o",inline:!0}}),t._v(" 67 ")],1),t._v(" Days until next issue is published. ")],2),e("list-item",[e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}),t._v(" This journal is not currently available for the public to view. Would you like to "),e("a",{attrs:{href:"#"}},[t._v("make it public")]),t._v(" ? ")],1)],1)],2),e("panel-section",[e("template",{slot:"header"},[e("h2",[t._v("Journal Overview")]),e("p",[t._v(" The following details about your journal are provided for your review. Please review them carefully before proceeding. ")])]),e("list",[e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"comment-o",inline:!0}}),t._v(" 32 ")],1),t._v(" Number of active discussions in this journal. ")],2),e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"clock-o",inline:!0}}),t._v(" 67 ")],1),t._v(" Days until next issue is published. ")],2),e("list-item",[e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}),t._v(" This journal is not currently available for the public to view. Would you like to "),e("a",{attrs:{href:"#"}},[t._v("make it public")]),t._v(" ? ")],1)],1)],2)],1)},nI=[],iI={components:{List:ur,ListItem:vr}},sI=iI,aI=(0,T.Z)(sI,eI,nI,!1,null,null,null),lI=aI.exports,rI='<template>\n\t<panel>\n\t\t<panel-section>\n\t\t\t<template slot="header">\n\t\t\t\t<h2>Journal Overview</h2>\n\t\t\t\t<p>\n\t\t\t\t\tThe following details about your journal are provided for your review.\n\t\t\t\t\tPlease review them carefully before proceeding.\n\t\t\t\t</p>\n\t\t\t</template>\n\t\t\t<list>\n\t\t\t\t<list-item>\n\t\t\t\t\t<template slot="value">\n\t\t\t\t\t\t<icon icon="comment-o" :inline="true" />\n\t\t\t\t\t\t32\n\t\t\t\t\t</template>\n\t\t\t\t\tNumber of active discussions in this journal.\n\t\t\t\t</list-item>\n\t\t\t\t<list-item>\n\t\t\t\t\t<template slot="value">\n\t\t\t\t\t\t<icon icon="clock-o" :inline="true" />\n\t\t\t\t\t\t67\n\t\t\t\t\t</template>\n\t\t\t\t\tDays until next issue is published.\n\t\t\t\t</list-item>\n\t\t\t\t<list-item>\n\t\t\t\t\t<icon icon="exclamation-triangle" :inline="true" />\n\t\t\t\t\tThis journal is not currently available for the public to view. Would\n\t\t\t\t\tyou like to\n\t\t\t\t\t<a href="#">make it public</a>\n\t\t\t\t\t?\n\t\t\t\t</list-item>\n\t\t\t</list>\n\t\t</panel-section>\n\t\t<panel-section>\n\t\t\t<template slot="header">\n\t\t\t\t<h2>Journal Overview</h2>\n\t\t\t\t<p>\n\t\t\t\t\tThe following details about your journal are provided for your review.\n\t\t\t\t\tPlease review them carefully before proceeding.\n\t\t\t\t</p>\n\t\t\t</template>\n\t\t\t<list>\n\t\t\t\t<list-item>\n\t\t\t\t\t<template slot="value">\n\t\t\t\t\t\t<icon icon="comment-o" :inline="true" />\n\t\t\t\t\t\t32\n\t\t\t\t\t</template>\n\t\t\t\t\tNumber of active discussions in this journal.\n\t\t\t\t</list-item>\n\t\t\t\t<list-item>\n\t\t\t\t\t<template slot="value">\n\t\t\t\t\t\t<icon icon="clock-o" :inline="true" />\n\t\t\t\t\t\t67\n\t\t\t\t\t</template>\n\t\t\t\t\tDays until next issue is published.\n\t\t\t\t</list-item>\n\t\t\t\t<list-item>\n\t\t\t\t\t<icon icon="exclamation-triangle" :inline="true" />\n\t\t\t\t\tThis journal is not currently available for the public to view. Would\n\t\t\t\t\tyou like to\n\t\t\t\t\t<a href="#">make it public</a>\n\t\t\t\t\t?\n\t\t\t\t</list-item>\n\t\t\t</list>\n\t\t</panel-section>\n\t</panel>\n</template>\n\n<script>\nimport List from \'@/components/List/List.vue\';\nimport ListItem from \'@/components/List/ListItem.vue\';\n\nexport default {\n\tcomponents: {\n\t\tList,\n\t\tListItem,\n\t},\n};\n<\/script>\n',oI=function(){var t=this,e=t._self._c;return e("panel",{attrs:{stack:!0}},[e("panel-section",[e("template",{slot:"header"},[e("h2",[t._v("Journal Overview")]),e("p",[t._v(" The following details about your journal are provided for your review. Please review them carefully before proceeding. ")])]),e("list",[e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"comment-o",inline:!0}}),t._v(" 32 ")],1),t._v(" Number of active discussions in this journal. ")],2),e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"clock-o",inline:!0}}),t._v(" 67 ")],1),t._v(" Days until next issue is published. ")],2),e("list-item",[e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}),t._v(" This journal is not currently available for the public to view. Would you like to "),e("a",{attrs:{href:"#"}},[t._v("make it public")]),t._v(" ? ")],1)],1)],2),e("panel-section",[e("template",{slot:"header"},[e("h2",[t._v("Journal Overview")]),e("p",[t._v(" The following details about your journal are provided for your review. Please review them carefully before proceeding. ")])]),e("list",[e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"comment-o",inline:!0}}),t._v(" 32 ")],1),t._v(" Number of active discussions in this journal. ")],2),e("list-item",[e("template",{slot:"value"},[e("icon",{attrs:{icon:"clock-o",inline:!0}}),t._v(" 67 ")],1),t._v(" Days until next issue is published. ")],2),e("list-item",[e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}),t._v(" This journal is not currently available for the public to view. Would you like to "),e("a",{attrs:{href:"#"}},[t._v("make it public")]),t._v(" ? ")],1)],1)],2)],1)},dI=[],pI={components:{List:ur,ListItem:vr}},cI=pI,uI=(0,T.Z)(cI,oI,dI,!1,null,null,null),mI=uI.exports,hI='<template>\n\t<panel :stack="true">\n\t\t<panel-section>\n\t\t\t<template slot="header">\n\t\t\t\t<h2>Journal Overview</h2>\n\t\t\t\t<p>\n\t\t\t\t\tThe following details about your journal are provided for your review.\n\t\t\t\t\tPlease review them carefully before proceeding.\n\t\t\t\t</p>\n\t\t\t</template>\n\t\t\t<list>\n\t\t\t\t<list-item>\n\t\t\t\t\t<template slot="value">\n\t\t\t\t\t\t<icon icon="comment-o" :inline="true" />\n\t\t\t\t\t\t32\n\t\t\t\t\t</template>\n\t\t\t\t\tNumber of active discussions in this journal.\n\t\t\t\t</list-item>\n\t\t\t\t<list-item>\n\t\t\t\t\t<template slot="value">\n\t\t\t\t\t\t<icon icon="clock-o" :inline="true" />\n\t\t\t\t\t\t67\n\t\t\t\t\t</template>\n\t\t\t\t\tDays until next issue is published.\n\t\t\t\t</list-item>\n\t\t\t\t<list-item>\n\t\t\t\t\t<icon icon="exclamation-triangle" :inline="true" />\n\t\t\t\t\tThis journal is not currently available for the public to view. Would\n\t\t\t\t\tyou like to\n\t\t\t\t\t<a href="#">make it public</a>\n\t\t\t\t\t?\n\t\t\t\t</list-item>\n\t\t\t</list>\n\t\t</panel-section>\n\t\t<panel-section>\n\t\t\t<template slot="header">\n\t\t\t\t<h2>Journal Overview</h2>\n\t\t\t\t<p>\n\t\t\t\t\tThe following details about your journal are provided for your review.\n\t\t\t\t\tPlease review them carefully before proceeding.\n\t\t\t\t</p>\n\t\t\t</template>\n\t\t\t<list>\n\t\t\t\t<list-item>\n\t\t\t\t\t<template slot="value">\n\t\t\t\t\t\t<icon icon="comment-o" :inline="true" />\n\t\t\t\t\t\t32\n\t\t\t\t\t</template>\n\t\t\t\t\tNumber of active discussions in this journal.\n\t\t\t\t</list-item>\n\t\t\t\t<list-item>\n\t\t\t\t\t<template slot="value">\n\t\t\t\t\t\t<icon icon="clock-o" :inline="true" />\n\t\t\t\t\t\t67\n\t\t\t\t\t</template>\n\t\t\t\t\tDays until next issue is published.\n\t\t\t\t</list-item>\n\t\t\t\t<list-item>\n\t\t\t\t\t<icon icon="exclamation-triangle" :inline="true" />\n\t\t\t\t\tThis journal is not currently available for the public to view. Would\n\t\t\t\t\tyou like to\n\t\t\t\t\t<a href="#">make it public</a>\n\t\t\t\t\t?\n\t\t\t\t</list-item>\n\t\t\t</list>\n\t\t</panel-section>\n\t</panel>\n</template>\n\n<script>\nimport List from \'@/components/List/List.vue\';\nimport ListItem from \'@/components/List/ListItem.vue\';\n\nexport default {\n\tcomponents: {\n\t\tList,\n\t\tListItem,\n\t},\n};\n<\/script>\n',bI="## Props\n\nThis component does not have any props.\n\n## Events\n\nThis component does not emit any events.\n\n## Usage\n\n...\n\n",fI={extends:H,data(){return{name:"Panel",readme:bI,examples:[{component:QA,name:"Base",template:this.extractTemplate(tI)},{component:lI,name:"Many Sections",template:this.extractTemplate(rI)},{component:mI,name:"Stacked Header",template:this.extractTemplate(hI)}]}}},gI=fI,vI=(0,T.Z)(gI,KP,zP,!1,null,null,null),_I=vI.exports,yI='<template>\n\t<div class="previewProgressBar">\n\t\t<progress-bar :value="25" />\n\t\t<progress-bar :value="75" />\n\t\t<progress-bar :value="fastValue" />\n\t\t<progress-bar :value="slowValue" />\n\t\t<pkp-button @click="start">Restart</pkp-button>\n\t</div>\n</template>\n\n<script>\nimport ProgressBar from \'@/components/ProgressBar/ProgressBar.vue\';\n\nexport default {\n\tcomponents: {\n\t\tProgressBar,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfastInterval: null,\n\t\t\tfastValue: 0,\n\t\t\tslowInterval: null,\n\t\t\tslowValue: 0,\n\t\t};\n\t},\n\tmethods: {\n\t\tstart() {\n\t\t\tif (this.fastInterval) {\n\t\t\t\tclearInterval(this.fastInterval);\n\t\t\t}\n\t\t\tif (this.slowInterval) {\n\t\t\t\tclearInterval(this.slowInterval);\n\t\t\t}\n\t\t\tthis.fastValue = 0;\n\t\t\tthis.slowValue = 0;\n\t\t\tthis.fastInterval = setInterval(() => {\n\t\t\t\tif (this.fastValue < 100) {\n\t\t\t\t\tthis.fastValue =\n\t\t\t\t\t\tthis.fastValue + 23 > 100 ? 100 : this.fastValue + 23;\n\t\t\t\t} else {\n\t\t\t\t\tclearInterval(this.fastInterval);\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t\tthis.slowInterval = setInterval(() => {\n\t\t\t\tif (this.slowValue < 100) {\n\t\t\t\t\tthis.slowValue = this.slowValue + 8 > 100 ? 100 : this.slowValue + 8;\n\t\t\t\t} else {\n\t\t\t\t\tclearInterval(this.slowInterval);\n\t\t\t\t}\n\t\t\t}, 1700);\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.start();\n\t},\n};\n<\/script>\n\n<style lang="less">\n.previewProgressBar > * + * {\n\tmargin-top: 2rem;\n}\n</style>\n',kI="## Props\n\n| Key | Description |\n| --- | --- |\n| `max` | Value when progress is complete. Default: `100`. |\n| `min` | Value when no progress has been made. Default: `0`. |\n| `value` | The current value. Required. |\n\n## Events\n\nThis component does not emit any events.\n\n## Usage\n\nUse the `ProgressBar` component to track the progress of file uploads or other tasks which are not completed in a single request.\n\nDo not use a `ProgressBar` for long-running tasks when you will not be able to update the progress until the task is complete. Use the [Spinner](#/component/Spinner) instead.\n",wI={extends:H,data(){return{name:"ProgressBar",readme:kI,examples:[{component:fS,name:"Base",template:this.extractTemplate(yI)}]}}},SI=wI,TI=(0,T.Z)(SI,HP,ZP,!1,null,null,null),FI=TI.exports,xI=function(){var t=this,e=t._self._c;return e("search",{attrs:{searchPhrase:t.searchPhrase},on:{"search-phrase-changed":t.setSearchPhrase}})},PI=[],LI={components:{Search:Ui},data(){return{searchPhrase:""}},methods:{setSearchPhrase(t){this.searchPhrase=t}}},CI=LI,AI=(0,T.Z)(CI,xI,PI,!1,null,null,null),II=AI.exports,DI="<template>\n\t<search\n\t\t:searchPhrase=\"searchPhrase\"\n\t\t@search-phrase-changed=\"setSearchPhrase\"\n\t/>\n</template>\n\n<script>\nimport Search from '@/components/Search/Search.vue';\n\nexport default {\n\tcomponents: {\n\t\tSearch,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsearchPhrase: '',\n\t\t};\n\t},\n\tmethods: {\n\t\tsetSearchPhrase(newVal) {\n\t\t\tthis.searchPhrase = newVal;\n\t\t},\n\t},\n};\n<\/script>\n",EI="## Props\n\n| Key | Description |\n| --- | --- |\n| `searchLabel` | An optional label for the search field. Default: `Search` |\n| `searchPhrase` | The current search phrase. |\n\n## Events\n\n| Key | Description |\n| --- | --- |\n| `search-phrase-changed` | This event will be emitted when the search phrase changes. The event is debounced so that it will only be emitted when the user stops typing for 250ms. |\n\n## Usage\n\nUse the `Search` component whenever the user will search for what they want.\n\nIf you ever need search functionality but can not use this component, care should be taken to ensure that you reproduce the same UX as this component. That includes focus styles, keyboard interaction, the clear search phrase button, and the same debounce time interval when initializing the search.",RI={extends:H,data(){return{name:"Search",readme:EI,examples:[{component:II,name:"Base",template:this.extractTemplate(DI)}]}}},BI=RI,UI=(0,T.Z)(BI,GP,YP,!1,null,null,null),OI=UI.exports,MI=function(){var t=this,e=t._self._c;return e("select-reviewer-list-panel",{attrs:{apiUrl:"http://httpbin.org/get",activeReviewsCountLabel:"{$count} active",activeReviewsLabel:"Active reviews currently assigned",assignedToLastRoundLabel:"This reviewer completed a review in the last round.",averageCompletionLabel:"Average days to complete review",biographyLabel:"Biography",cancelledReviewsLabel:"Reviews cancelled",completedReviewsLabel:"Reviews completed",currentlyAssigned:[5],currentlyAssignedLabel:"This reviewer has already been assigned to this review round.",daySinceLastAssignmentLabel:"Yesterday",daysSinceLastAssignmentLabel:"{$days} days ago",daysSinceLastAssignmentDescriptionLabel:"Days since last review assigned",declinedReviewsLabel:"Reviews declined",emptyLabel:"No reviewers found",filters:t.filters,gossipLabel:"Editorial Notes",id:"previewSelectReviewerListPanel",items:t.items,itemsMax:t.items.length,neverAssignedLabel:"Never assigned",reassignLabel:"Reassign",reassignWithNameLabel:"Reassign {$name}",reviewerRatingLabel:"Reviewer rating: {$rating}",reviewInterestsLabel:"Reviewing Interests",selectReviewerLabel:"Select Reviewer",selectorName:"reviewerId",title:"Locate a Reviewer",warnOnAssignment:[7],warnOnAssignmentLabel:"This reviewer is locked because they have been assigned a role which allows them to view the author's identity. Anonymous peer review can not be guaranteed. Would you like to unlock this reviewer anyway?",warnOnAssignmentUnlockLabel:"Unlock"}})},$I=[],NI={id:1,_href:"http://publicknowledgeprojects.org/journal/api/users/1",userName:"exampleuser",fullName:"Jane Doe",affiliation:{en:"University of Nowhere"},groups:[{id:1,name:{en:"Reviewer"},abbrev:{en:"RV"},roleId:4096,showTitle:!0,permitSelfRegistration:!0,recommendOnly:!0}],interests:[{id:123,interest:"cat"},{id:124,interest:"dog"},{id:125,interest:"fish"},{id:126,interest:"bear"},{id:127,interest:"alien"}],reviewsActive:2,reviewsCompleted:1,averageReviewCompletionDays:21,dateLastReviewAssignment:"2019-02-03 11:22:42",reviewsDeclined:0,reviewsCancelled:0,reviewerRating:4,orcid:"",disabled:!1,biography:{}},jI={components:{SelectReviewerListPanel:xr},data(){const t=new Date;t.setDate((new Date).getDate()-1);const e=[NI,{...NI,id:2,fullName:"Allison Ackerman",reviewsActive:0,reviewsCompleted:0,dateLastReviewAssignment:"",reviewerRating:null,interests:[]},{...NI,id:3,fullName:"Aisla McCrae",reviewsActive:23,reviewsCompleted:32,dateLastReviewAssignment:"2019-12-31 11:22:42",reviewerRating:5,orcid:"http://orcid.org/0000-0002-1825-0097",biography:{en:"<p>Professor Aisla McCrae is a senior research fellow in the Publishing Studies Department in the School of Publishing at the University of Manitoba. She is the deputy chair of the Manitoba Publishing Institute and the author of <em>Publishing Now and Forever: Recent Developments in Archival Permanence</em>.</p>"},gossip:"<p>Aisla is a terrific reviewer but she takes a while to confirm and complete a review. Recommend not using her if you're on a tight deadline.</p>"},{...NI,id:4,fullName:"Ahmed Maliki",reviewsActive:0,reviewsCompleted:2,dateLastReviewAssignment:t.toString(),reviewerRating:4,interests:[{id:223,interest:"catapulting into space"},{id:224,interest:"somersaults around the moon"},{id:225,interest:"listening to taylor swift"},{id:227,interest:"growing plants and stuff"},{id:226,interest:"just kickin it"}]},{...NI,id:5,fullName:"Adela Gallego",reviewsActive:1,reviewsCompleted:0,dateLastReviewAssignment:"2019-01-25 11:22:42",reviewerRating:5},{...NI,id:6,fullName:"Habiba Yousef",reviewsActive:1,reviewsCompleted:0,dateLastReviewAssignment:"2019-06-07 11:22:42",reviewerRating:3},{...NI,id:7,fullName:"Matthew McMatherson",reviewsActive:0,reviewsCompleted:3,dateLastReviewAssignment:"2017-10-21 11:22:42",reviewerRating:2}];return{filters:[{param:"reviewerRating",title:"Rated at least",value:3,min:1,max:5,useStars:!0,valueLabel:"{$value}/5"},{param:"reviewsCompleted",title:"Reviews completed",value:10,min:0,max:20,valueLabel:"{$value} or more"},{param:"daysSinceLastAssignment",title:"Days since last review assigned",filterType:"filter-slider-multirange",value:[0,365],min:0,max:365,valueLabel:"{$min}-{$max}",moreThanLabel:"More than",lessThanLabel:"Less than"},{param:"reviewsActive",title:"Active reviews currently assigned",filterType:"filter-slider-multirange",value:[0,20],min:0,max:20,valueLabel:"{$min}-{$max}",moreThanLabel:"More than",lessThanLabel:"Less than"},{param:"averageCompletion",title:"Average days to complete review",value:75,min:0,max:75,valueLabel:"{$value} or less"}],items:[...e]}}},qI=jI,WI=(0,T.Z)(qI,MI,$I,!1,null,null,null),VI=WI.exports,KI="<template>\n\t<select-reviewer-list-panel\n\t\tapiUrl=\"http://httpbin.org/get\"\n\t\tactiveReviewsCountLabel=\"{$count} active\"\n\t\tactiveReviewsLabel=\"Active reviews currently assigned\"\n\t\tassignedToLastRoundLabel=\"This reviewer completed a review in the last round.\"\n\t\taverageCompletionLabel=\"Average days to complete review\"\n\t\tbiographyLabel=\"Biography\"\n\t\tcancelledReviewsLabel=\"Reviews cancelled\"\n\t\tcompletedReviewsLabel=\"Reviews completed\"\n\t\t:currentlyAssigned=\"[5]\"\n\t\tcurrentlyAssignedLabel=\"This reviewer has already been assigned to this review round.\"\n\t\tdaySinceLastAssignmentLabel=\"Yesterday\"\n\t\tdaysSinceLastAssignmentLabel=\"{$days} days ago\"\n\t\tdaysSinceLastAssignmentDescriptionLabel=\"Days since last review assigned\"\n\t\tdeclinedReviewsLabel=\"Reviews declined\"\n\t\temptyLabel=\"No reviewers found\"\n\t\t:filters=\"filters\"\n\t\tgossipLabel=\"Editorial Notes\"\n\t\tid=\"previewSelectReviewerListPanel\"\n\t\t:items=\"items\"\n\t\t:itemsMax=\"items.length\"\n\t\tneverAssignedLabel=\"Never assigned\"\n\t\treassignLabel=\"Reassign\"\n\t\treassignWithNameLabel=\"Reassign {$name}\"\n\t\treviewerRatingLabel=\"Reviewer rating: {$rating}\"\n\t\treviewInterestsLabel=\"Reviewing Interests\"\n\t\tselectReviewerLabel=\"Select Reviewer\"\n\t\tselectorName=\"reviewerId\"\n\t\ttitle=\"Locate a Reviewer\"\n\t\t:warnOnAssignment=\"[7]\"\n\t\twarnOnAssignmentLabel=\"This reviewer is locked because they have been assigned a role which allows them to view the author's identity. Anonymous peer review can not be guaranteed. Would you like to unlock this reviewer anyway?\"\n\t\twarnOnAssignmentUnlockLabel=\"Unlock\"\n\t/>\n</template>\n<script>\nimport SelectReviewerListPanel from '@/components/ListPanel/users/SelectReviewerListPanel.vue';\nimport reviewer from '@/docs/data/reviewer';\n\nexport default {\n\tcomponents: {\n\t\tSelectReviewerListPanel,\n\t},\n\tdata() {\n\t\tconst yesterday = new Date();\n\t\tyesterday.setDate(new Date().getDate() - 1);\n\n\t\tconst items = [\n\t\t\treviewer,\n\t\t\t{\n\t\t\t\t...reviewer,\n\t\t\t\tid: 2,\n\t\t\t\tfullName: 'Allison Ackerman',\n\t\t\t\treviewsActive: 0,\n\t\t\t\treviewsCompleted: 0,\n\t\t\t\tdateLastReviewAssignment: '',\n\t\t\t\treviewerRating: null,\n\t\t\t\tinterests: [],\n\t\t\t},\n\t\t\t{\n\t\t\t\t...reviewer,\n\t\t\t\tid: 3,\n\t\t\t\tfullName: 'Aisla McCrae',\n\t\t\t\treviewsActive: 23,\n\t\t\t\treviewsCompleted: 32,\n\t\t\t\tdateLastReviewAssignment: '2019-12-31 11:22:42',\n\t\t\t\treviewerRating: 5,\n\t\t\t\torcid: 'http://orcid.org/0000-0002-1825-0097',\n\t\t\t\tbiography: {\n\t\t\t\t\ten:\n\t\t\t\t\t\t'<p>Professor Aisla McCrae is a senior research fellow in the Publishing Studies Department in the School of Publishing at the University of Manitoba. She is the deputy chair of the Manitoba Publishing Institute and the author of <em>Publishing Now and Forever: Recent Developments in Archival Permanence</em>.</p>',\n\t\t\t\t},\n\t\t\t\tgossip:\n\t\t\t\t\t\"<p>Aisla is a terrific reviewer but she takes a while to confirm and complete a review. Recommend not using her if you're on a tight deadline.</p>\",\n\t\t\t},\n\t\t\t{\n\t\t\t\t...reviewer,\n\t\t\t\tid: 4,\n\t\t\t\tfullName: 'Ahmed Maliki',\n\t\t\t\treviewsActive: 0,\n\t\t\t\treviewsCompleted: 2,\n\t\t\t\tdateLastReviewAssignment: yesterday.toString(),\n\t\t\t\treviewerRating: 4,\n\t\t\t\tinterests: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 223,\n\t\t\t\t\t\tinterest: 'catapulting into space',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 224,\n\t\t\t\t\t\tinterest: 'somersaults around the moon',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 225,\n\t\t\t\t\t\tinterest: 'listening to taylor swift',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 227,\n\t\t\t\t\t\tinterest: 'growing plants and stuff',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 226,\n\t\t\t\t\t\tinterest: 'just kickin it',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\t...reviewer,\n\t\t\t\tid: 5,\n\t\t\t\tfullName: 'Adela Gallego',\n\t\t\t\treviewsActive: 1,\n\t\t\t\treviewsCompleted: 0,\n\t\t\t\tdateLastReviewAssignment: '2019-01-25 11:22:42',\n\t\t\t\treviewerRating: 5,\n\t\t\t},\n\t\t\t{\n\t\t\t\t...reviewer,\n\t\t\t\tid: 6,\n\t\t\t\tfullName: 'Habiba Yousef',\n\t\t\t\treviewsActive: 1,\n\t\t\t\treviewsCompleted: 0,\n\t\t\t\tdateLastReviewAssignment: '2019-06-07 11:22:42',\n\t\t\t\treviewerRating: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\t...reviewer,\n\t\t\t\tid: 7,\n\t\t\t\tfullName: 'Matthew McMatherson',\n\t\t\t\treviewsActive: 0,\n\t\t\t\treviewsCompleted: 3,\n\t\t\t\tdateLastReviewAssignment: '2017-10-21 11:22:42',\n\t\t\t\treviewerRating: 2,\n\t\t\t},\n\t\t];\n\n\t\treturn {\n\t\t\tfilters: [\n\t\t\t\t{\n\t\t\t\t\tparam: 'reviewerRating',\n\t\t\t\t\ttitle: 'Rated at least',\n\t\t\t\t\tvalue: 3,\n\t\t\t\t\tmin: 1,\n\t\t\t\t\tmax: 5,\n\t\t\t\t\tuseStars: true,\n\t\t\t\t\tvalueLabel: '{$value}/5',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tparam: 'reviewsCompleted',\n\t\t\t\t\ttitle: 'Reviews completed',\n\t\t\t\t\tvalue: 10,\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: 20,\n\t\t\t\t\tvalueLabel: '{$value} or more',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tparam: 'daysSinceLastAssignment',\n\t\t\t\t\ttitle: 'Days since last review assigned',\n\t\t\t\t\tfilterType: 'filter-slider-multirange',\n\t\t\t\t\tvalue: [0, 365],\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: 365,\n\t\t\t\t\tvalueLabel: '{$min}-{$max}',\n\t\t\t\t\tmoreThanLabel: 'More than',\n\t\t\t\t\tlessThanLabel: 'Less than',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tparam: 'reviewsActive',\n\t\t\t\t\ttitle: 'Active reviews currently assigned',\n\t\t\t\t\tfilterType: 'filter-slider-multirange',\n\t\t\t\t\tvalue: [0, 20],\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: 20,\n\t\t\t\t\tvalueLabel: '{$min}-{$max}',\n\t\t\t\t\tmoreThanLabel: 'More than',\n\t\t\t\t\tlessThanLabel: 'Less than',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tparam: 'averageCompletion',\n\t\t\t\t\ttitle: 'Average days to complete review',\n\t\t\t\t\tvalue: 75,\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: 75,\n\t\t\t\t\tvalueLabel: '{$value} or less',\n\t\t\t\t},\n\t\t\t],\n\t\t\titems: [...items],\n\t\t};\n\t},\n};\n<\/script>\n",zI={extends:H,data(){return{name:"SelectReviewerListPanel",examples:[{component:VI,name:"Base",template:this.extractTemplate(KI)}]}}},HI=zI,ZI=(0,T.Z)(HI,JP,XP,!1,null,null,null),GI=ZI.exports,YI=function(){var t=this,e=t._self._c;return e("submission-files-list-panel",{attrs:{addFileLabel:"Add File",apiUrl:"http://localhost:8000/publicknowledge/api/v1/submissions/1/files",cancelUploadLabel:"Cancel Upload",genrePromptLabel:"What kind of file is this?",emptyLabel:"Upload any files the editorial team will need to evaluate your submission.",emptyAddLabel:"Upload Files",fileStage:2,form:t.components.preview.form,genres:t.components.preview.genres,id:"preview",items:t.components.preview.items,options:t.components.preview.options,otherLabel:"Other",primaryLocale:"en",removeConfirmLabel:"Are you sure you want to remove this file?",stageId:1,title:"Files",uploadProgressLabel:"Uploading {$percent}% complete"},on:{set:t.set}})},JI=[],XI=function(){var t=this,e=t._self._c;return e("div",{staticClass:"submissionFilesListPanel"},[e("list-panel",{staticClass:"listPanel--submissionFiles",attrs:{items:t.items},scopedSlots:t._u([{key:"item",fn:function({item:n}){return[t._t("item",(function(){return[e("submission-files-list-item",{attrs:{apiUrl:t.apiUrl,cancelUploadLabel:t.cancelUploadLabel,genrePromptLabel:t.genrePromptLabel,fileStage:t.fileStage,genres:t.genres,item:n,otherLabel:t.otherLabel,stageId:t.stageId},on:{cancel:t.cancelUpload,edit:t.edit,remove:t.remove,update:t.updateItem}})]}),{item:n})]}}],null,!0)},[e("pkp-header",{attrs:{slot:"header"},slot:"header"},[e("h2",[t._v(t._s(t.title))]),e("template",{slot:"actions"},[e("pkp-button",{ref:"addFileButton",on:{click:t.openFileBrowser}},[t._v(" "+t._s(t.addFileLabel)+" ")])],1)],2),e("template",{slot:"itemsEmpty"},[t._v(" "+t._s(t.emptyLabel)+" "),e("button",{staticClass:"-linkButton",on:{click:t.openFileBrowser}},[t._v(" "+t._s(t.emptyAddLabel)+" ")])])],2),e("file-uploader",{ref:"uploader",attrs:{apiUrl:t.apiUrl,filenameLocale:t.primaryLocale,files:t.items,id:t.id+"-uploader",options:t.options,queryParams:{fileStage:t.fileStage},uploadProgressLabel:t.uploadProgressLabel},on:{"updated:files":t.setFiles}}),e("modal",{attrs:{closeLabel:t.__("common.close"),name:t.formModal,title:t.editingLabel}},[e("pkp-form",t._b({on:{set:t.setForm,success:t.formSuccess}},"pkp-form",t.activeForm,!1))],1)],1)},QI=[],tD=function(){var t=this,e=t._self._c;return e("div",{staticClass:"listPanel__item--submissionFile"},[t.item.fileId?[e("div",{staticClass:"listPanel__itemSummary"},[e("div",{staticClass:"listPanel__itemIdentity"},[e("div",{staticClass:"listPanel__itemSubtitle"},[e("a",{staticClass:"listPanel__item--submissionFile__link",attrs:{href:t.item.url,id:t.nameId}},[e("submission-files-file",{attrs:{documentType:t.item.documentType,name:t.localize(t.item.name)}})],1)])]),e("div",{staticClass:"listPanel__itemActions"},[t.item.genreId?e("badge",{staticClass:"listPanel--submissionFiles__itemGenre",attrs:{"is-primary":t.isPrimaryGenre}},[t._v(" "+t._s(t.localize(t.item.genreName))+" ")]):t._e(),e("pkp-button",{attrs:{id:t.editId,"aria-describedby":t.nameId},on:{click:function(e){return t.$emit("edit",t.item)}}},[t._v(" "+t._s(t.__("common.edit"))+" ")]),e("pkp-button",{attrs:{"is-warnable":!0,"aria-describedby":t.nameId},on:{click:function(e){return t.$emit("remove",t.item)}}},[t._v(" "+t._s(t.__("common.remove"))+" ")])],1)]),t.item.genreId?t._e():e("div",{staticClass:"listPanel--submissionFiles__setGenre"},[e("span",{attrs:{role:"alert"}},[e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}),e("span",{staticClass:"listPanel--submissionFiles__setGenreLabel",attrs:{id:t.genrePromptId}},[t._v(" "+t._s(t.genrePromptLabel)+" ")]),t._l(t.primaryGenres,(function(n){return e("button",{key:n.id,staticClass:"-linkButton listPanel--submissionFiles__setGenreButton",attrs:{"aria-describedby":t.genrePromptId+" "+t.nameId},on:{click:function(e){return t.setGenre(n.id)}}},[t._v(" "+t._s(n.name)+" ")])})),e("button",{staticClass:"-linkButton listPanel--submissionFiles__setGenreButton",attrs:{"aria-describedby":t.genrePromptId+" "+t.nameId},on:{click:function(e){return t.$emit("edit",t.item)}}},[t._v(" "+t._s(t.otherLabel)+" ")])],2),t.isSavingGenreId?[e("spinner",{staticClass:"listPanel--submissionFiles__genreSpinner"}),e("span",{staticClass:"-screenReader",attrs:{role:"status","aria-live":"polite","aria-atomic":"true"}},[t._v(" "+t._s(t.status)+" ")])]:t._e()],2)]:[e("file-upload-progress",{attrs:{cancelUploadLabel:t.cancelUploadLabel,errors:t.item.errors||[],name:t.item.name,progress:t.item.progress},on:{cancel:function(e){return t.$emit("cancel",t.item.id)}}})]],2)},eD=[],nD={components:{Badge:An,FileUploadProgress:Ep,SubmissionFilesFile:Hd},props:{apiUrl:{type:String,required:!0},cancelUploadLabel:{type:String,required:!0},genrePromptLabel:{type:String,required:!0},genres:{type:Array,required:!0},item:{type:Object,required:!0},otherLabel:{type:String,required:!0},stageId:{type:Number,required:!0}},data(){return{isSavingGenreId:!1,status:""}},computed:{editId(){return this.compileId("edit")},isPrimaryGenre(){return!this.item.genreIsDependent&&!this.item.genreIsSupplementary},genrePromptId(){return this.compileId("setGenre")},nameId(){return this.compileId("name")},primaryGenres(){return this.genres.filter((t=>!!t.isPrimary))}},methods:{compileId(t){const e=this.item.id||this.item.uuid;return[t,e].join("-")},setGenre(t){this.isSavingGenreId=!0,this.status=this.__("common.saving");var e=this;$.ajax({url:this.apiUrl+"/"+this.item.id+"?stageId="+this.stageId,type:"POST",data:{genreId:t},headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"PUT"},error:this.ajaxErrorCallback,success(t){e.status=e.__("form.saved"),setTimeout((()=>{e.$emit("update",t),e.$el.querySelector("#"+e.editId).focus()}),500)},complete(t){setTimeout((()=>e.isSavingGenreId=!1),500)}})}}},iD=nD,sD=(0,T.Z)(iD,tD,eD,!1,null,null,null),aD=sD.exports,lD={components:{FileUploader:kp,ListPanel:Kt,Modal:ot,PkpForm:aa,PkpHeader:jt,SubmissionFilesListItem:aD},props:{addFileLabel:{type:String,required:!0},apiUrl:{type:String,required:!0},cancelUploadLabel:{type:String,required:!0},emptyLabel:{type:String,required:!0},emptyAddLabel:{type:String,required:!0},fileStage:{type:Number,required:!0},form:{type:Object},genrePromptLabel:{type:String,required:!0},genres:{type:Array,required:!0},id:{type:String,required:!0},items:{type:Array,default(){return[]}},options:{type:Object,default(){return{}}},otherLabel:{type:String,required:!0},primaryLocale:{type:String,required:!0},removeConfirmLabel:{type:String,required:!0},stageId:{type:Number,required:!0},title:{type:String,required:!0},uploadProgressLabel:{type:String,required:!0}},data(){return{activeForm:{},dragEventCounter:0,editingLabel:"",isDragging:!1,status:""}},computed:{formModal(){return this.id+"form"}},methods:{cancelUpload(t){this.$refs.uploader.cancelUpload(t)},edit(t){let e={...oa()(this.form)};e.action=e.action+"/"+t.id+"?stageId="+this.stageId,e.fields=e.fields.map((e=>(null!=t[e.name]&&(e.value=t[e.name]),e))),this.activeForm=e,this.editingLabel=this.__("common.editItem",{name:this.localize(t.name)}),this.$modal.show(this.formModal)},formSuccess(t){this.updateItem(t),this.$modal.hide(this.formModal),this.activeForm={},this.$el.querySelector("#edit-"+t.id).focus()},openFileBrowser(){this.$refs.uploader.openFileBrowser()},remove(t){this.openDialog({name:"remove",title:this.__("common.remove"),message:this.removeConfirmLabel,actions:[{label:this.__("common.yes"),isPrimary:!0,callback:()=>{$.ajax({url:this.apiUrl+"/"+t.id+"?stageId="+this.stageId,type:"POST",context:this,headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"DELETE"},error:this.ajaxErrorCallback,success(t){const e=this.items.filter((e=>e.id!==t.id));this.$emit("set",this.id,{items:e}),this.$modal.hide("remove"),this.$refs.addFileButton.$el.focus()}})}},{label:this.__("common.no"),isWarnable:!0,callback:()=>this.$modal.hide("remove")}]})},setFiles(t){this.$emit("set",this.id,{items:t})},setForm(t,e){let n={...this.activeForm};Object.keys(e).forEach((function(t){n[t]=e[t]})),this.activeForm=n},updateItem(t){const e=this.items.map((e=>e.id===t.id?t:e));this.$emit("set",this.id,{items:e})}}},rD=lD,oD=(0,T.Z)(rD,XI,QI,!1,null,null,null),dD=oD.exports,pD={name:"genreId",component:"field-options",label:"What kind of file is this?",description:"Choose the option that best describes this file.",value:"",type:"radio",options:[{value:1,label:"Book Manuscript"},{value:2,label:"Chapter Manuscript"},{value:3,label:"Preface"},{value:4,label:"Index"},{value:5,label:"Glossary"},{value:7,label:"Prospectus"},{value:11,label:"Table"},{value:8,label:"Figure"},{value:9,label:"Audio"},{value:10,label:"Other"}],groupId:"default"},cD={...Da,id:"submissionFile",action:"/submissions/1/files",fields:[{...pD}],groups:[{id:"default",pageId:"default"}],pages:[{id:"default",submitButton:{label:"Save"}}]},uD=[{id:1,name:"Book Manuscript",isPrimary:!0},{id:2,name:"Chapter Manuscript",isPrimary:!0},{id:3,name:"Preface"},{id:4,name:"Index"},{id:5,name:"Glossary"},{id:7,name:"Prospectus"},{id:11,name:"Table"},{id:8,name:"Figure"},{id:9,name:"Audio"},{id:10,name:"Other"}],mD={extends:ho,components:{SubmissionFilesListPanel:dD},data(){return{components:{preview:{items:[...rm,{id:235,fileId:1234,name:{en:"file-with-no-genre-assignment-yet.docx",fr_CA:"french-file-with-no-genre-assignment-yet.docx"},genre:null,documentType:"word",url:"https://example.com/publicknowledge/$$$call$$$/api/file/file-api/download-file?id=234&submissionId=22&stageId=2"},{id:"12345",name:"File In Progress.docx",progress:35,error:[]},{id:"123456",name:"File that is too large.docx",progress:100,error:["File is too big (20mb). Files larger than 2mb can not be uploaded."]}],options:{...Jp},form:{...cD},genres:[...uD]}}}}},hD=mD,bD=(0,T.Z)(hD,YI,JI,!1,null,null,null),fD=bD.exports,gD='<template>\n\t<submission-files-list-panel\n\t\taddFileLabel="Add File"\n\t\tapiUrl="http://localhost:8000/publicknowledge/api/v1/submissions/1/files"\n\t\tcancelUploadLabel="Cancel Upload"\n\t\tgenrePromptLabel="What kind of file is this?"\n\t\temptyLabel="Upload any files the editorial team will need to evaluate your submission."\n\t\temptyAddLabel="Upload Files"\n\t\t:fileStage="2"\n\t\t:form="components.preview.form"\n\t\t:genres="components.preview.genres"\n\t\tid="preview"\n\t\t:items="components.preview.items"\n\t\t:options="components.preview.options"\n\t\totherLabel="Other"\n\t\tprimaryLocale="en"\n\t\tremoveConfirmLabel="Are you sure you want to remove this file?"\n\t\t:stageId="1"\n\t\ttitle="Files"\n\t\tuploadProgressLabel="Uploading {$percent}% complete"\n\t\t@set="set"\n\t/>\n</template>\n<script>\nimport Page from \'@/components/Container/Page.vue\';\nimport SubmissionFilesListPanel from \'@/components/ListPanel/submissionFiles/SubmissionFilesListPanel.vue\';\nimport submissionFiles from \'@/docs/data/submissionFiles\';\nimport form from \'@/docs/components/Form/helpers/form-submission-file\';\nimport dropzoneOptions from \'@/docs/data/dropzoneOptions\';\nimport genres from \'../../../data/genres\';\n\nexport default {\n\textends: Page,\n\tcomponents: {\n\t\tSubmissionFilesListPanel,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcomponents: {\n\t\t\t\tpreview: {\n\t\t\t\t\titems: [\n\t\t\t\t\t\t...submissionFiles,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 235,\n\t\t\t\t\t\t\tfileId: 1234,\n\t\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\t\ten: \'file-with-no-genre-assignment-yet.docx\',\n\t\t\t\t\t\t\t\tfr_CA: \'french-file-with-no-genre-assignment-yet.docx\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgenre: null,\n\t\t\t\t\t\t\tdocumentType: \'word\',\n\t\t\t\t\t\t\turl: \'https://example.com/publicknowledge/$$$call$$$/api/file/file-api/download-file?id=234&submissionId=22&stageId=2\',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: \'12345\',\n\t\t\t\t\t\t\tname: \'File In Progress.docx\',\n\t\t\t\t\t\t\tprogress: 35,\n\t\t\t\t\t\t\terror: [],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: \'123456\',\n\t\t\t\t\t\t\tname: \'File that is too large.docx\',\n\t\t\t\t\t\t\tprogress: 100,\n\t\t\t\t\t\t\terror: [\n\t\t\t\t\t\t\t\t\'File is too big (20mb). Files larger than 2mb can not be uploaded.\',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\toptions: {...dropzoneOptions},\n\t\t\t\t\tform: {...form},\n\t\t\t\t\tgenres: [...genres],\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t},\n};\n<\/script>\n',vD={extends:H,data(){return{name:"SubmissionFilesListPanel",examples:[{component:fD,name:"Base",template:this.extractTemplate(gD)}]}}},_D=vD,yD=(0,T.Z)(_D,QP,tL,!1,null,null,null),kD=yD.exports,wD=function(){var t=this,e=t._self._c;return e("submissions-list-panel",{attrs:{addUrl:"http://localhost:8000/publicknowledge/submission/wizard",apiUrl:"http://httpbin.org/get",filters:t.filters,id:"previewSubmissionsListPanel",infoUrl:"http://httbin.org/get",items:t.items,itemsMax:t.itemsMax,title:"Submissions"}})},SD=[],TD={extends:ho,components:{SubmissionsListPanel:Qr},data(){return{filters:[{filters:[{title:"Overdue",param:"isOverdue",value:!0},{title:"Incomplete",param:"isIncomplete",value:!0}]},{heading:"Stages",filters:[{title:"Submission",param:"stageIds",value:pkp.const.WORKFLOW_STAGE_ID_SUBMISSION},{title:"Review",param:"stageIds",value:pkp.const.WORKFLOW_STAGE_ID_EXTERNAL_REVIEW},{title:"Copyediting",param:"stageIds",value:pkp.const.WORKFLOW_STAGE_ID_EDITING},{title:"Production",param:"stageIds",value:pkp.const.WORKFLOW_STAGE_ID_PRODUCTION}]},{heading:"Activity",filters:[{title:"Days since last activity",param:"daysInactive",value:30,min:1,max:180,filterType:"pkp-filter-slider"}]},{heading:"Sections",filters:[{title:"Articles",param:"sectionIds",value:1},{title:"Reviews",param:"sectionIds",value:2}]},{filters:[{title:"Editors",param:"assignedTo",value:[],component:"field-select-users",autosuggestProps:{...nh,...ih,apiUrl:"usernames.json",name:"assignedTo",label:"Assigned To Editors",selectedLabel:"Assigned"},filterType:"pkp-filter-autosuggest"}]},{filters:[{title:"Issues",param:"issueIds",value:[],component:"field-select-issues",autosuggestProps:{...nh,...ih,apiUrl:"issues.json",name:"issueIds",label:"Assigned To Issues",selectedLabel:"Assigned"},filterType:"pkp-filter-autosuggest"}]}],items:[...Zo],itemsMax:Zo.length}},created(){pkp.localeKeys["common.lastActivity"]="Last activity recorded on {$date}.",pkp.localeKeys["submission.list.empty"]="No submissions found.",pkp.localeKeys["submission.submit.newSubmissionSingle"]="New Submission",pkp.localeKeys["submission.review"]="Review",pkp.localeKeys["submissions.incomplete"]="Incomplete",pkp.localeKeys["submission.list.assignEditor"]="Assign Editor",pkp.localeKeys["submission.list.copyeditsSubmitted"]="Copyedited files submitted",pkp.localeKeys["submission.list.currentStage"]="Currently in the {$stage} stage.",pkp.localeKeys["submission.list.discussions"]="Open discussions",pkp.localeKeys["submission.list.dualWorkflowLinks"]='You have been assigned multiple roles for this submission. Would you like to access the <a href="{$urlAuthorWorkflow}">Author\'s workflow</a>  or the <a href="{$urlEditorialWorkflow}">Editorial workflow</a>?',pkp.localeKeys["submission.list.galleysCreated"]="Copyedited files submitted",pkp.localeKeys["submission.list.infoCenter"]="Activity Log & Notes",pkp.localeKeys["submission.list.reviewAssignment"]="Review Assignment",pkp.localeKeys["submission.list.responseDue"]="Response Due: {$date}",pkp.localeKeys["submission.list.reviewCancelled"]="Review Cancelled",pkp.localeKeys["submission.list.reviewComplete"]="Review Submitted",pkp.localeKeys["submission.list.reviewDue"]="Review Due: {$date}",pkp.localeKeys["submission.list.reviewerWorkflowLink"]='You have been assigned an editorial role for this submission. Would you like to access the <a href="{$urlEditorialWorkflow}">Editorial workflow</a>?',pkp.localeKeys["submission.list.reviewsCompleted"]="Assigned reviews completed",pkp.localeKeys["submission.list.revisionsSubmitted"]="Production galleys created",pkp.localeKeys["submission.list.viewSubmission"]="View Submission"}},FD=TD,xD=(0,T.Z)(FD,wD,SD,!1,null,null,null),PD=xD.exports,LD="<template>\n\t<submissions-list-panel\n\t\taddUrl=\"http://localhost:8000/publicknowledge/submission/wizard\"\n\t\tapiUrl=\"http://httpbin.org/get\"\n\t\t:filters=\"filters\"\n\t\tid=\"previewSubmissionsListPanel\"\n\t\tinfoUrl=\"http://httbin.org/get\"\n\t\t:items=\"items\"\n\t\t:itemsMax=\"itemsMax\"\n\t\ttitle=\"Submissions\"\n\t/>\n</template>\n<script>\nimport Page from '@/components/Container/Page.vue';\nimport SubmissionsListPanel from '@/components/ListPanel/submissions/SubmissionsListPanel.vue';\nimport submissions from '@/docs/data/submissions';\nimport fieldBase from '../../Form/helpers/field-base';\nimport fieldBaseAutosuggest from '../../Form/helpers/field-autosuggest';\n\nexport default {\n\textends: Page,\n\tcomponents: {\n\t\tSubmissionsListPanel,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfilters: [\n\t\t\t\t{\n\t\t\t\t\tfilters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Overdue',\n\t\t\t\t\t\t\tparam: 'isOverdue',\n\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Incomplete',\n\t\t\t\t\t\t\tparam: 'isIncomplete',\n\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\theading: 'Stages',\n\t\t\t\t\tfilters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Submission',\n\t\t\t\t\t\t\tparam: 'stageIds',\n\t\t\t\t\t\t\tvalue: pkp.const.WORKFLOW_STAGE_ID_SUBMISSION,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Review',\n\t\t\t\t\t\t\tparam: 'stageIds',\n\t\t\t\t\t\t\tvalue: pkp.const.WORKFLOW_STAGE_ID_EXTERNAL_REVIEW,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Copyediting',\n\t\t\t\t\t\t\tparam: 'stageIds',\n\t\t\t\t\t\t\tvalue: pkp.const.WORKFLOW_STAGE_ID_EDITING,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Production',\n\t\t\t\t\t\t\tparam: 'stageIds',\n\t\t\t\t\t\t\tvalue: pkp.const.WORKFLOW_STAGE_ID_PRODUCTION,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\theading: 'Activity',\n\t\t\t\t\tfilters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Days since last activity',\n\t\t\t\t\t\t\tparam: 'daysInactive',\n\t\t\t\t\t\t\tvalue: 30,\n\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\tmax: 180,\n\t\t\t\t\t\t\tfilterType: 'pkp-filter-slider',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\theading: 'Sections',\n\t\t\t\t\tfilters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Articles',\n\t\t\t\t\t\t\tparam: 'sectionIds',\n\t\t\t\t\t\t\tvalue: 1,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Reviews',\n\t\t\t\t\t\t\tparam: 'sectionIds',\n\t\t\t\t\t\t\tvalue: 2,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfilters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Editors',\n\t\t\t\t\t\t\tparam: 'assignedTo',\n\t\t\t\t\t\t\tvalue: [],\n\t\t\t\t\t\t\tcomponent: 'field-select-users',\n\t\t\t\t\t\t\tautosuggestProps: {\n\t\t\t\t\t\t\t\t...fieldBase,\n\t\t\t\t\t\t\t\t...fieldBaseAutosuggest,\n\t\t\t\t\t\t\t\tapiUrl: 'usernames.json',\n\t\t\t\t\t\t\t\tname: 'assignedTo',\n\t\t\t\t\t\t\t\tlabel: 'Assigned To Editors',\n\t\t\t\t\t\t\t\tselectedLabel: 'Assigned',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfilterType: 'pkp-filter-autosuggest',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfilters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Issues',\n\t\t\t\t\t\t\tparam: 'issueIds',\n\t\t\t\t\t\t\tvalue: [],\n\t\t\t\t\t\t\tcomponent: 'field-select-issues',\n\t\t\t\t\t\t\tautosuggestProps: {\n\t\t\t\t\t\t\t\t...fieldBase,\n\t\t\t\t\t\t\t\t...fieldBaseAutosuggest,\n\t\t\t\t\t\t\t\tapiUrl: 'issues.json',\n\t\t\t\t\t\t\t\tname: 'issueIds',\n\t\t\t\t\t\t\t\tlabel: 'Assigned To Issues',\n\t\t\t\t\t\t\t\tselectedLabel: 'Assigned',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfilterType: 'pkp-filter-autosuggest',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t],\n\t\t\titems: [...submissions],\n\t\t\titemsMax: submissions.length,\n\t\t};\n\t},\n\tcreated() {\n\t\t/**\n\t\t * Add required locale keys\n\t\t */\n\t\tpkp.localeKeys['common.lastActivity'] =\n\t\t\t'Last activity recorded on {$date}.';\n\t\tpkp.localeKeys['submission.list.empty'] = 'No submissions found.';\n\t\tpkp.localeKeys['submission.submit.newSubmissionSingle'] = 'New Submission';\n\t\tpkp.localeKeys['submission.review'] = 'Review';\n\t\tpkp.localeKeys['submissions.incomplete'] = 'Incomplete';\n\t\tpkp.localeKeys['submission.list.assignEditor'] = 'Assign Editor';\n\t\tpkp.localeKeys['submission.list.copyeditsSubmitted'] =\n\t\t\t'Copyedited files submitted';\n\t\tpkp.localeKeys['submission.list.currentStage'] =\n\t\t\t'Currently in the {$stage} stage.';\n\t\tpkp.localeKeys['submission.list.discussions'] = 'Open discussions';\n\t\tpkp.localeKeys[\n\t\t\t'submission.list.dualWorkflowLinks'\n\t\t] = `You have been assigned multiple roles for this submission. Would you like to access the <a href=\"{$urlAuthorWorkflow}\">Author's workflow</a>  or the <a href=\"{$urlEditorialWorkflow}\">Editorial workflow</a>?`;\n\t\tpkp.localeKeys['submission.list.galleysCreated'] =\n\t\t\t'Copyedited files submitted';\n\t\tpkp.localeKeys['submission.list.infoCenter'] = 'Activity Log & Notes';\n\t\tpkp.localeKeys['submission.list.reviewAssignment'] = 'Review Assignment';\n\t\tpkp.localeKeys['submission.list.responseDue'] = 'Response Due: {$date}';\n\t\tpkp.localeKeys['submission.list.reviewCancelled'] = 'Review Cancelled';\n\t\tpkp.localeKeys['submission.list.reviewComplete'] = 'Review Submitted';\n\t\tpkp.localeKeys['submission.list.reviewDue'] = 'Review Due: {$date}';\n\t\tpkp.localeKeys[\n\t\t\t'submission.list.reviewerWorkflowLink'\n\t\t] = `You have been assigned an editorial role for this submission. Would you like to access the <a href=\"{$urlEditorialWorkflow}\">Editorial workflow</a>?`;\n\t\tpkp.localeKeys['submission.list.reviewsCompleted'] =\n\t\t\t'Assigned reviews completed';\n\t\tpkp.localeKeys['submission.list.revisionsSubmitted'] =\n\t\t\t'Production galleys created';\n\t\tpkp.localeKeys['submission.list.viewSubmission'] = 'View Submission';\n\t},\n};\n<\/script>\n",CD={extends:H,data(){return{name:"SubmissionsListPanel",examples:[{component:PD,name:"Base",template:this.extractTemplate(LD)}]}}},AD=CD,ID=(0,T.Z)(AD,eL,nL,!1,null,null,null),DD=ID.exports,ED=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app__page width width--wide"},[e("div",{staticClass:"submissionWizard"},[e("div",{staticClass:"submissionWizard__submissionDetails"},[t._v(" "+t._s(t.submission.id)+" "),e("span",{staticClass:"app__breadcrumbsSeparator",attrs:{"aria-hidden":"true"}},[t._v("/")]),t._v(" "+t._s(t.publication.authorsStringShort)+" "),e("span",{staticClass:"app__breadcrumbsSeparator",attrs:{"aria-hidden":"true"}},[t._v("/")]),t._v(" "+t._s(t.localize(t.publication.title))+" ")]),e("h1",{ref:"pageTitle",staticClass:"app__pageHeading"},[t._v(" Make Submission "),e("pkp-button",[t._v("Save for Later")])],1),e("div",{staticClass:"submissionWizard__submissionConfiguration"},[t._v(" Submitting to the "),e("strong",[t._v("Articles")]),t._v(" section in "),e("strong",[t._v("English")]),t._v(" . "),e("button",{staticClass:"-linkButton",on:{click:function(e){return t.$modal.show("config")}}},[t._v(" Change ")]),e("modal",{attrs:{closeLabel:t.__("common.close"),name:"config",title:"##Change Submission Type##"}},[t._v(" ## TODO ## ")])],1),e("steps",{staticClass:"submissionWizard__steps",attrs:{current:t.currentStep.id,"started-steps":t.startedSteps,label:"Complete the steps to make a submission","progress-label":"{$current}/{$total} steps","scroll-to":"$refs.pageTitle","show-steps-label":"Show all steps"},on:{"step:open":t.openStep}},t._l(t.steps,(function(n){return e("step",{key:n.id,attrs:{id:n.id,label:n.name}},[e("panel",t._l(n.sections,(function(i){return e("panel-section",{key:i.id},[e("template",{slot:"header"},[e("h2",[t._v(t._s(i.name))]),e("div",{domProps:{innerHTML:t._s(i.description)}})]),"form"===i.type?e("pkp-form",t._b({ref:"autosaveForms",refInFor:!0,on:{set:t.updateForm}},"pkp-form",i.form,!1)):"files"===i.type?e("submission-files-list-panel",{attrs:{addFileLabel:"Add File",apiUrl:"http://localhost:8000/publicknowledge/api/v1/submissions/1/files",cancelUploadLabel:"Cancel Upload",genrePromptLabel:"What kind of file is this?",emptyLabel:"Upload any files the editorial team will need to evaluate your submission.",emptyAddLabel:"Upload Files",fileStage:2,form:t.components.submissionFiles.form,genres:t.components.submissionFiles.genres,id:i.id,items:t.components.submissionFiles.items,options:t.components.submissionFiles.options,otherLabel:"Other",primaryLocale:"en",removeConfirmLabel:"Are you sure you want to remove this file?",stageId:1,title:"Files",uploadProgressLabel:"Uploading {$percent}% complete"},on:{set:t.set}}):"contributors"===i.type?e("contributors-list-panel",{attrs:{"add-contributor-label":"Add Contributor","can-edit-publication":!0,"confirm-delete-message":"Are you sure you want to remove {$name} as a contributor? This action can not be undone.","delete-contributor-label":"Remove","edit-contributor-label":"Edit",form:{},id:"contributors",items:t.publication.authors,publication:t.publication,"publication-api-url":"https://localhost:8000/publicknowledge/api/v1/submissions/1/publications/1/contributors",title:"Contributors"},on:{"updated:contributors":t.setContributors}}):"review"===i.type?t._l(t.steps.filter((t=>t.id!==n.id)),(function(n){return e("div",{key:n.id,staticClass:"submissionWizard__reviewPanel"},[e("div",{staticClass:"submissionWizard__reviewPanel__header"},[e("h3",{attrs:{id:"review-"+n.id}},[t._v(" "+t._s(n.name)+" ")]),e("pkp-button",{staticClass:"submissionWizard__reviewPanel__edit",attrs:{"aria-describedby":"review-"+n.id},on:{click:function(e){return t.openStep(n.id)}}},[t._v(" Edit ")])],1),t._l(n.sections,(function(n){return e("div",{key:n.id,staticClass:"submissionWizard__reviewPanel__section",class:"submissionWizard__reviewPanel__section--"+n.type},["files"===n.id?[t.components.submissionFiles.items.length?e("ul",{staticClass:"submissionWizard__reviewPanel__list"},t._l(t.components.submissionFiles.items,(function(n){return e("li",{key:n.id,staticClass:"submissionWizard__reviewPanel__item__value"},[e("file",{attrs:{documentType:n.documentType,id:"file"+n.id,name:t.localize(n.name)}}),e("span",{staticClass:"submissionWizard__reviewPanel__list__actions"},[e("badge",{attrs:{"is-primary":!n.genreIsSupplementary}},[t._v(" "+t._s(t.localize(n.genreName))+" ")]),e("pkp-button",{staticClass:"submissionWizard__reviewPanel__download",attrs:{element:"a",href:n.url,target:"_blank",rel:"noopener noreferrer","aria-describedby":"file"+n.id}},[e("icon",{attrs:{icon:"download"}}),e("span",{staticClass:"-screenReader"},[t._v("Download")])],1)],1)],1)})),0):e("notification",{attrs:{type:"warning"}},[e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}),t._v(" No files have been uploaded for this submission. ")],1)]:"contributors"===n.id?[t.publication.authors.length?e("ul",{staticClass:"submissionWizard__reviewPanel__list"},t._l(t.publication.authors,(function(n){return e("li",{key:n.id,staticClass:"submissionWizard__reviewPanel__item__value"},[e("span",{staticClass:"submissionWizard__reviewPanel__list__name"},[t._v(" "+t._s(t.getAuthorName(n))+" ")]),e("span",{staticClass:"submissionWizard__reviewPanel__list__actions"},[t.publication.primaryContactId===n.id?e("badge",{attrs:{"is-primary":!0}},[t._v(" Submitting Author ")]):t._e(),e("badge",[t._v(t._s(t.localize(n.userGroupName)))])],1)])})),0):e("notification",{attrs:{type:"warning"}},[e("icon",{attrs:{icon:"exclamation-triangle",inline:!0}}),t._v(" No contributors have been added for this submission. ")],1)]:"details"===n.id?[e("div",{staticClass:"submissionWizard__reviewPanel__item"},[e("h4",{staticClass:"submissionWizard__reviewPanel__item__header"},[t._v(" Title ")]),e("div",{staticClass:"submissionWizard__reviewPanel__item__value"},[t._v(" "+t._s(t.localize(t.publication.title))+" ")])]),e("div",{staticClass:"submissionWizard__reviewPanel__item"},[e("h4",{staticClass:"submissionWizard__reviewPanel__item__header"},[t._v(" Abstract ")]),e("div",{staticClass:"submissionWizard__reviewPanel__item__value",domProps:{innerHTML:t._s(t.localize(t.publication.abstract))}})])]:"editors"===n.id?[t.publication.keywords.length?e("div",{staticClass:"submissionWizard__reviewPanel__item"},[e("h4",{staticClass:"submissionWizard__reviewPanel__item__header"},[t._v(" Keywords ")]),e("div",{staticClass:"submissionWizard__reviewPanel__item__value"},[t._v(" "+t._s(t.publication.keywords.join(t.pkp.localeKeys["common.commaListSeparator"]))+" ")])]):t._e(),t.publication.subjects.length?e("div",{staticClass:"submissionWizard__reviewPanel__item"},[e("h4",{staticClass:"submissionWizard__reviewPanel__item__header"},[t._v(" Subjects ")]),e("div",{staticClass:"submissionWizard__reviewPanel__item__value"},[t._v(" "+t._s(t.publication.subjects.join(t.pkp.localeKeys["common.commaListSeparator"]))+" ")])]):t._e(),t.publication.categoryIds.length?e("div",{staticClass:"submissionWizard__reviewPanel__item"},[e("h4",{staticClass:"submissionWizard__reviewPanel__item__header"},[t._v(" Categories ")]),e("ul",{staticClass:"submissionWizard__reviewPanel__item__value"},t._l(t.currentCategoryTitles,(function(n){return e("li",{key:n},[t._v(" "+t._s(n)+" ")])})),0)]):t._e(),e("div",{staticClass:"submissionWizard__reviewPanel__item"},[e("h4",{staticClass:"submissionWizard__reviewPanel__item__header"},[t._v(" Comments for the Editor ")]),e("div",{staticClass:"submissionWizard__reviewPanel__item__value"},[t.submission.commentsForEditor?[t._v(" "+t._s(t.submission.commentsForEditor)+" ")]:[t._v("No comments.")]],2)])]:t._e()],2)}))],2)})):t._e()],2)})),1)],1)})),1)],1),e("button-row",{staticClass:"submissionWizard__footer"},[e("template",{slot:"end"},[t.isOnFirstStep?e("span"):e("pkp-button",{attrs:{isWarnable:!0},on:{click:t.previousStep}},[t._v(" Back ")])],1),t.isSaving?e("spinner"):t.isDisconnected?e("span",{staticClass:"submissionWizard__lastSaved submissionWizard__lastSaved--disconnected"},[e("spinner"),t._v(" Reconnecting ")],1):t.lastSavedTimestamp?e("span",{staticClass:"submissionWizard__lastSaved"},[t._v(" Last saved "+t._s(t.lastSavedTimestamp)+" ")]):t._e(),e("pkp-button",[t._v("Save for Later")]),e("pkp-button",{attrs:{isPrimary:!0},on:{click:t.nextStep}},[t._v("Continue")])],2),e("div",{ref:"notifications",staticClass:"app__notifications",attrs:{"aria-live":"polite","aria-atomic":"true",role:"status"}},[e("transition-group",{attrs:{name:"app__notification"}},t._l(t.notifications,(function(n){return e("notification",{key:n.key,attrs:{type:n.type,"can-dismiss":!0},on:{dismiss:function(e){return t.dismissNotification(n.key)}}},[t._v(" "+t._s(n.message)+" ")])})),1)],1),e("transition",{attrs:{name:"app__loading"}},[t.isLoading?e("div",{staticClass:"app__loading",attrs:{role:"alert"}},[e("div",{staticClass:"app__loading__content"},[e("spinner"),t._v(" Loading ")],1)]):t._e()])],1)},RD=[],BD=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contributorsListPanel"},[t._t("default",(function(){return[e("list-panel",{staticClass:"listPanel--contributor",class:t.isOrdering?"-isOrdering":"",attrs:{items:t.items},scopedSlots:t._u([{key:"item-title",fn:function({item:n}){return[t._v(" "+t._s(n.fullName)+" "),n.userGroupName?e("badge",[t._v(" "+t._s(t.localize(n.userGroupName))+" ")]):t._e()]}},{key:"item-subtitle",fn:function({item:e}){return[t._v(" "+t._s(t.localize(e.affiliation))+" ")]}},t.publication.status!==t.getConstant("STATUS_PUBLISHED")&&t.canEditPublication?{key:"item-actions",fn:function({item:n}){return[t.isOrdering?[e("orderer",{attrs:{itemId:n.id,itemTitle:n.fullName},on:{up:function(e){return t.contributorItemOrderUp(n)},down:function(e){return t.contributorItemOrderDown(n)}}})]:[t.publication.primaryContactId==n.id?e("badge",{attrs:{isPrimary:!0}},[t._v(" "+t._s(t.i18nPrimaryContact)+" ")]):e("pkp-button",{attrs:{disabled:t.isLoading},on:{click:function(e){return t.setPrimaryContact(n.id)}}},[t._v(" "+t._s(t.i18nSetPrimaryContact)+" ")]),e("pkp-button",{attrs:{disabled:t.isLoading},on:{click:function(e){return t.openEditModal(n.id)}}},[t._v(" "+t._s(t.__("common.edit"))+" ")]),e("pkp-button",{attrs:{disabled:t.isLoading,isWarnable:!0},on:{click:function(e){return t.openDeleteModal(n.id)}}},[t._v(" "+t._s(t.__("common.delete"))+" ")])]]}}:null],null,!0)},[e("pkp-header",{attrs:{slot:"header"},slot:"header"},[e("h2",[t._v(t._s(t.title))]),t.isLoading?e("spinner"):t._e(),e("template",{slot:"actions"},[t.publication.status!==t.getConstant("STATUS_PUBLISHED")&&t.canEditPublication?e("pkp-button",{attrs:{icon:"sort",isActive:t.isOrdering,disabled:t.isLoading},on:{click:t.toggleOrdering}},[t._v(" "+t._s(t.orderingLabel)+" ")]):t._e(),t.isOrdering?e("pkp-button",{attrs:{isWarnable:!0,disabled:t.isLoading},on:{click:t.cancelOrdering}},[t._v(" "+t._s(t.__("common.cancel"))+" ")]):t._e(),t.isOrdering?t._e():e("pkp-button",{attrs:{disabled:t.isLoading},on:{click:t.openPreviewModal}},[t._v(" "+t._s(t.i18nPreview)+" ")]),!t.isOrdering&&t.publication.status!==t.getConstant("STATUS_PUBLISHED")&&t.canEditPublication?e("pkp-button",{attrs:{disabled:t.isLoading},on:{click:t.openAddModal}},[t._v(" "+t._s(t.i18nAddContributor)+" ")]):t._e()],1)],2)],1),e("modal",{attrs:{closeLabel:t.__("common.close"),name:t.formModal,title:t.activeFormTitle},on:{closed:t.formModalClosed}},[e("pkp-form",t._b({on:{set:t.updateForm,success:t.formSuccess}},"pkp-form",t.activeForm,!1))],1),e("modal",{attrs:{closeLabel:t.__("common.close"),name:t.previewModal,title:t.i18nContributors}},[e("p",[t._v(" "+t._s(t.i18nPreviewDescription)+" ")]),e("table",{staticClass:"pkpTable"},[e("thead",[e("tr",[e("th",[t._v(t._s(t.i18nFormat))]),e("th",[t._v(t._s(t.i18nDisplay))])])]),e("tbody",[e("tr",[e("td",[t._v(t._s(t.i18nAbbreviated))]),e("td",[t._v(t._s(t.publication.authorsStringShort))])]),e("tr",[e("td",[t._v(" "+t._s(t.i18nPublicationLists)+" ")]),e("td",[t._v(t._s(t.publication.authorsStringIncludeInBrowse))])]),e("tr",[e("td",[t._v(t._s(t.i18nFull))]),e("td",[t._v(t._s(t.publication.authorsString))])])])])])]}))],2)},UD=[],OD={components:{ListPanel:Kt,Modal:ot,Orderer:hn,PkpForm:aa,PkpHeader:jt},mixins:[Dn],props:{canEditPublication:{type:Boolean,required:!0},form:{type:Object,required:!0},id:{type:String,required:!0},items:{type:Array,default(){return[]}},title:{type:String,required:!0},publicationApiUrlFormat:{type:String,required:!0},publication:{type:Object,required:!0},i18nAbbreviated:{type:String,required:!0},i18nAddContributor:{type:String,required:!0},i18nConfirmDelete:{type:String,required:!0},i18nContributors:{type:String,required:!0},i18nDisplay:{type:String,required:!0},i18nDeleteContributor:{type:String,required:!0},i18nEditContributor:{type:String,required:!0},i18nFormat:{type:String,required:!0},i18nFull:{type:String,required:!0},i18nPreview:{type:String,required:!0},i18nPreviewDescription:{type:String,required:!0},i18nPrimaryContact:{type:String,required:!0},i18nPublicationLists:{type:String,required:!0},i18nSaveOrder:{type:String,required:!0},i18nSetPrimaryContact:{type:String,required:!0}},data(){return{activeForm:null,activeFormTitle:"",resetFocusTo:null,isOrdering:!1,isLoading:!1,itemsBeforeReordering:null}},computed:{contributorsApiUrl(){return this.publicationApiUrlFormat.replace("__publicationId__",this.publication.id+"/contributors")},formModal(){return this.id+"form"},previewModal(){return this.id+"preview"},publicationApiUrl(){return this.publicationApiUrlFormat.replace("__publicationId__",this.publication.id)},orderingLabel(){return this.isOrdering?this.i18nSaveOrder:this.__("common.order")}},methods:{getConstant(t){return pkp.const[t]},formModalClosed(t){this.activeForm=null,this.activeFormTitle="",this.resetFocusTo&&this.resetFocusTo.focus()},formSuccess(t){if("POST"===this.activeForm.method){this.offset=0;const e=[...this.publication.authors];e.push(t),this.$emit("updated:contributors",e)}else{const e=this.publication.authors.map((e=>e.id===t.id?t:e));this.$emit("updated:contributors",e)}this.$modal.hide(this.formModal)},openPreviewModal(){this.isLoading=!0,$.ajax({url:this.publicationApiUrl,type:"GET",context:this,error:this.ajaxErrorCallback,success(t){this.$emit("updated:publication",t),this.$modal.show(this.previewModal)},complete(t){this.isLoading=!1}})},openAddModal(){this.resetFocusTo=document.activeElement;let t=oa()(this.form);t.action=this.contributorsApiUrl,t.method="POST",this.activeForm=t,this.activeFormTitle=this.i18nAddContributor,this.$modal.show(this.formModal)},openDeleteModal(t){const e=this.items.find((e=>e.id===t));this.openDialog({name:"delete",title:this.i18nDeleteContributor,message:this.replaceLocaleParams(this.i18nConfirmDelete,{name:e.fullName}),actions:[{label:this.i18nDeleteContributor,isWarnable:!0,callback:()=>{this.isLoading=!0,$.ajax({url:this.contributorsApiUrl.replace("/contributors","/contributors/"+t),type:"POST",context:this,headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"DELETE"},error:this.ajaxErrorCallback,success(e){this.$modal.hide("delete"),this.setFocusIn(this.$el);const n=this.publication.authors.filter((e=>e.id!==t));this.$emit("updated:contributors",n)},complete(t){this.isLoading=!1}})}},{label:this.__("common.cancel"),callback:()=>this.$modal.hide("delete")}]})},openEditModal(t){this.isLoading=!0,this.resetFocusTo=document.activeElement;const e=this.contributorsApiUrl.replace("/contributors","/contributors/"+t);$.ajax({url:e,type:"GET",error:this.ajaxErrorCallback,context:this,success(t){let n=oa()(this.form);n.action=e,n.method="PUT",n.fields=n.fields.map((e=>(Object.keys(t).includes(e.name)&&(e.value=t[e.name]),e))),this.activeForm=n,this.activeFormTitle=this.i18nEditContributor,this.$modal.show(this.formModal)},complete(t){this.isLoading=!1}})},updateForm(t,e){let n={...this.activeForm};Object.keys(e).forEach((function(t){n[t]=e[t]})),this.activeForm=n},toggleOrdering(){this.isOrdering?this.setItemOrderSequence():(this.itemsBeforeReordering=this.items,this.isOrdering=!this.isOrdering)},cancelOrdering(){this.$emit("updated:contributors",this.itemsBeforeReordering),this.itemsBeforeReordering=null,this.isOrdering=!1},setItemOrderSequence(){let t=0;for(const e of this.items)e.seq=t,t++;this.isLoading=!0,$.ajax({url:this.contributorsApiUrl.replace("/contributors","/contributors/saveOrder"),context:this,type:"POST",headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"PUT"},data:{sortedAuthors:this.items},success(t){this.$emit("updated:contributors",t),$.ajax({url:this.publicationApiUrl,context:this,type:"GET",success(t){this.$emit("updated:publication",t)},complete(){this.isLoading=!1,this.isOrdering=!1}})},error:this.ajaxErrorCallback,complete(){this.isLoading=!1,this.isOrdering=!1}})},setPrimaryContact(t){let e=this;e.isLoading=!0,$.ajax({url:this.publicationApiUrl,type:"POST",headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"PUT"},data:{primaryContactId:t},success(t){e.$emit("updated:publication",t),e.setFocusIn(e.$el)},error:this.ajaxErrorCallback,complete(){e.isLoading=!1}})},contributorItemOrderDown(t){var e=this.items.findIndex((e=>t.id==e.id));if(e===this.items.length-1)return;let n=[...this.items];n.splice(e+1,0,n.splice(e,1)[0]),this.$emit("updated:contributors",n)},contributorItemOrderUp(t){var e=this.items.findIndex((e=>t.id==e.id));if(0===e)return;let n=[...this.items];n.splice(e-1,0,n.splice(e,1)[0]),this.$emit("updated:contributors",n)}}},MD=OD,$D=(0,T.Z)(MD,BD,UD,!1,null,null,null),ND=$D.exports,jD={methods:{getMomentLocale(t){const e={"sr_RS@latin":"sr","sr_RS@cyrillic":"sr-cyrl","uz_UZ@latin":"uz-latn"};return e[t]??t}}},qD=n(57632),WD={data(){return{clientId:null,isLocalStorageEnabled:!1}},methods:{setLocalStorage(t,e){localStorage.setItem(t,JSON.stringify(e))},getLocalStorage(t){const e=localStorage.getItem(t);if(null!==e)return JSON.parse(e)},removeLocaleStorage(t){localStorage.removeItem(t)},_setClientId(){const t=localStorage.getItem("clientId");this.clientId=t??(0,qD.Z)(),t||localStorage.setItem("clientId",this.clientId)},_test(){try{const t=window["localStorage"],e="__storage_test__";return t.setItem(e,e),t.removeItem(e),!0}catch(t){return!1}}},created(){this.isLocalStorageEnabled=this._test(),this.isLocalStorageEnabled&&this._setClientId()}},VD=n(30381),KD=n.n(VD);let zD=null,HD=4e3,ZD=!1;var GD,YD,JD={mixins:[mt,jD,WD],data(){return{isAutosaving:!1,isDisconnected:!1,lastSavedTimestamp:Date.now(),pendingAutosaves:[]}},methods:{addAutosave(t,e,n){this.pendingAutosaves.push({id:t,url:e,timestamp:Date.now(),data:n})},startAutosaveTimer(){zD=setInterval(this._runAutosaveJobs,500)},stopAutosaveTimer(){clearTimeout(zD)},_getNextAutosave(){if(this.isLocalStorageEnabled){let t=this.getLocalStorage(this.autosavesKey)??[];if(t.length){const e=t.splice(0,1)[0];return this.setLocalStorage(this.autosavesKey,t),e}}if(this.pendingAutosaves.length)return this.pendingAutosaves.splice(0,1)[0]},_initAutosave(){const t=this.getLocalStorage(this.autosavesKey)??[];t.length?this.$nextTick((()=>{this.openDialog({name:"loadAutosave",title:this.i18nUnsavedChanges,message:this.i18nUnsavedChangesMessage.replace("{$when}",KD()(t[0].timestamp).locale(this.getMomentLocale($.pkp.app.currentLocale)).fromNow()),actions:[{label:this.__("common.yes"),isPrimary:!0,callback:()=>{t.forEach(this.restoreStoredAutosave),this.removeLocaleStorage(this.autosavesKey),this.$nextTick((()=>{this.addAutosaves(),this.startAutosaveTimer();const t=setInterval((()=>{this.isAutosaving||(clearInterval(t),this.$modal.hide("loadAutosave"))}),2e3)}))}},{label:this.i18nDiscardChanges,isWarnable:!0,callback:()=>{this.removeLocaleStorage(this.autosavesKey),this.startAutosaveTimer(),this.$modal.hide("loadAutosave")}}]})})):this.startAutosaveTimer()},_runAutosaveJobs(){if(this.isDisconnected&&this._storePendingAutosaves(),this.isDisconnected||ZD)return;const t=this._getNextAutosave();t?this._sendAutosave(t,{}):Date.now()-this.lastSavedTimestamp>6e4&&this.addAutosaves()},_runReconnect(){this.isDisconnected&&setTimeout((()=>{this._sendAutosave(this._getNextAutosave(),{success:t=>{HD=4e3,this.isDisconnected=!1},error:()=>{HD<3e4&&(HD*=2),this._runReconnect()}})}),HD)},_sendAutosave(t,e){ZD=!0,this.isAutosaving=!0;const n=e=>{"function"===typeof this.autosaveSucceeded&&this.autosaveSucceeded(t,e),this.lastSavedTimestamp=t.timestamp},i=(e,n)=>{this.isDisconnected=!0,this.isAutosaving=!1;let i=this.getLocalStorage(this.autosavesKey)??[];i.length?i.unshift(t):i=[t],this.setLocalStorage(this.autosavesKey,i),"function"===typeof this.autosaveErrored&&this.autosaveErrored(t,e,n)},s=t=>{ZD=!1;let e=this.getLocalStorage(this.autosavesKey)??[];e.length||this.pendingAutosaves.length||(this.isAutosaving=!1)};e.success=e.success?[n,e.success]:n,e.error=e.error?[i,e.error]:i,e.complete=e.complete?[s,e.complete]:s,$.ajax({context:this,url:t.url,method:"POST",headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"PUT"},data:t.data,...e})},_storePendingAutosaves(){if(!this.isLocalStorageEnabled||!this.pendingAutosaves.length)return;let t=this.getLocalStorage(this.autosavesKey)??[];this.setLocalStorage(this.autosavesKey,[...t,...this.pendingAutosaves]),this.pendingAutosaves=[]}},watch:{isDisconnected(t,e){t&&t!==e&&this._runReconnect()}},created(){const t="Missing required `{$prop}` prop or callback function. See docs for autosave.js";["autosavesKey","i18nDiscardChanges","i18nUnsavedChanges","i18nUnsavedChangesMessage"].forEach((e=>{if("undefined"===typeof this[e])throw new Error(t.replace("{$prop}",e))})),["addAutosaves","restoreStoredAutosave"].forEach((e=>{if("function"!==typeof this[e])throw new Error(t.replace("{$prop}",e))})),this.isLocalStorageEnabled||(this.clientId=(0,qD.Z)()),this._initAutosave()},destroyed(){this.stopAutosaveTimer()}},XD={extends:ho,mixins:[Dn,JD,mt,jD,Kr,WD],components:{ButtonRow:me,ContributorsListPanel:ND,File:Hd,Modal:ot,SubmissionFilesListPanel:dD},data(){return{autosavesKeyBase:"submitAutosaves",categories:[],currentStepId:0,errors:{},isSaving:!1,isValidating:!1,lastAutosavedMessage:"",publication:{},publicationApiUrl:"",reconfigurePublicationProps:[],reconfigureSubmissionProps:[],staleForms:[],startedSteps:[],steps:[],submission:{},submissionApiUrl:"",submissionSavedUrl:"",submissionWizardUrl:"",submitApiUrl:"",i18nConfirmSubmit:"",i18nDiscardChanges:"",i18nDisconnected:"",i18nLastAutosaved:"",i18nPageTitle:"",i18nSubmit:"",i18nTitleSeparator:"",i18nUnableToSave:"",i18nUnsavedChanges:"",i18nUnsavedChangesMessage:""}},computed:{autosavesKey(){return this.autosavesKeyBase+this.submission.id},canSubmit(){return!this.isAutosaving&&!this.isDisconnected&&this.isValid&&this.isConfirmed},currentCategoryTitles(){return this.publication.categoryIds.filter((t=>!!this.categories[t])).map((t=>this.categories[t]))},currentStep(){return this.steps.find((t=>t.id===this.currentStepId))},currentStepIndex(){return this.steps.findIndex((t=>t.id===this.currentStepId))},isConfirmed(){const t=this.steps.find((t=>"review"===t.id))?.sections.find((t=>"confirmSubmission"===t.id))?.form.fields.map((t=>"field-options"!==t.component||t.value)).includes(!1);return!t},isOnFirstStep(){return!this.currentStepIndex},isOnLastStep(){return this.currentStepIndex===this.steps.length-1},isValid(){return 0===Object.keys(this.errors).length},pageTitle(){return this.i18nPageTitle.replace("{$step}",this.currentStep.name)}},methods:{addAutosaves(){if(this.staleForms.length)while(this.staleForms.length){const t=this.staleForms.splice(0,1)[0],e=this.$refs.autosaveForms.find((e=>e.id===t));if(!e)return;this.addAutosave(e.id,e.action,{...e.submitValues})}},addHistory(t){window.history.pushState({},t.name,"#"+t.id)},autosaveErrored(t,e,n){if(![0,500].includes(e.status)){if(403!==e.status){let e=this.getLocalStorage(this.autosavesKey);e.length&&this.setLocalStorage(this.autosavesKey,e.filter((e=>e.id!==t.id)))}this.isDisconnected=!0,this.ajaxErrorCallback({})}},autosaveSucceeded(t,e){e.submissionId?this.publication=e:e.dateSubmitted&&(this.submission=e)},getAuthorName(t){let e=this.localize(t.affiliation);return e?[t.fullName,e].join(pkp.localeKeys["common.commaListSeparator"]):t.fullName},getPageTitle(t){return document.title.split(this.i18nTitleSeparator).map(((e,n)=>n?e:this.i18nPageTitle.replace("{$step}",t.name))).join(this.i18nTitleSeparator)},nextStep(){this.isOnLastStep?this.submit():this.openStep(this.steps[1+this.currentStepIndex].id)},openSaveForLaterFailed(){this.openDialog({name:"saveForLaterFailed",title:this.i18nDisconnected,message:this.i18nUnableToSave,actions:[{label:this.__("common.ok"),callback:()=>this.$modal.hide("saveForLaterFailed")}]})},openStep(t){const e=this.steps.find((e=>e.id===t));e&&(this.currentStepId=t)},openUrlTab(){const t=window.location.hash.replace("#",""),e=this.steps.find((e=>e.id===t));this.openStep(e?e.id:this.steps[0].id)},previousStep(){const t=this.currentStepIndex-1;t>=0&&this.openStep(this.steps[t].id)},reconfigureSubmission(t){const e=(e,n)=>(void 0!==typeof t[n]&&(e[n]=t[n]),e),n=this.reconfigureSubmissionProps.reduce(e,{}),i=this.reconfigurePublicationProps.reduce(e,{});$.ajax({url:this.submissionApiUrl,method:"POST",context:this,headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"PUT"},data:n,error:this.ajaxErrorCallback,success(t){Object.keys(i).length?$.ajax({url:this.publicationApiUrl,method:"POST",context:this,headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"PUT"},data:i,error:this.ajaxErrorCallback,success(t){window.location.reload()}}):window.location.reload()}})},saveForLater(){this.isLoading=!0,this.addAutosaves();const t=setInterval((()=>{if(!this.isAutosaving){if(this.isDisconnected)return clearInterval(t),this.isLoading=!1,void this.openSaveForLaterFailed();$.ajax({url:this.submissionApiUrl+"/saveForLater",method:"POST",context:this,headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"PUT"},data:{step:this.startedSteps[this.startedSteps.length-1]},error(){this.isLoading=!1,this.openSaveForLaterFailed()},success(){window.location=this.submissionSavedUrl}}),clearInterval(t)}}),1e3)},setLastAutosaveMessage(){this.lastSavedTimestamp?this.lastAutosavedMessage=this.i18nLastAutosaved.replace("{$when}",KD()(this.lastSavedTimestamp).locale(this.getMomentLocale($.pkp.app.currentLocale)).fromNow()):this.lastAutosavedMessage=""},setContributors(t){this.publication.authors=t},setPublication(t){this.publication=t},submit(){this.openDialog({name:"submitConfirmation",title:this.i18nSubmit,message:this.i18nConfirmSubmit.replace("{$title}",this.localize(this.publication.title)),actions:[{label:this.i18nSubmit,isPrimary:!0,callback:()=>{const t=this.steps.find((t=>"review"===t.id))?.sections.find((t=>"confirm"===t.type))?.form.fields.filter((t=>"field-options"===t.component&&t.value)).reduce(((t,e)=>({...t,[e.name]:e.value})),{});$.ajax({url:this.submitApiUrl,context:this,method:"POST",data:t,headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"PUT"},error(t){t.responseJSON?this.errors=t.responseJSON:this.ajaxErrorCallback(),this.$modal.hide("submitConfirmation")},success(){window.location=this.submissionWizardUrl}})}},{label:this.__("common.cancel"),isWarnable:!0,callback:()=>this.$modal.hide("submitConfirmation")}]})},restoreStoredAutosave(t){let e;const n=Object.keys(t.data);this.steps.forEach((n=>{n.sections.forEach((n=>{"form"===n.type&&n.form.id===t.id&&(e=n.form)}))})),e&&this.updateForm(t.id,{fields:e.fields.map((e=>n.includes(e.name)?{...e,value:t.data[e.name]}:e))})},updateAutosaveForm(t,e){this.updateForm(t,e),-1===this.staleForms.indexOf(t)&&this.staleForms.push(t)},updateForm(t,e){this.steps.forEach(((n,i)=>{n.sections.forEach(((n,s)=>{"form"===n.type&&n.form.id===t&&(this.steps[i].sections[s].form={...this.steps[i].sections[s].form,...e})}))}))},validate(){this.isValidating=!0,this.errors={};const t=setInterval((()=>{this.isAutosaving||this.isDisconnected||(clearInterval(t),$.ajax({url:this.submitApiUrl,method:"POST",context:this,headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"PUT"},data:{_validateOnly:!0},error(t){t.responseJSON?this.errors=t.responseJSON:this.ajaxErrorCallback()},success(t){this.errors={}},complete(){this.isValidating=!1}}))}),500)}},watch:{currentStepIndex(t,e){if(t===e)return;this.addAutosaves(),this.steps.forEach(((t,e)=>{!this.startedSteps.includes(t.id)&&e<=this.currentStepIndex&&this.startedSteps.push(t.id)}));const n=this.steps[t];document.title=this.getPageTitle(n),n.id!==window.location.hash.replace("#","")&&this.addHistory(n),t===this.steps.length-1&&this.validate()},errors(t,e){const n=Object.keys(t);this.steps.forEach(((e,i)=>{e.sections.forEach(((e,s)=>{"form"===e.type&&e.form.fields.forEach((e=>{n.includes(e.name)&&(this.steps[i].sections[s].form.errors={...this.steps[i].sections[s].form.errors,[e.name]:t[e.name]})}))}))})),pkp.eventBus.$emit("submission:submit:errors",t,this)},isAutosaving(t,e){!t&&e&&this.setLastAutosaveMessage()}},created(){if(!window.location.hash){const t=this.steps.find((t=>t.id===this.submission.submissionProgress));this.openStep(t?t.id:this.steps[0].id)}setInterval(this.setLastAutosaveMessage,3e3)}},QD=XD,tE=(0,T.Z)(QD,GD,YD,!1,null,null,null),eE=tE.exports;const nE=["Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Pharetra et ultrices neque ornare aenean. Aenean pharetra magna ac placerat vestibulum lectus mauris ultrices eros. Proin libero nunc consequat interdum varius sit. Egestas egestas fringilla phasellus faucibus scelerisque eleifend donec pretium. Nam aliquam sem et tortor consequat id. Odio facilisis mauris sit amet massa vitae tortor condimentum lacinia. Pharetra sit amet aliquam id diam. Diam phasellus vestibulum lorem sed risus ultricies tristique nulla. Sed nisi lacus sed viverra. Eget nunc lobortis mattis aliquam faucibus purus in massa. Orci ac auctor augue mauris augue neque gravida in fermentum. Neque sodales ut etiam sit amet nisl purus in mollis. Lectus nulla at volutpat diam ut venenatis tellus in. Suspendisse in est ante in nibh mauris cursus. Pharetra diam sit amet nisl suscipit adipiscing. Pretium quam vulputate dignissim suspendisse in est ante. Amet mattis vulputate enim nulla aliquet. Odio euismod lacinia at quis risus sed vulputate.","Sem integer vitae justo eget magna fermentum iaculis. Vulputate mi sit amet mauris commodo quis imperdiet massa. Mollis aliquam ut porttitor leo. Viverra vitae congue eu consequat. Vel facilisis volutpat est velit egestas dui id ornare. Purus sit amet volutpat consequat mauris nunc congue. Sapien et ligula ullamcorper malesuada proin libero. Auctor eu augue ut lectus arcu. In massa tempor nec feugiat nisl pretium fusce id. Urna molestie at elementum eu facilisis sed. Praesent tristique magna sit amet purus. Eu augue ut lectus arcu bibendum at. A pellentesque sit amet porttitor eget dolor morbi non arcu. Blandit libero volutpat sed cras ornare arcu. Quam viverra orci sagittis eu volutpat. Sit amet mattis vulputate enim. Justo donec enim diam vulputate ut pharetra sit. Feugiat pretium nibh ipsum consequat nisl vel pretium. Arcu ac tortor dignissim convallis aenean et. Dolor sit amet consectetur adipiscing elit duis tristique sollicitudin nibh.","Pellentesque dignissim enim sit amet venenatis urna cursus. Ut sem viverra aliquet eget sit amet tellus cras. Nulla at volutpat diam ut venenatis tellus in. Consequat mauris nunc congue nisi vitae suscipit. Tellus integer feugiat scelerisque varius morbi enim nunc faucibus. Imperdiet dui accumsan sit amet nulla facilisi. Nisi quis eleifend quam adipiscing vitae proin. Ante metus dictum at tempor commodo. Viverra suspendisse potenti nullam ac. Dignissim cras tincidunt lobortis feugiat vivamus. Nunc scelerisque viverra mauris in aliquam. Nunc lobortis mattis aliquam faucibus purus in massa tempor nec. Curabitur gravida arcu ac tortor. Lobortis feugiat vivamus at augue eget. Amet porttitor eget dolor morbi non arcu.","Vulputate mi sit amet mauris. Vulputate odio ut enim blandit volutpat. Varius morbi enim nunc faucibus a pellentesque sit amet porttitor. Consectetur a erat nam at lectus urna. Faucibus vitae aliquet nec ullamcorper sit amet risus. Commodo nulla facilisi nullam vehicula ipsum a arcu cursus. Iaculis at erat pellentesque adipiscing. Fermentum posuere urna nec tincidunt praesent semper. Tellus pellentesque eu tincidunt tortor. Ullamcorper a lacus vestibulum sed arcu non. In egestas erat imperdiet sed euismod nisi porta lorem. Tempus imperdiet nulla malesuada pellentesque elit eget gravida cum. Nam at lectus urna duis convallis convallis tellus id. Etiam erat velit scelerisque in dictum non. Ultrices in iaculis nunc sed augue lacus viverra. Amet consectetur adipiscing elit pellentesque. Vestibulum lorem sed risus ultricies tristique nulla aliquet enim tortor.","Nisl vel pretium lectus quam id. Posuere urna nec tincidunt praesent semper feugiat nibh sed. Proin sed libero enim sed faucibus turpis in. Viverra accumsan in nisl nisi scelerisque eu ultrices vitae auctor. Nunc mattis enim ut tellus elementum sagittis vitae et. Felis imperdiet proin fermentum leo vel orci porta. Arcu risus quis varius quam. Mi proin sed libero enim. Suspendisse interdum consectetur libero id faucibus. Blandit aliquam etiam erat velit scelerisque. Dolor sit amet consectetur adipiscing elit pellentesque habitant morbi tristique. Luctus accumsan tortor posuere ac ut consequat semper viverra. Auctor elit sed vulputate mi sit. Mi bibendum neque egestas congue quisque egestas diam."];nE[0];var iE=nE,sE={name:"options-copyright",component:"field-options",label:"Copyright",description:`\n        Please read and understand the copyright terms for submissions to this journal.\n        <blockquote>${iE[0]}</blockquote>\n    `,type:"checkbox",value:!1,options:[{value:!0,label:"Yes, I agree to the copyright statement."}],groupId:"default"};const aE=iE.map((t=>`<li>${t.substring(0,100)}</li>`));var lE,rE,oE,dE,pE,cE,uE,mE,hE,bE,fE={name:"options-submission-agreement",component:"field-options",label:"Submission Agreement",description:"By submitting to this journal, you agree to the following terms.<ul>"+aE.join("")+"</ul>",type:"checkbox",value:!1,options:[{value:!0,label:"Yes, I agree to these terms."}],groupId:"default"},gE={...Da,id:"confirm",action:"/example/submit/1",fields:[{...sE},{...fE}],groups:[{id:"default",pageId:"default"}],pages:[{id:"default",submitButton:{label:"Save"}}],supportedFormLocales:[...Da.supportedFormLocales,{key:"fr_CA",label:"Français (Canada)"},{key:"ar",label:"عربى"}]},vE=[{contextId:1,description:{en:"",fr_CA:""},id:1,parentId:null,path:"applied-science",sequence:1,sortOption:"datePublished",title:{en:"Applied Science",fr_CA:""}},{contextId:1,description:{en:"",fr_CA:""},id:2,parentId:1,path:"computer-science",sequence:2,sortOption:"sequence",title:{en:"Computer Science",fr_CA:""}},{contextId:1,description:{en:"",fr_CA:""},id:3,parentId:1,path:"engineering",sequence:3,sortOption:"datePublished",title:{en:"Engineering",fr_CA:""}},{contextId:1,description:{en:"",fr_CA:""},id:4,parentId:null,path:"social-sciences",sequence:2,sortOption:"title",title:{en:"Social Sciences",fr_CA:""}},{contextId:1,description:{en:"",fr_CA:""},id:5,parentId:4,path:"sociology",sequence:1,sortOption:"title",title:{en:"Sociology",fr_CA:""}},{contextId:1,description:{en:"",fr_CA:""},id:6,parentId:4,path:"anthropology",sequence:2,sortOption:"title",title:{en:"Anthropology",fr_CA:""}}],_E={name:"keywords",component:"field-controlled-vocab",label:"Keywords",description:"Keywords are typically one- to three-word phrases that are used to indicate the main topics of a submission.",value:[],apiUrl:"controlled-vocab.json",deselectLabel:"Remove {$item}",noneLabel:"None",selectedLabel:"Selected"},yE={name:"categories",component:"field-options",label:"Categories",description:"Select only the categories that are appropriate for your submission.",value:"",options:[{value:4,label:"Biology"},{value:1,label:"Health Sciences"},{value:2,label:"Health Sciences > Tropical Medicine"},{value:3,label:"Health Sciences > Radiology"},{value:5,label:"..."}],groupId:"default"},kE={...Da,id:"forTheEditors",action:"/example/publications/1",fields:[{..._E,groupId:"default"},{...yE,groupId:"default"},{...b_,label:"Comments for the Editors",isMultilingual:!1,description:"Add any information that you think our editorial staff should know when evaluating your submission.",value:"",toolbar:"bold italic superscript subscript | link",plugins:"paste,link",groupId:"default"}],groups:[{id:"default",pageId:"default"}],pages:[{id:"default",submitButton:{label:"Save"}}],supportedFormLocales:[...Da.supportedFormLocales,{key:"fr_CA",label:"Français (Canada)"},{key:"ar",label:"عربى"}]},wE={name:"prefix",component:"field-text",inputType:"text",label:"Prefix",description:"Examples: A, The",size:"small",value:{en:"The",fr_CA:"",ar:""},isMultilingual:!0},SE={name:"subtitle",component:"field-text",inputType:"text",label:"Subtitle",size:"large",value:{en:"A comparative analysis of functionality and roles",fr_CA:"",ar:""},isMultilingual:!0},TE={...Da,id:"titleAbstract",action:"/example/publications/1",fields:[{...wE,groupId:"default"},{...Ea,groupId:"default"},{...SE,groupId:"default"},{...b_,toolbar:"bold italic superscript subscript | link",plugins:"paste,link",groupId:"default"}],groups:[{id:"default",pageId:"default"}],pages:[{id:"default",submitButton:{label:"Save"}}],supportedFormLocales:[...Da.supportedFormLocales,{key:"fr_CA",label:"Français (Canada)"},{key:"ar",label:"عربى"}]},FE={extends:eE,components:{ContributorsListPanel:ND,File:Hd,PkpForm:aa,SubmissionFilesListPanel:dD},data(){let t={...TE};return t.fields=t.fields.filter((t=>!["prefix","subtitle"].includes(t.name))),[t,gE,kE].forEach((t=>{delete t.pages[0].submitButton})),{categories:[...vE],components:{submissionFiles:{form:{...cD},genres:[...uD],items:[...rm],options:{...Jp}}},publication:{...Ho.publications[0]},submission:{...Ho},steps:[{id:"files-step",name:"Upload Files",sections:[{id:"files",name:"Upload Files",type:"files",description:"<p>\n\t\t\t\t\t\t\t\t\tProvide any files our editorial team may need to evaluate your\n\t\t\t\t\t\t\t\t\tsubmission. In addition to the main work, you may wish to\n\t\t\t\t\t\t\t\t\tsubmit data sets, conflict of interest statements, or other\n\t\t\t\t\t\t\t\t\tsupplementary files if these will be helpful for our editors.\n\t\t\t\t\t\t\t\t</p>"}]},{id:"contributors-step",name:"Contributors",sections:[{id:"contributors",type:"contributors",name:"Contributors",description:"<p>\n\t\t\t\t\t\t\t\t\tAdd details for all of the contributors to this submission.\n\t\t\t\t\t\t\t\t\tContributors added here will be sent an email confirmation of\n\t\t\t\t\t\t\t\t\tthe submission, as well as a copy of all editorial decisions\n\t\t\t\t\t\t\t\t\trecorded against this submission.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tIf a contributor can not be contacted by email, for example an\n\t\t\t\t\t\t\t\t\tinstitution or an anonymous contributor, please do not enter a\n\t\t\t\t\t\t\t\t\tfake email here. You can add this information in a message to\n\t\t\t\t\t\t\t\t\tthe editor at a later step in the submissio process.\n\t\t\t\t\t\t\t\t</p>"}]},{id:"details-step",name:"Details",sections:[{id:"details",type:"form",name:"Submission Details",description:"<p>\n\t\t\t\t\t\t\t\t\tPlease provide the following details to help us manage your submission in our system.\n\t\t\t\t\t\t\t\t</p>",form:{...t}},{id:"relations",type:"form",name:"Preprint Status",description:"<p>\n\t\t\t\t\t\t\t\t\tLet us know if this preprint has been accepted or published elsewhere.\n\t\t\t\t\t\t\t\t</p>",form:{...t,id:"relations",action:"/example/submissions/1",fields:[...t.fields.slice(0,1)]}}]},{id:"editors-step",name:"For the Editors",sections:[{id:"editors",type:"form",name:"For the Editors",description:"<p>\n\t\t\t\t\t\t\t\t\tPlease provide the following details in order to help our editorial team manage your submission.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tWhen entering metdata such as keywords, provide entries that you think would be most helpful to the person managing your submission. If your submission is accepted, this information can be changed before publication.\n\t\t\t\t\t\t\t\t</p>",form:{...kE}}]},{id:"review-step",name:"Review",sections:[{id:"review",type:"review",name:"Review and Submit",description:"<p>\n\t\t\t\t\t\t\t\t\tReview the information you have entered before you complete\n\t\t\t\t\t\t\t\t\tyour submission. You can change any of the details displayed\n\t\t\t\t\t\t\t\t\there by clicking the edit button at the top of each section.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tOnce you complete your submission, a member of our editorial\n\t\t\t\t\t\t\t\t\tteam will be assigned to review it. Please ensure the details\n\t\t\t\t\t\t\t\t\tyou have entered here are as accurate as possible.\n\t\t\t\t\t\t\t\t</p>"},{id:"confirm",type:"form",name:"Confirmation",description:"<p>Please confirm the following before you submit.</p>",form:{...gE}}]}]}}},xE=FE,PE=(0,T.Z)(xE,ED,RD,!1,null,null,null),LE=PE.exports,CE='<template>\n\t<div class="app__page width width--wide">\n\t\t<div class="submissionWizard">\n\t\t\t<div class="submissionWizard__submissionDetails">\n\t\t\t\t{{ submission.id }}\n\t\t\t\t<span class="app__breadcrumbsSeparator" aria-hidden="true">/</span>\n\t\t\t\t{{ publication.authorsStringShort }}\n\t\t\t\t<span class="app__breadcrumbsSeparator" aria-hidden="true">/</span>\n\t\t\t\t{{ localize(publication.title) }}\n\t\t\t</div>\n\t\t\t<h1 class="app__pageHeading" ref="pageTitle">\n\t\t\t\tMake Submission\n\t\t\t\t<pkp-button>Save for Later</pkp-button>\n\t\t\t</h1>\n\t\t\t<div class="submissionWizard__submissionConfiguration">\n\t\t\t\tSubmitting to the\n\t\t\t\t<strong>Articles</strong>\n\t\t\t\tsection in\n\t\t\t\t<strong>English</strong>\n\t\t\t\t.\n\t\t\t\t<button class="-linkButton" @click="$modal.show(\'config\')">\n\t\t\t\t\tChange\n\t\t\t\t</button>\n\t\t\t\t<modal\n\t\t\t\t\t:closeLabel="__(\'common.close\')"\n\t\t\t\t\tname="config"\n\t\t\t\t\ttitle="##Change Submission Type##"\n\t\t\t\t>\n\t\t\t\t\t## TODO ##\n\t\t\t\t</modal>\n\t\t\t</div>\n\t\t\t<steps\n\t\t\t\tclass="submissionWizard__steps"\n\t\t\t\t:current="currentStep.id"\n\t\t\t\t:started-steps="startedSteps"\n\t\t\t\tlabel="Complete the steps to make a submission"\n\t\t\t\tprogress-label="{$current}/{$total} steps"\n\t\t\t\tscroll-to="$refs.pageTitle"\n\t\t\t\tshow-steps-label="Show all steps"\n\t\t\t\t@step:open="openStep"\n\t\t\t>\n\t\t\t\t<step\n\t\t\t\t\tv-for="step in steps"\n\t\t\t\t\t:key="step.id"\n\t\t\t\t\t:id="step.id"\n\t\t\t\t\t:label="step.name"\n\t\t\t\t>\n\t\t\t\t\t<panel>\n\t\t\t\t\t\t<panel-section v-for="section in step.sections" :key="section.id">\n\t\t\t\t\t\t\t<template slot="header">\n\t\t\t\t\t\t\t\t<h2>{{ section.name }}</h2>\n\t\t\t\t\t\t\t\t<div v-html="section.description" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<pkp-form\n\t\t\t\t\t\t\t\tv-if="section.type === \'form\'"\n\t\t\t\t\t\t\t\tv-bind="section.form"\n\t\t\t\t\t\t\t\tref="autosaveForms"\n\t\t\t\t\t\t\t\t@set="updateForm"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<submission-files-list-panel\n\t\t\t\t\t\t\t\tv-else-if="section.type === \'files\'"\n\t\t\t\t\t\t\t\taddFileLabel="Add File"\n\t\t\t\t\t\t\t\tapiUrl="http://localhost:8000/publicknowledge/api/v1/submissions/1/files"\n\t\t\t\t\t\t\t\tcancelUploadLabel="Cancel Upload"\n\t\t\t\t\t\t\t\tgenrePromptLabel="What kind of file is this?"\n\t\t\t\t\t\t\t\temptyLabel="Upload any files the editorial team will need to evaluate your submission."\n\t\t\t\t\t\t\t\temptyAddLabel="Upload Files"\n\t\t\t\t\t\t\t\t:fileStage="2"\n\t\t\t\t\t\t\t\t:form="components.submissionFiles.form"\n\t\t\t\t\t\t\t\t:genres="components.submissionFiles.genres"\n\t\t\t\t\t\t\t\t:id="section.id"\n\t\t\t\t\t\t\t\t:items="components.submissionFiles.items"\n\t\t\t\t\t\t\t\t:options="components.submissionFiles.options"\n\t\t\t\t\t\t\t\totherLabel="Other"\n\t\t\t\t\t\t\t\tprimaryLocale="en"\n\t\t\t\t\t\t\t\tremoveConfirmLabel="Are you sure you want to remove this file?"\n\t\t\t\t\t\t\t\t:stageId="1"\n\t\t\t\t\t\t\t\ttitle="Files"\n\t\t\t\t\t\t\t\tuploadProgressLabel="Uploading {$percent}% complete"\n\t\t\t\t\t\t\t\t@set="set"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<contributors-list-panel\n\t\t\t\t\t\t\t\tv-else-if="section.type === \'contributors\'"\n\t\t\t\t\t\t\t\tadd-contributor-label="Add Contributor"\n\t\t\t\t\t\t\t\t:can-edit-publication="true"\n\t\t\t\t\t\t\t\tconfirm-delete-message="Are you sure you want to remove {$name} as a contributor? This action can not be undone."\n\t\t\t\t\t\t\t\tdelete-contributor-label="Remove"\n\t\t\t\t\t\t\t\tedit-contributor-label="Edit"\n\t\t\t\t\t\t\t\t:form="{\n\t\t\t\t\t\t\t\t\t/** TODO */\n\t\t\t\t\t\t\t\t}"\n\t\t\t\t\t\t\t\tid="contributors"\n\t\t\t\t\t\t\t\t:items="publication.authors"\n\t\t\t\t\t\t\t\t:publication="publication"\n\t\t\t\t\t\t\t\tpublication-api-url="https://localhost:8000/publicknowledge/api/v1/submissions/1/publications/1/contributors"\n\t\t\t\t\t\t\t\ttitle="Contributors"\n\t\t\t\t\t\t\t\t@updated:contributors="setContributors"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<template v-else-if="section.type === \'review\'">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tv-for="reviewStep in steps.filter(\n\t\t\t\t\t\t\t\t\t\t(iStep) => iStep.id !== step.id\n\t\t\t\t\t\t\t\t\t)"\n\t\t\t\t\t\t\t\t\t:key="reviewStep.id"\n\t\t\t\t\t\t\t\t\tclass="submissionWizard__reviewPanel"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class="submissionWizard__reviewPanel__header">\n\t\t\t\t\t\t\t\t\t\t<h3 :id="\'review-\' + reviewStep.id">\n\t\t\t\t\t\t\t\t\t\t\t{{ reviewStep.name }}\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t<pkp-button\n\t\t\t\t\t\t\t\t\t\t\t:aria-describedby="\'review-\' + reviewStep.id"\n\t\t\t\t\t\t\t\t\t\t\tclass="submissionWizard__reviewPanel__edit"\n\t\t\t\t\t\t\t\t\t\t\t@click="openStep(reviewStep.id)"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t\t\t</pkp-button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tv-for="section in reviewStep.sections"\n\t\t\t\t\t\t\t\t\t\t:key="section.id"\n\t\t\t\t\t\t\t\t\t\tclass="submissionWizard__reviewPanel__section"\n\t\t\t\t\t\t\t\t\t\t:class="\n\t\t\t\t\t\t\t\t\t\t\t\'submissionWizard__reviewPanel__section--\' + section.type\n\t\t\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<template v-if="section.id === \'files\'">\n\t\t\t\t\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\t\t\t\t\tv-if="components.submissionFiles.items.length"\n\t\t\t\t\t\t\t\t\t\t\t\tclass="submissionWizard__reviewPanel__list"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for="file in components.submissionFiles.items"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key="file.id"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="submissionWizard__reviewPanel__item__value"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<file\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:documentType="file.documentType"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:id="\'file\' + file.id"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:name="localize(file.name)"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="submissionWizard__reviewPanel__list__actions"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<badge :is-primary="!file.genreIsSupplementary">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ localize(file.genreName) }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<pkp-button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telement="a"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="submissionWizard__reviewPanel__download"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:href="file.url"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget="_blank"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel="noopener noreferrer"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:aria-describedby="\'file\' + file.id"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<icon icon="download" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="-screenReader">Download</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</pkp-button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t<notification v-else type="warning">\n\t\t\t\t\t\t\t\t\t\t\t\t<icon icon="exclamation-triangle" :inline="true" />\n\t\t\t\t\t\t\t\t\t\t\t\tNo files have been uploaded for this submission.\n\t\t\t\t\t\t\t\t\t\t\t</notification>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t<template v-else-if="section.id === \'contributors\'">\n\t\t\t\t\t\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\t\t\t\t\tv-if="publication.authors.length"\n\t\t\t\t\t\t\t\t\t\t\t\tclass="submissionWizard__reviewPanel__list"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for="author in publication.authors"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key="author.id"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="submissionWizard__reviewPanel__item__value"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="submissionWizard__reviewPanel__list__name"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getAuthorName(author) }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass="submissionWizard__reviewPanel__list__actions"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if="publication.primaryContactId === author.id"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:is-primary="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSubmitting Author\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<badge>{{ localize(author.userGroupName) }}</badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t<notification v-else type="warning">\n\t\t\t\t\t\t\t\t\t\t\t\t<icon icon="exclamation-triangle" :inline="true" />\n\t\t\t\t\t\t\t\t\t\t\t\tNo contributors have been added for this submission.\n\t\t\t\t\t\t\t\t\t\t\t</notification>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t<template v-else-if="section.id === \'details\'">\n\t\t\t\t\t\t\t\t\t\t\t<div class="submissionWizard__reviewPanel__item">\n\t\t\t\t\t\t\t\t\t\t\t\t<h4 class="submissionWizard__reviewPanel__item__header">\n\t\t\t\t\t\t\t\t\t\t\t\t\tTitle\n\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="submissionWizard__reviewPanel__item__value">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ localize(publication.title) }}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="submissionWizard__reviewPanel__item">\n\t\t\t\t\t\t\t\t\t\t\t\t<h4 class="submissionWizard__reviewPanel__item__header">\n\t\t\t\t\t\t\t\t\t\t\t\t\tAbstract\n\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass="submissionWizard__reviewPanel__item__value"\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-html="localize(publication.abstract)"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t<template v-else-if="section.id === \'editors\'">\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tv-if="publication.keywords.length"\n\t\t\t\t\t\t\t\t\t\t\t\tclass="submissionWizard__reviewPanel__item"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<h4 class="submissionWizard__reviewPanel__item__header">\n\t\t\t\t\t\t\t\t\t\t\t\t\tKeywords\n\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="submissionWizard__reviewPanel__item__value">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpublication.keywords.join(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpkp.localeKeys[\'common.commaListSeparator\']\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tv-if="publication.subjects.length"\n\t\t\t\t\t\t\t\t\t\t\t\tclass="submissionWizard__reviewPanel__item"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<h4 class="submissionWizard__reviewPanel__item__header">\n\t\t\t\t\t\t\t\t\t\t\t\t\tSubjects\n\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="submissionWizard__reviewPanel__item__value">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpublication.subjects.join(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpkp.localeKeys[\'common.commaListSeparator\']\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tv-if="publication.categoryIds.length"\n\t\t\t\t\t\t\t\t\t\t\t\tclass="submissionWizard__reviewPanel__item"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<h4 class="submissionWizard__reviewPanel__item__header">\n\t\t\t\t\t\t\t\t\t\t\t\t\tCategories\n\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<ul class="submissionWizard__reviewPanel__item__value">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for="currentCategoryTitle in currentCategoryTitles"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key="currentCategoryTitle"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ currentCategoryTitle }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="submissionWizard__reviewPanel__item">\n\t\t\t\t\t\t\t\t\t\t\t\t<h4 class="submissionWizard__reviewPanel__item__header">\n\t\t\t\t\t\t\t\t\t\t\t\t\tComments for the Editor\n\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="submissionWizard__reviewPanel__item__value">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template v-if="submission.commentsForEditor">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ submission.commentsForEditor }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template v-else>No comments.</template>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</panel-section>\n\t\t\t\t\t</panel>\n\t\t\t\t</step>\n\t\t\t</steps>\n\t\t</div>\n\n\t\t<button-row class="submissionWizard__footer">\n\t\t\t<template slot="end">\n\t\t\t\t<pkp-button\n\t\t\t\t\tv-if="!isOnFirstStep"\n\t\t\t\t\t:isWarnable="true"\n\t\t\t\t\t@click="previousStep"\n\t\t\t\t>\n\t\t\t\t\tBack\n\t\t\t\t</pkp-button>\n\t\t\t\t\x3c!--\n\t\t\t\t\tLeave this v-else in so that the slot\n\t\t\t\t\tis never empty.\n\t\t\t\t--\x3e\n\t\t\t\t<span v-else></span>\n\t\t\t</template>\n\t\t\t<spinner v-if="isSaving"></spinner>\n\t\t\t<span\n\t\t\t\tv-else-if="isDisconnected"\n\t\t\t\tclass="submissionWizard__lastSaved submissionWizard__lastSaved--disconnected"\n\t\t\t>\n\t\t\t\t<spinner />\n\t\t\t\tReconnecting\n\t\t\t</span>\n\t\t\t<span v-else-if="lastSavedTimestamp" class="submissionWizard__lastSaved">\n\t\t\t\tLast saved {{ lastSavedTimestamp }}\n\t\t\t</span>\n\t\t\t<pkp-button>Save for Later</pkp-button>\n\t\t\t<pkp-button :isPrimary="true" @click="nextStep">Continue</pkp-button>\n\t\t</button-row>\n\n\t\t<div\n\t\t\taria-live="polite"\n\t\t\taria-atomic="true"\n\t\t\tclass="app__notifications"\n\t\t\tref="notifications"\n\t\t\trole="status"\n\t\t>\n\t\t\t<transition-group name="app__notification">\n\t\t\t\t<notification\n\t\t\t\t\tv-for="notification in notifications"\n\t\t\t\t\t:key="notification.key"\n\t\t\t\t\t:type="notification.type"\n\t\t\t\t\t:can-dismiss="true"\n\t\t\t\t\t@dismiss="dismissNotification(notification.key)"\n\t\t\t\t>\n\t\t\t\t\t{{ notification.message }}\n\t\t\t\t</notification>\n\t\t\t</transition-group>\n\t\t</div>\n\t\t<transition name="app__loading">\n\t\t\t<div v-if="isLoading" class="app__loading" role="alert">\n\t\t\t\t<div class="app__loading__content">\n\t\t\t\t\t<spinner></spinner>\n\t\t\t\t\tLoading\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</transition>\n\t</div>\n</template>\n\n<script>\nimport ContributorsListPanel from \'../../../../components/ListPanel/contributors/ContributorsListPanel.vue\';\nimport File from \'../../../../components/File/File.vue\';\nimport PkpForm from \'../../../../components/Form/Form.vue\';\nimport SubmissionWizardPage from \'@/components/Container/SubmissionWizardPage.vue\';\nimport SubmissionFilesListPanel from \'../../../../components/ListPanel/submissionFiles/SubmissionFilesListPanel.vue\';\nimport confirmForm from \'@/docs/components/Form/helpers/form-confirm\';\nimport categories from \'../../../data/categories\';\nimport dropzoneOptions from \'../../../data/dropzoneOptions\';\nimport forTheEditorsForm from \'@/docs/components/Form/helpers/form-for-the-editors\';\nimport genres from \'../../../data/genres\';\nimport submission from \'../../../data/submission\';\nimport submissionFiles from \'../../../data/submissionFiles\';\nimport submissionFileForm from \'@/docs/components/Form/helpers/form-submission-file\';\nimport titleAbstractForm from \'@/docs/components/Form/helpers/form-title-abstract\';\n\nexport default {\n\textends: SubmissionWizardPage,\n\tcomponents: {\n\t\tContributorsListPanel,\n\t\tFile,\n\t\tPkpForm,\n\t\tSubmissionFilesListPanel,\n\t},\n\tdata() {\n\t\t// Set up the form for the details step\n\t\tlet detailsForm = {...titleAbstractForm};\n\t\tdetailsForm.fields = detailsForm.fields.filter(\n\t\t\t(field) => ![\'prefix\', \'subtitle\'].includes(field.name)\n\t\t);\n\n\t\t// Remove save buttons from forms\n\t\t[detailsForm, confirmForm, forTheEditorsForm].forEach((form) => {\n\t\t\tdelete form.pages[0].submitButton;\n\t\t});\n\n\t\treturn {\n\t\t\tcategories: [...categories],\n\t\t\tcomponents: {\n\t\t\t\tsubmissionFiles: {\n\t\t\t\t\tform: {...submissionFileForm},\n\t\t\t\t\tgenres: [...genres],\n\t\t\t\t\titems: [...submissionFiles],\n\t\t\t\t\toptions: {...dropzoneOptions},\n\t\t\t\t},\n\t\t\t},\n\t\t\tpublication: {...submission.publications[0]},\n\t\t\tsubmission: {...submission},\n\t\t\tsteps: [\n\t\t\t\t{\n\t\t\t\t\tid: \'files-step\',\n\t\t\t\t\tname: \'Upload Files\',\n\t\t\t\t\tsections: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: \'files\',\n\t\t\t\t\t\t\tname: \'Upload Files\',\n\t\t\t\t\t\t\ttype: \'files\',\n\t\t\t\t\t\t\tdescription: `<p>\n\t\t\t\t\t\t\t\t\tProvide any files our editorial team may need to evaluate your\n\t\t\t\t\t\t\t\t\tsubmission. In addition to the main work, you may wish to\n\t\t\t\t\t\t\t\t\tsubmit data sets, conflict of interest statements, or other\n\t\t\t\t\t\t\t\t\tsupplementary files if these will be helpful for our editors.\n\t\t\t\t\t\t\t\t</p>`,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \'contributors-step\',\n\t\t\t\t\tname: \'Contributors\',\n\t\t\t\t\tsections: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: \'contributors\',\n\t\t\t\t\t\t\ttype: \'contributors\',\n\t\t\t\t\t\t\tname: \'Contributors\',\n\t\t\t\t\t\t\tdescription: `<p>\n\t\t\t\t\t\t\t\t\tAdd details for all of the contributors to this submission.\n\t\t\t\t\t\t\t\t\tContributors added here will be sent an email confirmation of\n\t\t\t\t\t\t\t\t\tthe submission, as well as a copy of all editorial decisions\n\t\t\t\t\t\t\t\t\trecorded against this submission.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tIf a contributor can not be contacted by email, for example an\n\t\t\t\t\t\t\t\t\tinstitution or an anonymous contributor, please do not enter a\n\t\t\t\t\t\t\t\t\tfake email here. You can add this information in a message to\n\t\t\t\t\t\t\t\t\tthe editor at a later step in the submissio process.\n\t\t\t\t\t\t\t\t</p>`,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \'details-step\',\n\t\t\t\t\tname: \'Details\',\n\t\t\t\t\tsections: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: \'details\',\n\t\t\t\t\t\t\ttype: \'form\',\n\t\t\t\t\t\t\tname: \'Submission Details\',\n\t\t\t\t\t\t\tdescription: `<p>\n\t\t\t\t\t\t\t\t\tPlease provide the following details to help us manage your submission in our system.\n\t\t\t\t\t\t\t\t</p>`,\n\t\t\t\t\t\t\tform: {...detailsForm},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: \'relations\',\n\t\t\t\t\t\t\ttype: \'form\',\n\t\t\t\t\t\t\tname: \'Preprint Status\',\n\t\t\t\t\t\t\tdescription: `<p>\n\t\t\t\t\t\t\t\t\tLet us know if this preprint has been accepted or published elsewhere.\n\t\t\t\t\t\t\t\t</p>`,\n\t\t\t\t\t\t\tform: {\n\t\t\t\t\t\t\t\t...detailsForm,\n\t\t\t\t\t\t\t\tid: \'relations\',\n\t\t\t\t\t\t\t\taction: \'/example/submissions/1\',\n\t\t\t\t\t\t\t\tfields: [...detailsForm.fields.slice(0, 1)],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \'editors-step\',\n\t\t\t\t\tname: \'For the Editors\',\n\t\t\t\t\tsections: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: \'editors\',\n\t\t\t\t\t\t\ttype: \'form\',\n\t\t\t\t\t\t\tname: \'For the Editors\',\n\t\t\t\t\t\t\tdescription: `<p>\n\t\t\t\t\t\t\t\t\tPlease provide the following details in order to help our editorial team manage your submission.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tWhen entering metdata such as keywords, provide entries that you think would be most helpful to the person managing your submission. If your submission is accepted, this information can be changed before publication.\n\t\t\t\t\t\t\t\t</p>`,\n\t\t\t\t\t\t\tform: {...forTheEditorsForm},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \'review-step\',\n\t\t\t\t\tname: \'Review\',\n\t\t\t\t\tsections: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: \'review\',\n\t\t\t\t\t\t\ttype: \'review\',\n\t\t\t\t\t\t\tname: \'Review and Submit\',\n\t\t\t\t\t\t\tdescription: `<p>\n\t\t\t\t\t\t\t\t\tReview the information you have entered before you complete\n\t\t\t\t\t\t\t\t\tyour submission. You can change any of the details displayed\n\t\t\t\t\t\t\t\t\there by clicking the edit button at the top of each section.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tOnce you complete your submission, a member of our editorial\n\t\t\t\t\t\t\t\t\tteam will be assigned to review it. Please ensure the details\n\t\t\t\t\t\t\t\t\tyou have entered here are as accurate as possible.\n\t\t\t\t\t\t\t\t</p>`,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: \'confirm\',\n\t\t\t\t\t\t\ttype: \'form\',\n\t\t\t\t\t\t\tname: \'Confirmation\',\n\t\t\t\t\t\t\tdescription: `<p>Please confirm the following before you submit.</p>`,\n\t\t\t\t\t\t\tform: {...confirmForm},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t},\n};\n<\/script>\n\n<style lang="less">\n@import \'../../../../styles/_import\';\n\n.component--SubmissionWizardPage .component__exampleWrapper {\n\tbackground: @bg;\n\tmax-width: 100%; // Let the page class define the width\n}\n</style>\n',AE="## Data\n\n| Key | Description |\n| --- | --- |\n| `...` |... |\n\n## Usage\n\nThe `SubmissionWizardPage` extends the [`Container`](/#/pages/container) app. Use this app to show the submission wizard.\n\n## Template\n\nThe `SubmissionWizardPage` app is a template-less component. You must write the template in Smarty on the server-side and it will be compiled at run time.\n\nThe example here provides a sample template.\n",IE={extends:H,data(){return{name:"SubmissionWizardPage",readme:AE,examples:[{component:LE,name:"Base",template:this.extractTemplate(CE)}]}}},DE=IE,EE=(0,T.Z)(DE,lE,rE,!1,null,null,null),RE=EE.exports,BE=function(){var t=this,e=t._self._c;return e("spinner")},UE=[],OE={},ME=(0,T.Z)(OE,BE,UE,!1,null,null,null),$E=ME.exports,NE="<template>\n\t<spinner />\n</template>\n",jE='## Props\n\nThis component does not have any props.\n\n## Events\n\nThis component does not emit any events.\n\n## Usage\n\nUse this component to display a loading animation when the user is waiting for a request to finish.\n\nWhen the DOM changes, there must be some way for a screen reader to receive that information. Usually, this requires the use of the `aria-live` attribute.\n\nThe following sections describe typical use-cases and how updates should be reported for each case.\n\n### Updating a list\n\nA `Spinner` may be used when a list is being searched, filtered or moved to the next page. When the request is finished the list is updated with a different set of items.\n\nIn this case, the list should use the `aria-live` attribute to ensure that changes to the list are reported to a screen reader when the request is finished.\n\nIf the request was not initiated at the user\'s direction, the loading status must be indicated when the request begins so that the user knows what is happening.\n\n### Editing an item\n\nA `Spinner` may be used when an edit action is being completed. When the request is finished the item details will change.\n\nIn this case, the item should use the `aria-live` attribute to ensure that the changes are reported to a screen reader when the request is finished.\n\nIf the item is in a list with the `aria-live` attribute, the item itself does not need to be wrapped in a `aria-live` attribute.\n\n### Deleting an item\n\nA `Spinner` may be used when something is being deleted. When the request is finished the item will be removed from view.\n\nIn this case, the item should exist within an element that includes the `aria-live` attribute (such as a list).\n\nIf the deleted item is not within an element that includes the `aria-live` attribute, the deletion should be reported in some part of the UI that includes an `aria-live` attribute to ensure that the request success is accessible to a screen reader.\n\n### Loading something\n\nA `Spinner` may be used when some part of the UI is being loaded for the first time. When the request is finished, an "empty" area of the UI will be filled with content.\n\nIn this case, the spinner should be accompanied by text which describes what is loading, such as "Loading submissions".\n\nThe parent element should be have an `aria-live` attribute to ensure that the updates are reported to a screen reader when the request is finished.',qE={extends:H,data(){return{name:"Spinner",readme:jE,examples:[{component:$E,name:"Base",template:this.extractTemplate(NE)}]}}},WE=qE,VE=(0,T.Z)(WE,oE,dE,!1,null,null,null),KE=VE.exports,zE=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpStats"},[e("h1",{staticClass:"-screenReader"},[t._v("Editorial Activity")]),t.activeByStage?e("div",{staticClass:"pkpStats__graph"},[e("div",{staticClass:"pkpStats--editorial__stageWrapper -pkpClearfix"},[e("div",{staticClass:"pkpStats--editorial__stageChartWrapper"},[e("doughnut-chart",{attrs:{"chart-data":t.chartData}})],1),e("div",{staticClass:"pkpStats--editorial__stageList"},[e("h2",{staticClass:"pkpStats--editorial__stage pkpStats--editorial__stage--total"},[e("span",{staticClass:"pkpStats--editorial__stageCount"},[t._v(" "+t._s(t.totalActive)+" ")]),e("span",{staticClass:"pkpStats--editorial__stageLabel"},[t._v(" Active Submissions ")])]),t._l(t.activeByStage,(function(n){return e("div",{key:n.name,staticClass:"pkpStats--editorial__stage"},[e("span",{staticClass:"pkpStats--editorial__stageCount"},[t._v(" "+t._s(n.count)+" ")]),e("span",{staticClass:"pkpStats--editorial__stageLabel"},[t._v(" "+t._s(n.name)+" ")])])}))],2)])]):t._e(),e("pkp-header",[e("h1",{attrs:{id:"editorialActivityTabelLabel"}},[t._v(" Trends "),t.isLoading?e("span",{staticClass:"pkpSpinner",attrs:{"aria-hidden":"true"}}):t._e()]),e("template",{slot:"actions"},[e("date-range",{attrs:{slot:"thead-dateRange","unique-id":"editorial-stats-date-range","date-start":t.dateStart,"date-end":t.dateEnd,"date-end-max":t.dateEndMax,options:t.dateRangeOptions,dateRangeLabel:"Date Range",dateFormatInstructionsLabel:"Enter each date in the format YYYY-MM-DD. For example, if you want the date for 15 January, 2019, enter 2019-01-15.",changeDateRangeLabel:"Change date range",sinceDateLabel:"Since {$date}",untilDateLabel:"Until {$date}",allDatesLabel:"All dates",customRangeLabel:"Custom Range",fromDateLabel:"From",toDateLabel:"To",applyLabel:"Apply",invalidDateLabel:"The date format is not valid. Enter each date in the format YYYY-MM-DD.",dateDoesNotExistLabel:"One of the dates entered does not exist.",invalidDateRangeLabel:"The start date must be before the end date.",invalidStartDateMinLabel:"The start date may not be earlier than {$date}.",invalidEndDateMaxLabel:"The end date may not be later than {$date}."},on:{"set-range":t.setDateRange,"updated:current-range":t.setCurrentDateRange},slot:"thead-dateRange"}),t.filters.length?e("pkp-button",{attrs:{"is-active":t.isSidebarVisible},on:{click:t.toggleSidebar}},[e("icon",{attrs:{icon:"filter",inline:!0}}),t._v(" "+t._s(t.__("common.filter"))+" ")],1):t._e()],1)],2),e("div",{staticClass:"pkpStats__container -pkpClearfix"},[t.filters.length?e("div",{ref:"sidebar",staticClass:"pkpStats__sidebar",class:t.sidebarClasses},t._l(t.filters,(function(n,i){return e("div",{key:i,staticClass:"pkpStats__filterSet"},[n.heading?e("pkp-header",[e("h2",[t._v(t._s(n.heading))])]):t._e(),t._l(n.filters,(function(n){return e("pkp-filter",t._b({key:n.param+n.value,attrs:{"is-filter-active":t.isFilterActive(n.param,n.value)},on:{"add-filter":t.addFilter,"remove-filter":t.removeFilter}},"pkp-filter",n,!1))}))],2)})),0):t._e(),e("div",{staticClass:"pkpStats__content"},[e("div",{staticClass:"pkpStats__table",attrs:{role:"region","aria-live":"polite"}},[e("pkp-table",{staticClass:"pkpTable--editorialStats",attrs:{"labelled-by":"editorialActivityTabelLabel",columns:t.tableColumns,rows:t.tableRows},scopedSlots:t._u([{key:"default",fn:function({row:n,rowIndex:i}){return t._l(t.tableColumns,(function(s,a){return e("table-cell",{key:s.name,attrs:{column:s,row:n,tabindex:i||a?-1:0}},["name"===s.name?[t._v(" "+t._s(n.name)+" "),n.description?e("tooltip",{attrs:{label:"Description for "+n.name,tooltip:n.description}}):t._e()]:t._e()],2)}))}}])})],1)])])],1)},HE=[],ZE={name:"StatsPage",extends:ho,mixins:[Dn],components:{DateRange:gc,PkpFilter:Ul,Pagination:Jt,PkpHeader:jt,PkpTable:Hm,TableCell:Wm},data(){return{apiUrl:"",tableColumns:[],dateStart:"",dateEnd:"",dateEndMax:"",dateRangeOptions:[],filters:[],activeFilters:{},isSidebarVisible:!1,isLoadingItems:!1,itemsOfTotalLabel:"",latestItemsGetRequest:""}},computed:{sidebarClasses(){let t=[];return this.isSidebarVisible&&t.push("-isVisible"),t},tableClasses(){let t=[];return this.isLoadingItems&&t.push("-isLoading"),t}},methods:{isFilterActive:function(t,e){return!!Object.keys(this.activeFilters).includes(t)&&(Array.isArray(this.activeFilters[t])?this.activeFilters[t].includes(e):this.activeFilters[t]===e)},setDateRange(t,e){this.dateStart=t,this.dateEnd=e},toggleSidebar(){this.isSidebarVisible=!this.isSidebarVisible,this.isSidebarVisible||(this.activeFilters={},this.get())},addFilter:function(t,e){if(this.isFilterActive(t,e))return;let n={...this.activeFilters};void 0===n[t]&&(n[t]=[]),n[t].push(e),this.activeFilters=n,this.get()},removeFilter:function(t,e){if(void 0===this.activeFilters[t])return;let n={...this.activeFilters};n[t]=n[t].filter((t=>t!==e)),this.activeFilters=n,this.get()},getDaysBetween(t,e){const n=864e5;return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),(e-t)/n},setSidebarFocus(){if(!this.$refs.sidebar)return;const t=this.isSidebarVisible?0:-1;this.$refs.sidebar.querySelectorAll("button, [href], input, select, textarea").forEach((e=>e.tabIndex=t))}},watch:{activeFilters(t,e){t!==e&&(this.offset=0,this.get())},dateEnd(t,e){t!==e&&(this.offset=0,this.get())},dateStart(t,e){t!==e&&(this.offset=0,this.get())},isSidebarVisible(t,e){t!==e&&(this.setSidebarFocus(),t&&this.$nextTick((()=>{t&&Object.keys(this.$refs).includes("sidebar")&&this.setFocusIn(this.$refs.sidebar)})))}},mounted(){this.setSidebarFocus()}},GE=ZE,YE=(0,T.Z)(GE,pE,cE,!1,null,null,null),JE=YE.exports,XE={name:"StatsEditorialPage",extends:JE,components:{DoughnutChart:kd,Tooltip:Ge},data(){return{activeByStage:[],averages:{},averagesApiUrl:"",isLoading:!1,percentageStats:[],tableRows:[]}},computed:{chartData(){return this.activeByStage.length?{labels:this.activeByStage.map((t=>t.name)),datasets:[{data:this.activeByStage.map((t=>t.count)),backgroundColor:this.activeByStage.map((t=>t.color))}]}:null},getParams(){let t={...this.activeFilters};return this.dateStart&&(t.dateStart=this.dateStart),this.dateEnd&&(t.dateEnd=this.dateEnd),t},totalActive(){return this.activeByStage.reduce(((t,e)=>t+e.count),0)}},methods:{get:Rn()((async function(){let t=this,e=$.pkp.classes.Helper.uuid(),n=$.pkp.classes.Helper.uuid(),i=$.pkp.classes.Helper.uuid();this.isLoading=!0;let s=[],a=[],l={};const r=function(t){this.response=t},o=new Promise(((n,i)=>$.ajax({url:this.apiUrl,type:"GET",data:this.getParams,_uuid:e,error(n){e===this._uuid&&(t.ajaxErrorCallback(n),i(new r(n)))},success(t){e===this._uuid&&(s=t,n(t))}})));let d={...this.getParams};delete d["dateStart"],delete d["dateEnd"];const p=new Promise(((e,i)=>$.ajax({url:this.apiUrl,type:"GET",data:d,_uuid:n,error(e){n===this._uuid&&(t.ajaxErrorCallback(e),i(new r(e)))},success(t){n===this._uuid&&(a=t,e(t))}}))),c=new Promise(((e,n)=>$.ajax({url:this.averagesApiUrl,type:"GET",data:this.getParams,_uuid:i,error(e){i===this._uuid&&(t.ajaxErrorCallback(e),n(new r(e)))},success(t){i===this._uuid&&(l=t,e(t))}})));try{await Promise.all([o,p,c]);let t=this.tableRows.map((t=>{const e=s.find((e=>e.key===t.key)),n=a.find((e=>e.key===t.key));return this.percentageStats.includes(t.key)?(t.dateRange=Number(100*e.value).toFixed(0)+"%",t.total=Number(100*n.value).toFixed(0)+"%"):(t.dateRange=e.value,t.total=n.value),l.hasOwnProperty(t.key)&&l[t.key]>-1&&n.value>0&&(t.total=this.__("stats.countWithYearlyAverage",{count:t.total,average:l[t.key]})),t}));this.tableRows=[],this.tableRows=t,this.isLoading=!1}catch(u){if(!(u instanceof r))throw u}finally{this.isLoading=!1}}),0),setCurrentDateRange(t){this.tableColumns[1].label=t}}},QE=XE,tR=(0,T.Z)(QE,uE,mE,!1,null,null,null),eR=tR.exports,nR={extends:eR,data:function(){const t=new Date((new Date).setDate((new Date).getDate()-1)),e=new Date;return e.setDate(t.getDate()-30),{apiUrl:"/api/v1/stats/publications",activeByStage:[{color:"#d00a0a",count:4,name:"Submission"},{color:"#e05c14",count:27,name:"Review"},{color:"#006798",count:8,name:"Copyediting"},{color:"#00b28d",count:4,name:"Production"}],dateStart:"2019-04-01",dateEnd:"2019-05-01",dateEndMax:t.toISOString().split("T")[0],dateRangeOptions:[{dateStart:"2019-01-31",dateEnd:"2019-05-01",label:"Last 90 days"},{dateStart:"2018-01-12",dateEnd:"2018-12-31",label:"Last year"},{dateStart:"2017-01-12",dateEnd:"2018-12-31",label:"Last two years"}],filters:[{heading:"Sections",filters:[{title:"Articles",param:"sectionIds",value:1},{title:"Reviews",param:"sectionIds",value:2},{title:"Editorials",param:"sectionIds",value:3},{title:"Epäjärjestelmällistyttämättömyydelläänsäkäänköhän",param:"sectionIds",value:4}]}],itemsOfTotalLabel:"{$count} of {$total} articles",percentageStats:["acceptanceRate","declineRate","declinedDeskRate","declinedReviewRate"],tableColumns:[{name:"name",label:"Name",value:"name"},{name:"dateRange",label:"2019-10-10 — 2019-12-10",value:"dateRange"},{name:"total",label:"Total",value:"total"}],tableRows:[{key:"submissionsReceived",name:"Submissions Received",dateRange:12,total:164},{key:"submissionsAccepted",name:"Submissions Accepted",dateRange:3,total:75},{key:"submissionsDeclined",name:"Submissions Declined",dateRange:4,total:79},{key:"submissionsDeclinedDeskReject",name:"Submissions Declined (Desk Reject)",dateRange:3,total:14},{key:"submissionsDeclinedPostReview",name:"Submissions Declined (After Review)",dateRange:1,total:65},{key:"submissionsPublished",name:"Submissions Published",dateRange:0,total:66},{key:"daysToDecision",name:"Days to First Editorial Decision",dateRange:29,total:14},{key:"daysToAccept",name:"Days to Accept",dateRange:82,total:63},{key:"daysToReject",name:"Days to Reject",dateRange:87,total:92},{key:"acceptanceRate",name:"Acceptance Rate",dateRange:"42%",total:"49%"},{key:"declineRate",name:"Rejection Rate",dateRange:"58%",total:"51%"},{key:"declinedDeskRate",name:"Desk Reject Rate",dateRange:"72%",total:"9%"},{key:"declinedReviewRate",name:"After Review Reject Rate",dateRange:"49%",total:"42%"}]}},methods:{get:Rn()((function(){this.isLoading=!0,setTimeout((()=>{this.isLoading=!1}),2e3)}))}},iR=nR,sR=(0,T.Z)(iR,zE,HE,!1,null,null,null),aR=sR.exports,lR="<template>\n\t<div class=\"pkpStats\">\n\t\t<h1 class=\"-screenReader\">Editorial Activity</h1>\n\t\t<div v-if=\"activeByStage\" class=\"pkpStats__graph\">\n\t\t\t<div class=\"pkpStats--editorial__stageWrapper -pkpClearfix\">\n\t\t\t\t<div class=\"pkpStats--editorial__stageChartWrapper\">\n\t\t\t\t\t<doughnut-chart :chart-data=\"chartData\"></doughnut-chart>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"pkpStats--editorial__stageList\">\n\t\t\t\t\t<h2\n\t\t\t\t\t\tclass=\"pkpStats--editorial__stage pkpStats--editorial__stage--total\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span class=\"pkpStats--editorial__stageCount\">\n\t\t\t\t\t\t\t{{ totalActive }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"pkpStats--editorial__stageLabel\">\n\t\t\t\t\t\t\tActive Submissions\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</h2>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-for=\"stage in activeByStage\"\n\t\t\t\t\t\t:key=\"stage.name\"\n\t\t\t\t\t\tclass=\"pkpStats--editorial__stage\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span class=\"pkpStats--editorial__stageCount\">\n\t\t\t\t\t\t\t{{ stage.count }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"pkpStats--editorial__stageLabel\">\n\t\t\t\t\t\t\t{{ stage.name }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<pkp-header>\n\t\t\t<h1 id=\"editorialActivityTabelLabel\">\n\t\t\t\tTrends\n\t\t\t\t<span v-if=\"isLoading\" class=\"pkpSpinner\" aria-hidden=\"true\"></span>\n\t\t\t</h1>\n\t\t\t<template slot=\"actions\">\n\t\t\t\t<date-range\n\t\t\t\t\tslot=\"thead-dateRange\"\n\t\t\t\t\tunique-id=\"editorial-stats-date-range\"\n\t\t\t\t\t:date-start=\"dateStart\"\n\t\t\t\t\t:date-end=\"dateEnd\"\n\t\t\t\t\t:date-end-max=\"dateEndMax\"\n\t\t\t\t\t:options=\"dateRangeOptions\"\n\t\t\t\t\tdateRangeLabel=\"Date Range\"\n\t\t\t\t\tdateFormatInstructionsLabel=\"Enter each date in the format YYYY-MM-DD. For example, if you want the date for 15 January, 2019, enter 2019-01-15.\"\n\t\t\t\t\tchangeDateRangeLabel=\"Change date range\"\n\t\t\t\t\tsinceDateLabel=\"Since {$date}\"\n\t\t\t\t\tuntilDateLabel=\"Until {$date}\"\n\t\t\t\t\tallDatesLabel=\"All dates\"\n\t\t\t\t\tcustomRangeLabel=\"Custom Range\"\n\t\t\t\t\tfromDateLabel=\"From\"\n\t\t\t\t\ttoDateLabel=\"To\"\n\t\t\t\t\tapplyLabel=\"Apply\"\n\t\t\t\t\tinvalidDateLabel=\"The date format is not valid. Enter each date in the format YYYY-MM-DD.\"\n\t\t\t\t\tdateDoesNotExistLabel=\"One of the dates entered does not exist.\"\n\t\t\t\t\tinvalidDateRangeLabel=\"The start date must be before the end date.\"\n\t\t\t\t\tinvalidStartDateMinLabel=\"The start date may not be earlier than {$date}.\"\n\t\t\t\t\tinvalidEndDateMaxLabel=\"The end date may not be later than {$date}.\"\n\t\t\t\t\t@set-range=\"setDateRange\"\n\t\t\t\t\t@updated:current-range=\"setCurrentDateRange\"\n\t\t\t\t></date-range>\n\t\t\t\t<pkp-button\n\t\t\t\t\tv-if=\"filters.length\"\n\t\t\t\t\t:is-active=\"isSidebarVisible\"\n\t\t\t\t\t@click=\"toggleSidebar\"\n\t\t\t\t>\n\t\t\t\t\t<icon icon=\"filter\" :inline=\"true\" />\n\t\t\t\t\t{{ __('common.filter') }}\n\t\t\t\t</pkp-button>\n\t\t\t</template>\n\t\t</pkp-header>\n\t\t<div class=\"pkpStats__container -pkpClearfix\">\n\t\t\t\x3c!-- Filters in the sidebar --\x3e\n\t\t\t<div\n\t\t\t\tv-if=\"filters.length\"\n\t\t\t\tref=\"sidebar\"\n\t\t\t\tclass=\"pkpStats__sidebar\"\n\t\t\t\t:class=\"sidebarClasses\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"(filterSet, index) in filters\"\n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\tclass=\"pkpStats__filterSet\"\n\t\t\t\t>\n\t\t\t\t\t<pkp-header v-if=\"filterSet.heading\">\n\t\t\t\t\t\t<h2>{{ filterSet.heading }}</h2>\n\t\t\t\t\t</pkp-header>\n\t\t\t\t\t<pkp-filter\n\t\t\t\t\t\tv-for=\"filter in filterSet.filters\"\n\t\t\t\t\t\t:key=\"filter.param + filter.value\"\n\t\t\t\t\t\tv-bind=\"filter\"\n\t\t\t\t\t\t:is-filter-active=\"isFilterActive(filter.param, filter.value)\"\n\t\t\t\t\t\t@add-filter=\"addFilter\"\n\t\t\t\t\t\t@remove-filter=\"removeFilter\"\n\t\t\t\t\t></pkp-filter>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"pkpStats__content\">\n\t\t\t\t<div class=\"pkpStats__table\" role=\"region\" aria-live=\"polite\">\n\t\t\t\t\t<pkp-table\n\t\t\t\t\t\tclass=\"pkpTable--editorialStats\"\n\t\t\t\t\t\tlabelled-by=\"editorialActivityTabelLabel\"\n\t\t\t\t\t\t:columns=\"tableColumns\"\n\t\t\t\t\t\t:rows=\"tableRows\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template slot-scope=\"{row, rowIndex}\">\n\t\t\t\t\t\t\t<table-cell\n\t\t\t\t\t\t\t\tv-for=\"(column, columnIndex) in tableColumns\"\n\t\t\t\t\t\t\t\t:key=\"column.name\"\n\t\t\t\t\t\t\t\t:column=\"column\"\n\t\t\t\t\t\t\t\t:row=\"row\"\n\t\t\t\t\t\t\t\t:tabindex=\"!rowIndex && !columnIndex ? 0 : -1\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<template v-if=\"column.name === 'name'\">\n\t\t\t\t\t\t\t\t\t{{ row.name }}\n\t\t\t\t\t\t\t\t\t<tooltip\n\t\t\t\t\t\t\t\t\t\tv-if=\"row.description\"\n\t\t\t\t\t\t\t\t\t\t:label=\"'Description for ' + row.name\"\n\t\t\t\t\t\t\t\t\t\t:tooltip=\"row.description\"\n\t\t\t\t\t\t\t\t\t></tooltip>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</table-cell>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</pkp-table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport StatsEditorialPage from '@/components/Container/StatsEditorialPage.vue';\nimport debounce from 'debounce';\n\nexport default {\n\textends: StatsEditorialPage,\n\tdata: function () {\n\t\tconst dateEndMax = new Date(new Date().setDate(new Date().getDate() - 1));\n\t\tconst startDate = new Date();\n\t\tstartDate.setDate(dateEndMax.getDate() - 30);\n\t\treturn {\n\t\t\tapiUrl: '/api/v1/stats/publications',\n\t\t\tactiveByStage: [\n\t\t\t\t{\n\t\t\t\t\tcolor: '#d00a0a',\n\t\t\t\t\tcount: 4,\n\t\t\t\t\tname: 'Submission',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcolor: '#e05c14',\n\t\t\t\t\tcount: 27,\n\t\t\t\t\tname: 'Review',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcolor: '#006798',\n\t\t\t\t\tcount: 8,\n\t\t\t\t\tname: 'Copyediting',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcolor: '#00b28d',\n\t\t\t\t\tcount: 4,\n\t\t\t\t\tname: 'Production',\n\t\t\t\t},\n\t\t\t],\n\t\t\tdateStart: '2019-04-01',\n\t\t\tdateEnd: '2019-05-01',\n\t\t\tdateEndMax: dateEndMax.toISOString().split('T')[0],\n\t\t\tdateRangeOptions: [\n\t\t\t\t{\n\t\t\t\t\tdateStart: '2019-01-31',\n\t\t\t\t\tdateEnd: '2019-05-01',\n\t\t\t\t\tlabel: 'Last 90 days',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdateStart: '2018-01-12',\n\t\t\t\t\tdateEnd: '2018-12-31',\n\t\t\t\t\tlabel: 'Last year',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdateStart: '2017-01-12',\n\t\t\t\t\tdateEnd: '2018-12-31',\n\t\t\t\t\tlabel: 'Last two years',\n\t\t\t\t},\n\t\t\t],\n\t\t\tfilters: [\n\t\t\t\t{\n\t\t\t\t\theading: 'Sections',\n\t\t\t\t\tfilters: [\n\t\t\t\t\t\t{title: 'Articles', param: 'sectionIds', value: 1},\n\t\t\t\t\t\t{title: 'Reviews', param: 'sectionIds', value: 2},\n\t\t\t\t\t\t{title: 'Editorials', param: 'sectionIds', value: 3},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Epäjärjestelmällistyttämättömyydelläänsäkäänköhän',\n\t\t\t\t\t\t\tparam: 'sectionIds',\n\t\t\t\t\t\t\tvalue: 4,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t],\n\t\t\titemsOfTotalLabel: '{$count} of {$total} articles',\n\t\t\tpercentageStats: [\n\t\t\t\t'acceptanceRate',\n\t\t\t\t'declineRate',\n\t\t\t\t'declinedDeskRate',\n\t\t\t\t'declinedReviewRate',\n\t\t\t],\n\t\t\ttableColumns: [\n\t\t\t\t{\n\t\t\t\t\tname: 'name',\n\t\t\t\t\tlabel: 'Name',\n\t\t\t\t\tvalue: 'name',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'dateRange',\n\t\t\t\t\tlabel: '2019-10-10 — 2019-12-10',\n\t\t\t\t\tvalue: 'dateRange',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'total',\n\t\t\t\t\tlabel: 'Total',\n\t\t\t\t\tvalue: 'total',\n\t\t\t\t},\n\t\t\t],\n\t\t\ttableRows: [\n\t\t\t\t{\n\t\t\t\t\tkey: 'submissionsReceived',\n\t\t\t\t\tname: 'Submissions Received',\n\t\t\t\t\tdateRange: 12,\n\t\t\t\t\ttotal: 164,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'submissionsAccepted',\n\t\t\t\t\tname: 'Submissions Accepted',\n\t\t\t\t\tdateRange: 3,\n\t\t\t\t\ttotal: 75,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'submissionsDeclined',\n\t\t\t\t\tname: 'Submissions Declined',\n\t\t\t\t\tdateRange: 4,\n\t\t\t\t\ttotal: 79,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'submissionsDeclinedDeskReject',\n\t\t\t\t\tname: 'Submissions Declined (Desk Reject)',\n\t\t\t\t\tdateRange: 3,\n\t\t\t\t\ttotal: 14,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'submissionsDeclinedPostReview',\n\t\t\t\t\tname: 'Submissions Declined (After Review)',\n\t\t\t\t\tdateRange: 1,\n\t\t\t\t\ttotal: 65,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'submissionsPublished',\n\t\t\t\t\tname: 'Submissions Published',\n\t\t\t\t\tdateRange: 0,\n\t\t\t\t\ttotal: 66,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'daysToDecision',\n\t\t\t\t\tname: 'Days to First Editorial Decision',\n\t\t\t\t\tdateRange: 29,\n\t\t\t\t\ttotal: 14,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'daysToAccept',\n\t\t\t\t\tname: 'Days to Accept',\n\t\t\t\t\tdateRange: 82,\n\t\t\t\t\ttotal: 63,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'daysToReject',\n\t\t\t\t\tname: 'Days to Reject',\n\t\t\t\t\tdateRange: 87,\n\t\t\t\t\ttotal: 92,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'acceptanceRate',\n\t\t\t\t\tname: 'Acceptance Rate',\n\t\t\t\t\tdateRange: '42%',\n\t\t\t\t\ttotal: '49%',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'declineRate',\n\t\t\t\t\tname: 'Rejection Rate',\n\t\t\t\t\tdateRange: '58%',\n\t\t\t\t\ttotal: '51%',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'declinedDeskRate',\n\t\t\t\t\tname: 'Desk Reject Rate',\n\t\t\t\t\tdateRange: '72%',\n\t\t\t\t\ttotal: '9%',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'declinedReviewRate',\n\t\t\t\t\tname: 'After Review Reject Rate',\n\t\t\t\t\tdateRange: '49%',\n\t\t\t\t\ttotal: '42%',\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t},\n\tmethods: {\n\t\t/**\n\t\t * Mock requests to the API\n\t\t */\n\t\tget: debounce(function () {\n\t\t\tthis.isLoading = true;\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.isLoading = false;\n\t\t\t}, 2000);\n\t\t}),\n\t},\n};\n<\/script>\n",rR=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpStats"},[e("pkp-header",[e("h1",[t._v("Articles")]),t.isLoadingTimeline?e("spinner"):t._e(),e("template",{slot:"actions"},[e("date-range",{attrs:{"unique-id":"publication-stats-date-range","date-start":t.dateStart,"date-end":t.dateEnd,"date-end-max":t.dateEndMax,options:t.dateRangeOptions,dateRangeLabel:"Date Range",dateFormatInstructionsLabel:"Enter each date in the format YYYY-MM-DD. For example, if you want the date for 15 January, 2019, enter 2019-01-15.",changeDateRangeLabel:"Change date range",sinceDateLabel:"Since {$date}",untilDateLabel:"Until {$date}",allDatesLabel:"All dates",customRangeLabel:"Custom Range",fromDateLabel:"From",toDateLabel:"To",applyLabel:"Apply",invalidDateLabel:"The date format is not valid. Enter each date in the format YYYY-MM-DD.",dateDoesNotExistLabel:"One of the dates entered does not exist.",invalidDateRangeLabel:"The start date must be before the end date.",invalidStartDateMinLabel:"The start date may not be earlier than {$date}.",invalidEndDateMaxLabel:"The end date may not be later than {$date}."},on:{"set-range":t.setDateRange}}),t.filters.length?e("pkp-button",{attrs:{"is-active":t.isSidebarVisible},on:{click:t.toggleSidebar}},[e("icon",{attrs:{icon:"filter",inline:!0}}),t._v(" "+t._s(t.__("common.filter"))+" ")],1):t._e()],1)],2),e("div",{staticClass:"pkpStats__container -pkpClearfix"},[t.filters.length?e("div",{ref:"sidebar",staticClass:"pkpStats__sidebar",class:t.sidebarClasses},[e("pkp-header",{staticClass:"pkpStats__sidebarHeader",attrs:{tabindex:t.isSidebarVisible?0:-1}},[e("h2",[e("icon",{attrs:{icon:"filter",inline:!0}}),t._v(" "+t._s(t.__("common.filter"))+" ")],1)]),t._l(t.filters,(function(n,i){return e("div",{key:i,staticClass:"pkpStats__filterSet"},[n.heading?e("pkp-header",[e("h3",[t._v(t._s(n.heading))])]):t._e(),t._l(n.filters,(function(n){return e("pkp-filter",t._b({key:n.param+n.value,attrs:{isFilterActive:t.isFilterActive(n.param,n.value)},on:{"add-filter":t.addFilter,"remove-filter":t.removeFilter}},"pkp-filter",n,!1))}))],2)}))],2):t._e(),e("div",{staticClass:"pkpStats__content"},[t.chartData?e("div",{staticClass:"pkpStats__graph"},[e("div",{staticClass:"pkpStats__graphHeader"},[e("h2",{staticClass:"pkpStats__graphTitle -screenReader",attrs:{id:"publication-stats-graph-title"}},[t._v(" Views ")]),e("div",{staticClass:"pkpStats__graphSelectors"},[e("div",{staticClass:"pkpStats__graphSelector pkpStats__graphSelector--timelineType"},[e("pkp-button",{attrs:{"aria-pressed":"abstract"===t.timelineType,"aria-describedby":"publication-stats-graph-title"},on:{click:function(e){return t.setTimelineType("abstract")}}},[t._v(" Abstracts ")]),e("pkp-button",{attrs:{"aria-pressed":"galley"===t.timelineType,"aria-describedby":"publication-stats-graph-title"},on:{click:function(e){return t.setTimelineType("galley")}}},[t._v(" Files ")])],1),e("div",{staticClass:"pkpStats__graphSelector pkpStats__graphSelector--timelineInterval"},[e("pkp-button",{attrs:{"aria-pressed":"day"===t.timelineInterval,"aria-describedby":"publication-stats-graph-title",disabled:!t.isDailyIntervalEnabled},on:{click:function(e){return t.setTimelineInterval("day")}}},[t._v(" Daily ")]),e("pkp-button",{attrs:{"aria-pressed":"month"===t.timelineInterval,"aria-describedby":"publication-stats-graph-title",disabled:!t.isMonthlyIntervalEnabled},on:{click:function(e){return t.setTimelineInterval("month")}}},[t._v(" Monthly ")])],1)])]),e("table",{staticClass:"-screenReader",attrs:{role:"region","aria-live":"polite"}},["galley"===t.timelineType?e("caption",[t._v(" Total galley views for articles by month ")]):e("caption",[t._v("Total abstract views for articles by month")]),t._m(0),e("tbody",t._l(t.timeline,(function(n){return e("tr",{key:n.date},[e("th",{attrs:{scope:"row"}},[t._v(t._s(n.label))]),e("td",[t._v(t._s(n.value))])])})),0)]),e("line-chart",{attrs:{chartData:t.chartData,"aria-hidden":"true"}}),t.isLoadingTimeline?e("span",{staticClass:"pkpStats__loadingCover"},[e("spinner")],1):t._e()],1):t._e(),e("div",{staticClass:"pkpStats__table",attrs:{role:"region","aria-live":"polite"}},[e("pkp-header",[e("h2",{staticClass:"pkpStats__tableTitle",attrs:{id:"articleDetailTableLabel"}},[t._v(" Article Details "),t.isLoadingItems?e("spinner"):t._e()],1),e("template",{slot:"actions"},[e("div",{staticClass:"pkpStats__itemsOfTotal"},[t._v(" "+t._s(t.replaceLocaleParams(t.itemsOfTotalLabel,{count:t.items.length,total:t.itemsMax}))+" "),t.items.length<t.itemsMax?e("a",{staticClass:"-screenReader",attrs:{href:"#articleDetailTablePagination"}},[t._v(" View additional pages ")]):t._e()])])],2),e("pkp-table",{class:t.tableClasses,attrs:{"labelled-by":"articleDetailTableLabel",columns:t.tableColumns,rows:t.items,"order-by":t.orderBy,"order-direction":t.orderDirection},on:{"order-by":t.setOrderBy}},[e("search",{staticClass:"pkpStats__titleSearch",attrs:{slot:"thead-title","search-phrase":t.searchPhrase,"search-label":"Search by title, author and ID"},on:{"search-phrase-changed":t.setSearchPhrase},slot:"thead-title"})],1),t.items.length?t._e():e("div",{staticClass:"pkpStats__noRecords"},[t.isLoadingItems?[e("spinner"),t._v(" Loading ")]:[t._v(" No articles were found with usage statistics matching these parameters. ")]],2),t.lastPage>1?e("pagination",{attrs:{id:"articleDetailTablePagination","current-page":t.currentPage,"is-loading":t.isLoadingItems,"last-page":t.lastPage},on:{"set-page":t.setPage}}):t._e()],1)])])],1)},oR=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Date")]),e("th",{attrs:{scope:"col"}},[t._v("Abstract Views")])])])}],dR={name:"StatsPublicationsPage",extends:JE,components:{ActionPanel:tt,LineChart:pd,Search:Ui,List:ur,ListItem:vr,Modal:ot,Tooltip:Ge},data(){return{count:30,items:[],itemsMax:0,offset:0,searchPhrase:"",timeline:[],timelineInterval:"",timelineType:"",orderBy:"",orderDirection:!1,isLoadingTimeline:!1,latestTimelineGetRequest:"",isDownloadingReport:!1}},computed:{chartData(){return this.timeline.length?{labels:this.timeline.map((t=>t.label)),datasets:[{data:this.timeline.map((t=>t.value))}]}:null},currentPage(){return Math.floor(this.offset/this.count)+1},lastPage(){return Math.ceil(this.itemsMax/this.count)},isDailyIntervalEnabled(){return!(!this.dateStart||!this.dateEnd)&&this.getDaysBetween(this.getBrowserSafeDate(this.dateStart),this.getBrowserSafeDate(this.dateEnd))<91},isMonthlyIntervalEnabled(){return!(this.dateStart&&this.dateEnd&&this.isDailyIntervalEnabled)||this.getDaysBetween(this.getBrowserSafeDate(this.dateStart),this.getBrowserSafeDate(this.dateEndMax))>31}},methods:{getParams(t){let e={...this.activeFilters};return"timeline"!=t&&(e.count=this.count,e.offset=this.offset),this.dateStart&&(e.dateStart=this.dateStart),this.dateEnd&&(e.dateEnd=this.dateEnd),this.searchPhrase&&(e.searchPhrase=this.searchPhrase),"timeline"==t&&(this.timelineInterval&&(e.timelineInterval=this.timelineInterval),"files"==this.timelineType&&(e.type=this.timelineType)),"timeline"!=t&&this.orderBy&&(e.orderBy=this.orderBy,e.orderDirection=this.orderDirection?"DESC":"ASC"),e},getFilterDescription(t){let e=[];Object.values(t.filters).forEach((t=>{t.param in this.activeFilters&&this.activeFilters[t.param].includes(t.value)&&e.push(t.title.trim())}));let n=this.replaceLocaleParams(this.allFiltersLabel,{filter:t.heading});return 0!=e.length&&(n=e.join(this.__("common.commaListSeparator"))),n},getTimelineTypeLabel(){let t=this.viewsLabel;return"files"==this.timelineType&&(t=this.downloadsLabel),t},getTimelineIntervalLabel(){let t=this.monthLabel;return"day"==this.timelineInterval&&(t=this.dayLabel),t},getTimelineDescription(){return this.replaceLocaleParams(this.timelineDescriptionLabel,{type:this.getTimelineTypeLabel().toLowerCase(),interval:this.getTimelineIntervalLabel().toLowerCase()})},getDateRangeDescription(){return this.dateStart||this.dateEnd?this.replaceLocaleParams(this.betweenDatesLabel,{startDate:this.dateStart,endDate:this.dateEnd}):this.allDatesLabel},getReportParams(t){let e={...this.activeFilters};return this.dateStart&&(e.dateStart=this.dateStart),this.dateEnd&&(e.dateEnd=this.dateEnd),this.searchPhrase&&(e.searchPhrase=this.searchPhrase),"timeline"==t&&this.timelineInterval&&(e.timelineInterval=this.timelineInterval),"timeline"!=t&&this.orderBy&&(e.orderBy=this.orderBy,e.orderDirection=this.orderDirection?"DESC":"ASC"),e},getReportFileNamePart(t){return t?"timeline"==t?"submissions_timeline":t:"submissions"},downloadReport(t){this.isDownloadingReport=!0;let e=["stats",this.getReportFileNamePart(t),(new Date).toISOString().slice(0,-5).replace(":","-")].join("_")+".csv",n='"'+this.dateRangeLabel+'","'+this.getDateRangeDescription()+'"\n',i=[];Object.values(this.filters).forEach((t=>{i.push('"'+t.heading+'","'+this.getFilterDescription(t)+'"')}));let s=this.searchPhrase?'"'+this.searchPhraseLabel+'","'+this.searchPhrase+'"\n':"",a='"'+this.timelineTypeLabel+'","'+this.getTimelineTypeLabel()+'"\n',l='"'+this.timelineIntervalLabel+'","'+this.getTimelineIntervalLabel()+'"\n';$.ajax({url:this.apiUrl+(t?"/"+t:"")+("timeline"==t&&"files"==this.timelineType?"?type=files":""),type:"GET",context:this,headers:{Accept:"text/csv; charset=utf-8","Content-Type":"text/csv;·charset_utf-8"},data:this.getReportParams(t),error:this.ajaxErrorCallback,success(r){r=n+(i.length>0?i.join("\n")+"\n":"")+s+("timeline"==t?a+l:"")+r;var o=new Blob([r]),d=document.createElement("a");d.href=window.URL.createObjectURL(o),d.download=e,d.click()},complete(t){this.isDownloadingReport=!1,this.$modal.hide("export")}})},get:Rn()((function(){this.getItems(),this.getTimeline()}),0),setItems(t){let e=this;e.items=t.items.map((t=>(t.total=t.abstractViews+t.galleyViews,t))),e.itemsMax=t.itemsMax},getItems(){let t=this;this.isLoadingItems=!0,this.latestItemsGetRequest=$.pkp.classes.Helper.uuid(),$.ajax({url:this.apiUrl,type:"GET",data:this.getParams(),_uuid:this.latestItemsGetRequest,error(e){t.latestItemsGetRequest===this._uuid&&t.ajaxErrorCallback(e)},success(e){t.latestItemsGetRequest===this._uuid&&t.setItems(e)},complete(e){t.latestItemsGetRequest===this._uuid&&(t.isLoadingItems=!1)}})},getTimeline(){let t=this;this.isLoadingTimeline=!0,this.latestTimelineGetRequest=$.pkp.classes.Helper.uuid(),$.ajax({url:this.apiUrl+"/timeline",type:"GET",data:this.getParams("timeline"),_uuid:this.latestTimelineGetRequest,error(e){t.latestTimelineGetRequest===this._uuid&&t.ajaxErrorCallback(e)},success(e){t.latestTimelineGetRequest===this._uuid&&(t.timeline=e)},complete(e){t.latestTimelineGetRequest===this._uuid&&(t.isLoadingTimeline=!1)}})},setOrderBy(t,e){this.orderBy=t,this.orderDirection=e},setPage(t){this.offset=(t-1)*this.count},setSearchPhrase(t){this.searchPhrase=t},setTimelineType(t){this.timelineType=t},setTimelineInterval(t){this.timelineInterval=t}},mounted(){this.getItems()},watch:{count(t,e){t!==e&&this.getItems()},isDailyIntervalEnabled(t,e){t!==e&&(t||(this.timelineInterval="month"))},isMonthlyIntervalEnabled(t,e){t!==e&&(t||(this.timelineInterval="day"))},orderBy(t,e){t!==e&&(this.offset=0,this.getItems())},orderDirection(t,e){t!==e&&(this.offset=0,this.getItems())},offset(t,e){t!==e&&this.getItems()},searchPhrase(t,e){t!==e&&(this.offset=0,Rn()(this.get(),250))},timelineInterval(t,e){t!==e&&this.getTimeline()},timelineType(t,e){t!==e&&this.getTimeline()}}},pR=dR,cR=(0,T.Z)(pR,hE,bE,!1,null,null,null),uR=cR.exports;function mR(t){let e=t.split(" ").sort(((t,e)=>Math.random()>.5?-1:1)).join(" ");const n=Math.floor(20*Math.random());return e=e.charAt(0).toUpperCase()+e.slice(1),e.substr(0,e.length-n)}const hR="tortor ultrices dolor diam dignissim ante nulla et morbi imperdiet",bR=[1,2,3],fR={total:0,abstractViews:0,galleyViews:0,pdf:0,html:0,other:0,object:{id:1,fullTitle:{en:mR(hR)},sectionId:1,authorString:"Carlo Corino",urlPublished:"/example/1"}};let gR=[];for(let $=1;$<61;$++){let t={...fR,object:{...fR.object,id:$,fullTitle:{en:mR(hR)},sectionId:bR[Math.floor(Math.random()*bR.length)]},abstractViews:Math.floor(1e4*Math.random())+1,galleyViews:Math.floor(1e3*Math.random())+1},e=Math.floor(t.galleyViews/6);t.pdf=3*e,t.html=2*e,t.other=1*e,t.total=t.abstractViews+t.galleyViews,gR.push(t)}var vR=gR,_R=[{name:"id",label:"ID",value(t){return t.object.id}},{name:"title",label:"Title",isRowHeader:!0,value(t){return t.object.fullTitle.en}},{name:"author",label:"Contributors",value(t){return t.object.authorString}},{name:"abstractViews",label:"Abstract Views",value:"abstractViews"},{name:"galleyViews",label:"Galley Views",value:"galleyViews"},{name:"pdf",label:"PDF",value:"pdf"},{name:"html",label:"HTML",value:"html"},{name:"other",label:"Other",value:"other"},{name:"total",label:"Total",value:"total"}];function yR(t,e,n){let i=[],s="month"===n?2:3;while(t.getTime()<e.getTime())i.push({date:t.toISOString().split("T")[0],label:t.toString().split(" ").slice(1,s).join(" "),value:Math.floor(2e3*Math.random())+3e3}),"month"===n?t.setMonth(t.getMonth()+1):t.setDate(t.getDate()+1);return i}var kR,wR,SR,TR,FR,xR,PR,LR,CR,AR,IR,DR,ER,RR,BR={extends:uR,data:function(){const t=new Date((new Date).setDate((new Date).getDate()-1)),e=new Date;return e.setDate(t.getDate()-30),{apiUrl:"/api/v1/stats/publications",timeline:yR(e,t,"day"),timelineType:"abstract",timelineInterval:"day",items:vR.slice(0,30),itemsMax:vR.length,tableColumns:_R.filter((t=>!["id","author"].includes(t.name))),dateStart:"2019-04-01",dateEnd:"2019-05-01",dateEndMax:t.toISOString().split("T")[0],dateRangeOptions:[{dateStart:"2019-04-01",dateEnd:"2019-05-01",label:"Last 30 days"},{dateStart:"2019-01-31",dateEnd:"2019-05-01",label:"Last 90 days"},{dateStart:"2018-05-02",dateEnd:"2019-05-01",label:"Last 12 months"},{dateStart:"",dateEnd:"",label:"All Dates"}],filters:[{heading:"Sections",filters:[{title:"Articles",param:"sectionIds",value:1},{title:"Reviews",param:"sectionIds",value:2},{title:"Editorials",param:"sectionIds",value:3},{title:"Epäjärjestelmällistyttämättömyydelläänsäkäänköhän",param:"sectionIds",value:4}]}],originalItems:[]}},methods:{getItems:function(){this.isLoadingItems=!0,setTimeout((()=>{const t=vR.filter((t=>!(this.searchPhrase&&!t.object.fullTitle.en.includes(this.searchPhrase)&&t.object.id!=this.searchPhrase&&!t.object.authorString.includes(this.searchPhrase))&&(!this.activeFilters.sectionIds||!this.activeFilters.sectionIds.length||this.activeFilters.sectionIds.includes(t.object.sectionId))));this.items=t.slice(this.offset,this.count+this.offset),this.itemsMax=t.length,this.isLoadingItems=!1}),1e3)},getTimeline:function(){this.isLoadingTimeline=!0,setTimeout((()=>{const t=this.dateStart||"2016-01-01",e=this.dateEnd||new Date((new Date).setDate((new Date).getDate()-1));this.timeline=yR(this.getBrowserSafeDate(t),this.getBrowserSafeDate(e),this.timelineInterval),this.isLoadingTimeline=!1}),1e3)}}},UR=BR,OR=(0,T.Z)(UR,rR,oR,!1,null,null,null),MR=OR.exports,$R='<template>\n\t<div class="pkpStats">\n\t\t<pkp-header>\n\t\t\t<h1>Articles</h1>\n\t\t\t<spinner v-if="isLoadingTimeline" />\n\t\t\t<template slot="actions">\n\t\t\t\t<date-range\n\t\t\t\t\tunique-id="publication-stats-date-range"\n\t\t\t\t\t:date-start="dateStart"\n\t\t\t\t\t:date-end="dateEnd"\n\t\t\t\t\t:date-end-max="dateEndMax"\n\t\t\t\t\t:options="dateRangeOptions"\n\t\t\t\t\tdateRangeLabel="Date Range"\n\t\t\t\t\tdateFormatInstructionsLabel="Enter each date in the format YYYY-MM-DD. For example, if you want the date for 15 January, 2019, enter 2019-01-15."\n\t\t\t\t\tchangeDateRangeLabel="Change date range"\n\t\t\t\t\tsinceDateLabel="Since {$date}"\n\t\t\t\t\tuntilDateLabel="Until {$date}"\n\t\t\t\t\tallDatesLabel="All dates"\n\t\t\t\t\tcustomRangeLabel="Custom Range"\n\t\t\t\t\tfromDateLabel="From"\n\t\t\t\t\ttoDateLabel="To"\n\t\t\t\t\tapplyLabel="Apply"\n\t\t\t\t\tinvalidDateLabel="The date format is not valid. Enter each date in the format YYYY-MM-DD."\n\t\t\t\t\tdateDoesNotExistLabel="One of the dates entered does not exist."\n\t\t\t\t\tinvalidDateRangeLabel="The start date must be before the end date."\n\t\t\t\t\tinvalidStartDateMinLabel="The start date may not be earlier than {$date}."\n\t\t\t\t\tinvalidEndDateMaxLabel="The end date may not be later than {$date}."\n\t\t\t\t\t@set-range="setDateRange"\n\t\t\t\t/>\n\t\t\t\t<pkp-button\n\t\t\t\t\tv-if="filters.length"\n\t\t\t\t\t:is-active="isSidebarVisible"\n\t\t\t\t\t@click="toggleSidebar"\n\t\t\t\t>\n\t\t\t\t\t<icon icon="filter" :inline="true" />\n\t\t\t\t\t{{ __(\'common.filter\') }}\n\t\t\t\t</pkp-button>\n\t\t\t</template>\n\t\t</pkp-header>\n\t\t<div class="pkpStats__container -pkpClearfix">\n\t\t\t\x3c!-- Filters in the sidebar --\x3e\n\t\t\t<div\n\t\t\t\tv-if="filters.length"\n\t\t\t\tref="sidebar"\n\t\t\t\tclass="pkpStats__sidebar"\n\t\t\t\t:class="sidebarClasses"\n\t\t\t>\n\t\t\t\t<pkp-header\n\t\t\t\t\tclass="pkpStats__sidebarHeader"\n\t\t\t\t\t:tabindex="isSidebarVisible ? 0 : -1"\n\t\t\t\t>\n\t\t\t\t\t<h2>\n\t\t\t\t\t\t<icon icon="filter" :inline="true" />\n\t\t\t\t\t\t{{ __(\'common.filter\') }}\n\t\t\t\t\t</h2>\n\t\t\t\t</pkp-header>\n\t\t\t\t<div\n\t\t\t\t\tv-for="(filterSet, index) in filters"\n\t\t\t\t\t:key="index"\n\t\t\t\t\tclass="pkpStats__filterSet"\n\t\t\t\t>\n\t\t\t\t\t<pkp-header v-if="filterSet.heading">\n\t\t\t\t\t\t<h3>{{ filterSet.heading }}</h3>\n\t\t\t\t\t</pkp-header>\n\t\t\t\t\t<pkp-filter\n\t\t\t\t\t\tv-for="filter in filterSet.filters"\n\t\t\t\t\t\t:key="filter.param + filter.value"\n\t\t\t\t\t\tv-bind="filter"\n\t\t\t\t\t\t:isFilterActive="isFilterActive(filter.param, filter.value)"\n\t\t\t\t\t\t@add-filter="addFilter"\n\t\t\t\t\t\t@remove-filter="removeFilter"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="pkpStats__content">\n\t\t\t\t<div v-if="chartData" class="pkpStats__graph">\n\t\t\t\t\t<div class="pkpStats__graphHeader">\n\t\t\t\t\t\t<h2\n\t\t\t\t\t\t\tclass="pkpStats__graphTitle -screenReader"\n\t\t\t\t\t\t\tid="publication-stats-graph-title"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tViews\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<div class="pkpStats__graphSelectors">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass="pkpStats__graphSelector pkpStats__graphSelector--timelineType"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<pkp-button\n\t\t\t\t\t\t\t\t\t:aria-pressed="timelineType === \'abstract\'"\n\t\t\t\t\t\t\t\t\taria-describedby="publication-stats-graph-title"\n\t\t\t\t\t\t\t\t\t@click="setTimelineType(\'abstract\')"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tAbstracts\n\t\t\t\t\t\t\t\t</pkp-button>\n\t\t\t\t\t\t\t\t<pkp-button\n\t\t\t\t\t\t\t\t\t:aria-pressed="timelineType === \'galley\'"\n\t\t\t\t\t\t\t\t\taria-describedby="publication-stats-graph-title"\n\t\t\t\t\t\t\t\t\t@click="setTimelineType(\'galley\')"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tFiles\n\t\t\t\t\t\t\t\t</pkp-button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass="pkpStats__graphSelector pkpStats__graphSelector--timelineInterval"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<pkp-button\n\t\t\t\t\t\t\t\t\t:aria-pressed="timelineInterval === \'day\'"\n\t\t\t\t\t\t\t\t\taria-describedby="publication-stats-graph-title"\n\t\t\t\t\t\t\t\t\t:disabled="!isDailyIntervalEnabled"\n\t\t\t\t\t\t\t\t\t@click="setTimelineInterval(\'day\')"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tDaily\n\t\t\t\t\t\t\t\t</pkp-button>\n\t\t\t\t\t\t\t\t<pkp-button\n\t\t\t\t\t\t\t\t\t:aria-pressed="timelineInterval === \'month\'"\n\t\t\t\t\t\t\t\t\taria-describedby="publication-stats-graph-title"\n\t\t\t\t\t\t\t\t\t:disabled="!isMonthlyIntervalEnabled"\n\t\t\t\t\t\t\t\t\t@click="setTimelineInterval(\'month\')"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tMonthly\n\t\t\t\t\t\t\t\t</pkp-button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<table class="-screenReader" role="region" aria-live="polite">\n\t\t\t\t\t\t<caption v-if="timelineType === \'galley\'">\n\t\t\t\t\t\t\tTotal galley views for articles by month\n\t\t\t\t\t\t</caption>\n\t\t\t\t\t\t<caption v-else>Total abstract views for articles by month</caption>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope="col">Date</th>\n\t\t\t\t\t\t\t\t<th scope="col">Abstract Views</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr v-for="segment in timeline" :key="segment.date">\n\t\t\t\t\t\t\t\t<th scope="row">{{ segment.label }}</th>\n\t\t\t\t\t\t\t\t<td>{{ segment.value }}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t\t<line-chart :chartData="chartData" aria-hidden="true"></line-chart>\n\t\t\t\t\t<span v-if="isLoadingTimeline" class="pkpStats__loadingCover">\n\t\t\t\t\t\t<spinner></spinner>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="pkpStats__table" role="region" aria-live="polite">\n\t\t\t\t\t<pkp-header>\n\t\t\t\t\t\t<h2 class="pkpStats__tableTitle" id="articleDetailTableLabel">\n\t\t\t\t\t\t\tArticle Details\n\t\t\t\t\t\t\t<spinner v-if="isLoadingItems"></spinner>\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<template slot="actions">\n\t\t\t\t\t\t\t<div class="pkpStats__itemsOfTotal">\n\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\treplaceLocaleParams(itemsOfTotalLabel, {\n\t\t\t\t\t\t\t\t\t\tcount: items.length,\n\t\t\t\t\t\t\t\t\t\ttotal: itemsMax,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tv-if="items.length < itemsMax"\n\t\t\t\t\t\t\t\t\thref="#articleDetailTablePagination"\n\t\t\t\t\t\t\t\t\tclass="-screenReader"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tView additional pages\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</pkp-header>\n\t\t\t\t\t<pkp-table\n\t\t\t\t\t\tlabelled-by="articleDetailTableLabel"\n\t\t\t\t\t\t:class="tableClasses"\n\t\t\t\t\t\t:columns="tableColumns"\n\t\t\t\t\t\t:rows="items"\n\t\t\t\t\t\t:order-by="orderBy"\n\t\t\t\t\t\t:order-direction="orderDirection"\n\t\t\t\t\t\t@order-by="setOrderBy"\n\t\t\t\t\t>\n\t\t\t\t\t\t<search\n\t\t\t\t\t\t\tslot="thead-title"\n\t\t\t\t\t\t\tclass="pkpStats__titleSearch"\n\t\t\t\t\t\t\t:search-phrase="searchPhrase"\n\t\t\t\t\t\t\tsearch-label="Search by title, author and ID"\n\t\t\t\t\t\t\t@search-phrase-changed="setSearchPhrase"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</pkp-table>\n\t\t\t\t\t<div v-if="!items.length" class="pkpStats__noRecords">\n\t\t\t\t\t\t<template v-if="isLoadingItems">\n\t\t\t\t\t\t\t<spinner></spinner>\n\t\t\t\t\t\t\tLoading\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\tNo articles were found with usage statistics matching these\n\t\t\t\t\t\t\tparameters.\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t\t<pagination\n\t\t\t\t\t\tv-if="lastPage > 1"\n\t\t\t\t\t\tid="articleDetailTablePagination"\n\t\t\t\t\t\t:current-page="currentPage"\n\t\t\t\t\t\t:is-loading="isLoadingItems"\n\t\t\t\t\t\t:last-page="lastPage"\n\t\t\t\t\t\t@set-page="setPage"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport StatsPublicationsPage from \'@/components/Container/StatsPublicationsPage.vue\';\nimport articleStats from \'../../Table/helpers/articleStats.js\';\nimport articleStatsColumns from \'../../Table/helpers/articleStatsColumns.js\';\n\nfunction getRandomTimeline(startDate, endDate, timelineInterval) {\n\tlet timeline = [];\n\tlet labelSplice = timelineInterval === \'month\' ? 2 : 3;\n\twhile (startDate.getTime() < endDate.getTime()) {\n\t\ttimeline.push({\n\t\t\tdate: startDate.toISOString().split(\'T\')[0],\n\t\t\tlabel: startDate.toString().split(\' \').slice(1, labelSplice).join(\' \'),\n\t\t\tvalue: Math.floor(Math.random() * 2000) + 3000,\n\t\t});\n\t\tif (timelineInterval === \'month\') {\n\t\t\tstartDate.setMonth(startDate.getMonth() + 1);\n\t\t} else {\n\t\t\tstartDate.setDate(startDate.getDate() + 1);\n\t\t}\n\t}\n\treturn timeline;\n}\n\nexport default {\n\textends: StatsPublicationsPage,\n\tdata: function () {\n\t\tconst dateEndMax = new Date(new Date().setDate(new Date().getDate() - 1));\n\t\tconst startDate = new Date();\n\t\tstartDate.setDate(dateEndMax.getDate() - 30);\n\t\treturn {\n\t\t\tapiUrl: \'/api/v1/stats/publications\',\n\t\t\ttimeline: getRandomTimeline(startDate, dateEndMax, \'day\'),\n\t\t\ttimelineType: \'abstract\',\n\t\t\ttimelineInterval: \'day\',\n\t\t\titems: articleStats.slice(0, 30),\n\t\t\titemsMax: articleStats.length,\n\t\t\ttableColumns: articleStatsColumns.filter(\n\t\t\t\t(col) => ![\'id\', \'author\'].includes(col.name)\n\t\t\t),\n\t\t\tdateStart: \'2019-04-01\',\n\t\t\tdateEnd: \'2019-05-01\',\n\t\t\tdateEndMax: dateEndMax.toISOString().split(\'T\')[0],\n\t\t\tdateRangeOptions: [\n\t\t\t\t{\n\t\t\t\t\tdateStart: \'2019-04-01\',\n\t\t\t\t\tdateEnd: \'2019-05-01\',\n\t\t\t\t\tlabel: \'Last 30 days\',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdateStart: \'2019-01-31\',\n\t\t\t\t\tdateEnd: \'2019-05-01\',\n\t\t\t\t\tlabel: \'Last 90 days\',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdateStart: \'2018-05-02\',\n\t\t\t\t\tdateEnd: \'2019-05-01\',\n\t\t\t\t\tlabel: \'Last 12 months\',\n\t\t\t\t},\n\t\t\t\t{dateStart: \'\', dateEnd: \'\', label: \'All Dates\'},\n\t\t\t],\n\t\t\tfilters: [\n\t\t\t\t{\n\t\t\t\t\theading: \'Sections\',\n\t\t\t\t\tfilters: [\n\t\t\t\t\t\t{title: \'Articles\', param: \'sectionIds\', value: 1},\n\t\t\t\t\t\t{title: \'Reviews\', param: \'sectionIds\', value: 2},\n\t\t\t\t\t\t{title: \'Editorials\', param: \'sectionIds\', value: 3},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: \'Epäjärjestelmällistyttämättömyydelläänsäkäänköhän\',\n\t\t\t\t\t\t\tparam: \'sectionIds\',\n\t\t\t\t\t\t\tvalue: 4,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t],\n\t\t\toriginalItems: [],\n\t\t};\n\t},\n\tmethods: {\n\t\t/**\n\t\t * Mock requests to the API\n\t\t */\n\t\tgetItems: function () {\n\t\t\tthis.isLoadingItems = true;\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst items = articleStats.filter((row) => {\n\t\t\t\t\tif (this.searchPhrase) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!row.object.fullTitle.en.includes(this.searchPhrase) &&\n\t\t\t\t\t\t\trow.object.id != this.searchPhrase &&\n\t\t\t\t\t\t\t!row.object.authorString.includes(this.searchPhrase)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.activeFilters.sectionIds &&\n\t\t\t\t\t\tthis.activeFilters.sectionIds.length\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn this.activeFilters.sectionIds.includes(row.object.sectionId);\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t\tthis.items = items.slice(this.offset, this.count + this.offset);\n\t\t\t\tthis.itemsMax = items.length;\n\n\t\t\t\tthis.isLoadingItems = false;\n\t\t\t}, 1000);\n\t\t},\n\n\t\t/**\n\t\t * Mock requests to the API\n\t\t */\n\t\tgetTimeline: function () {\n\t\t\tthis.isLoadingTimeline = true;\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst dateStart = this.dateStart || \'2016-01-01\';\n\t\t\t\tconst dateEnd =\n\t\t\t\t\tthis.dateEnd ||\n\t\t\t\t\tnew Date(new Date().setDate(new Date().getDate() - 1));\n\t\t\t\tthis.timeline = getRandomTimeline(\n\t\t\t\t\tthis.getBrowserSafeDate(dateStart),\n\t\t\t\t\tthis.getBrowserSafeDate(dateEnd),\n\t\t\t\t\tthis.timelineInterval\n\t\t\t\t);\n\t\t\t\tthis.isLoadingTimeline = false;\n\t\t\t}, 1000);\n\t\t},\n\t},\n};\n<\/script>\n',NR="## Data\n\n| Key | Description |\n| --- | --- |\n| `apiUrl` | URL to the REST API endpoint to retrieve stats. |\n| `dateStart` | Current start date in the format `YYYY-MM-DD`. |\n| `dateEnd` | Current start date in the format `YYYY-MM-DD`. |\n| `dateEndMax` | Current start date in the format `YYYY-MM-DD`. |\n| `dateRangeOptions` | Array of objects representing preset date range options, such as the last 90 days. |\n| `filters` | Array of filters. |\n| `itemsOfTotalLabel` | A label to display the count of the current page. |\n| `tableColumns` | An array of objects representing columns in the table. See [Table](#/component/Table). |\n| `timeline` | Array of usage stats by month/day (see `timelineInterval`) used in the chart. **Only in [StatsPublicationsPage](#/component/StatsPage/publication-stats).** |\n| `timelineType` | The type of stats displayed in the chart. Either `abstract` or `galley`. **Only in [StatsPublicationsPage](#/component/StatsPage/publication-stats).** |\n| `timelineInterval` | Whether the `timeline` stats are broken down by `day` or `month`. **Only in [StatsPublicationsPage](#/component/StatsPage/publication-stats).** |\n| `items` | Publications to display in the table. **Only in [StatsPublicationsPage](#/component/StatsPage/publication-stats).** |\n| `itemsMax` | Total number of publications with usage stats. **Only in [StatsPublicationsPage](#/component/StatsPage/publication-stats).** |\n| `tableRows` | An array of objects representing rows in the table. See [Table](#/component/Table). **Only in [StatsEditorialPage](#/component/StatsPage/editorial-stats).** |\n| `activeByStage` | Array of submisson stages with current count of submissions in each stage and the color to display in the doughnut chart. **Only in [StatsEditorialPage](#/component/StatsPage/editorial-stats).** |\n| `percentageStats` | Array of keys in `tableRows` which should be displayed as percentages. **Only in [StatsEditorialPage](#/component/StatsPage/editorial-stats).** |\n\n## Usage\n\nThe `StatsPage` extends the [`Container`](/#/pages/container) app. Use this app to show a page of statistics with a chart and a table.\n\n## Template\n\nThe `StatsPage` app is a template-less component. You must write the template in Smarty on the server-side and it will be compiled at run time.\n\nThe examples here provide sample templates for two use-cases.\n",jR={extends:H,data(){return{name:"StatsPage",readme:NR,examples:[{component:aR,name:"Editorial Stats",template:this.extractTemplate(lR)},{component:MR,name:"Publication Stats",template:this.extractTemplate($R)}]}}},qR=jR,WR=(0,T.Z)(qR,kR,wR,!1,null,null,null),VR=WR.exports,KR=function(){var t=this,e=t._self._c;return e("div",{ref:"wrapper",staticClass:"previewSteps"},[e("steps",{attrs:{startedSteps:t.startedSteps,current:t.currentStep,label:"Demonstration of steps component",progressLabel:"{$current}/{$total} steps",scrollTo:t.$refs.wrapper,showStepsLabel:"Show/hide all steps"},on:{"step:open":t.openStep}},[e("step",{attrs:{label:"First step",id:"first"}},[e("panel",[e("panel-section",[t._v(" First step content with a "),e("a",{attrs:{href:"..."}},[t._v("focusable")]),t._v(" element. ")])],1)],1),e("step",{attrs:{label:"Second step",id:"second"}},[e("panel",[e("panel-section",[t._v(" Second step content with a "),e("a",{attrs:{href:"..."}},[t._v("focusable")]),t._v(" element. ")])],1)],1),e("step",{attrs:{label:"Third step",id:"third"}},[e("panel",[e("panel-section",[t._v("Third step content")])],1)],1),e("step",{attrs:{label:"Fourth step",id:"fourth"}},[e("panel",[e("panel-section",[t._v("Fourth step content")])],1)],1),e("step",{attrs:{label:"Fifth step",id:"fifth"}},[e("panel",[e("panel-section",[t._v("Fifth step content")])],1)],1)],1),e("div",{staticClass:"previewSteps__buttons"},[e("pkp-button",{on:{click:t.previousStep}},[t._v("Previous")]),e("pkp-button",{on:{click:t.nextStep}},[t._v("Next")])],1)],1)},zR=[],HR={data(){return{currentStep:"first",startedSteps:["first"],steps:[]}},computed:{currentStepIndex(){return this.steps.findIndex((t=>t.id===this.currentStep))}},methods:{openStep(t){this.currentStep=t,this.startedSteps.includes(t)||this.startedSteps.push(t)},nextStep(){this.openStep(this.steps[1+this.currentStepIndex].id)},previousStep(){const t=this.currentStepIndex-1;t>=0&&this.openStep(this.steps[t].id)}},mounted(){this.steps=this.$children.find((t=>"steps"===t.$options._componentTag)).$children.filter((t=>"step"===t.$options._componentTag))}},ZR=HR,GR=(0,T.Z)(ZR,KR,zR,!1,null,null,null),YR=GR.exports,JR='<template>\n\t<div class="previewSteps" ref="wrapper">\n\t\t<steps\n\t\t\t:startedSteps="startedSteps"\n\t\t\t:current="currentStep"\n\t\t\tlabel="Demonstration of steps component"\n\t\t\tprogressLabel="{$current}/{$total} steps"\n\t\t\t:scrollTo="$refs.wrapper"\n\t\t\tshowStepsLabel="Show/hide all steps"\n\t\t\t@step:open="openStep"\n\t\t>\n\t\t\t<step label="First step" id="first">\n\t\t\t\t<panel>\n\t\t\t\t\t<panel-section>\n\t\t\t\t\t\tFirst step content with a\n\t\t\t\t\t\t<a href="...">focusable</a>\n\t\t\t\t\t\telement.\n\t\t\t\t\t</panel-section>\n\t\t\t\t</panel>\n\t\t\t</step>\n\t\t\t<step label="Second step" id="second">\n\t\t\t\t<panel>\n\t\t\t\t\t<panel-section>\n\t\t\t\t\t\tSecond step content with a\n\t\t\t\t\t\t<a href="...">focusable</a>\n\t\t\t\t\t\telement.\n\t\t\t\t\t</panel-section>\n\t\t\t\t</panel>\n\t\t\t</step>\n\t\t\t<step label="Third step" id="third">\n\t\t\t\t<panel>\n\t\t\t\t\t<panel-section>Third step content</panel-section>\n\t\t\t\t</panel>\n\t\t\t</step>\n\t\t\t<step label="Fourth step" id="fourth">\n\t\t\t\t<panel>\n\t\t\t\t\t<panel-section>Fourth step content</panel-section>\n\t\t\t\t</panel>\n\t\t\t</step>\n\t\t\t<step label="Fifth step" id="fifth">\n\t\t\t\t<panel>\n\t\t\t\t\t<panel-section>Fifth step content</panel-section>\n\t\t\t\t</panel>\n\t\t\t</step>\n\t\t</steps>\n\t\t<div class="previewSteps__buttons">\n\t\t\t<pkp-button @click="previousStep">Previous</pkp-button>\n\t\t\t<pkp-button @click="nextStep">Next</pkp-button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcurrentStep: \'first\',\n\t\t\tstartedSteps: [\'first\'],\n\t\t\tsteps: [],\n\t\t};\n\t},\n\tcomputed: {\n\t\t/**\n\t\t * The array index of the current step\n\t\t */\n\t\tcurrentStepIndex() {\n\t\t\treturn this.steps.findIndex((step) => step.id === this.currentStep);\n\t\t},\n\t},\n\tmethods: {\n\t\t/**\n\t\t * Open a step\n\t\t */\n\t\topenStep(step) {\n\t\t\tthis.currentStep = step;\n\t\t\tif (!this.startedSteps.includes(step)) {\n\t\t\t\tthis.startedSteps.push(step);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Go to the next step\n\t\t */\n\t\tnextStep() {\n\t\t\tthis.openStep(this.steps[1 + this.currentStepIndex].id);\n\t\t},\n\n\t\t/**\n\t\t * Go to the previous step\n\t\t */\n\t\tpreviousStep() {\n\t\t\tconst previousIndex = this.currentStepIndex - 1;\n\t\t\tif (previousIndex >= 0) {\n\t\t\t\tthis.openStep(this.steps[previousIndex].id);\n\t\t\t}\n\t\t},\n\t},\n\tmounted() {\n\t\t/**\n\t\t * Get an array of all the step components\n\t\t */\n\t\tthis.steps = this.$children\n\t\t\t.find((child) => child.$options._componentTag === \'steps\')\n\t\t\t.$children.filter((child) => child.$options._componentTag === \'step\');\n\t},\n};\n<\/script>\n\n<style lang="less">\n@import \'../../../../styles/_import\';\n\n.component--Steps .component__exampleWrapper {\n\tbackground: @bg;\n}\n\n.previewSteps .panel {\n\tmargin-top: 2rem;\n\tborder: none;\n}\n\n.previewSteps__buttons {\n\tmargin-top: 2rem;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n}\n</style>\n',XR="## Props\n\n| Key | Description |\n| --- | --- |\n| `...` | ... |\n\n## Events\n\n| Key | Description |\n| --- | --- |\n| `step:open` | ... |\n\n## Usage\n\n...",QR={extends:H,data(){return{name:"Steps",readme:XR,examples:[{component:YR,name:"Base",template:this.extractTemplate(JR)}]}}},tB=QR,eB=(0,T.Z)(tB,SR,TR,!1,null,null,null),nB=eB.exports,iB=function(){var t=this,e=t._self._c;return e("pkp-table",{attrs:{label:"Example Table",columns:t.columns,rows:t.rows}})},sB=[],aB={components:{PkpTable:Hm},data(){return{columns:[..._R],rows:vR.slice(0,10)}}},lB=aB,rB=(0,T.Z)(lB,iB,sB,!1,null,null,null),oB=rB.exports,dB="<template>\n\t<pkp-table label=\"Example Table\" :columns=\"columns\" :rows=\"rows\" />\n</template>\n\n<script>\nimport PkpTable from '@/components/Table/Table.vue';\nimport articleStats from '../helpers/articleStats.js';\nimport articleStatsColumns from '../helpers/articleStatsColumns.js';\n\nexport default {\n\tcomponents: {\n\t\tPkpTable,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: [...articleStatsColumns],\n\t\t\trows: articleStats.slice(0, 10),\n\t\t};\n\t},\n};\n<\/script>\n",pB=function(){var t=this,e=t._self._c;return e("pkp-table",{attrs:{label:"Example Table",description:"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.",columns:t.columns,rows:t.rows}})},cB=[],uB={extends:oB},mB=uB,hB=(0,T.Z)(mB,pB,cB,!1,null,null,null),bB=hB.exports,fB='<template>\n\t<pkp-table\n\t\tlabel="Example Table"\n\t\tdescription="Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."\n\t\t:columns="columns"\n\t\t:rows="rows"\n\t/>\n</template>\n\n<script>\nimport PreviewTable from \'./PreviewTable.vue\';\n\nexport default {\n\textends: PreviewTable,\n};\n<\/script>\n',gB=function(){var t=this,e=t._self._c;return e("pkp-table",{attrs:{label:"Example Table",description:"This table uses the <code>header</code> slot to customize the PDF column header.",columns:t.columns,rows:t.rows}},[e("icon",{attrs:{slot:"thead-pdf",icon:"exclamation-triangle"},slot:"thead-pdf"})],1)},vB=[],_B={extends:oB},yB=_B,kB=(0,T.Z)(yB,gB,vB,!1,null,null,null),wB=kB.exports,SB='<template>\n\t<pkp-table\n\t\tlabel="Example Table"\n\t\tdescription="This table uses the <code>header</code> slot to customize the PDF column header."\n\t\t:columns="columns"\n\t\t:rows="rows"\n\t>\n\t\t<icon slot="thead-pdf" icon="exclamation-triangle" />\n\t</pkp-table>\n</template>\n\n<script>\nimport PreviewTable from \'./PreviewTable.vue\';\n\nexport default {\n\textends: PreviewTable,\n};\n<\/script>\n',TB=function(){var t=this,e=t._self._c;return e("pkp-table",{attrs:{label:"Example Table",description:"This table uses the <code>rows</code> slot to customize the output of the PDF column in each row.",columns:t.columns,rows:t.rows},scopedSlots:t._u([{key:"default",fn:function({row:n,rowIndex:i}){return t._l(t.columns,(function(s,a){return e("table-cell",{key:s.name,attrs:{column:s,row:n,tabindex:i||a?-1:0}},["pdf"===s.name?e("pkp-button",{on:{click:function(e){return t.viewItem(n)}}},[t._v(" "+t._s(n.pdf.toString())+" ")]):t._e()],1)}))}}])})},FB=[],xB={extends:oB,components:{TableCell:Wm},methods:{viewItem:function(t){alert(JSON.stringify(t))}}},PB=xB,LB=(0,T.Z)(PB,TB,FB,!1,null,null,null),CB=LB.exports,AB='<template>\n\t<pkp-table\n\t\tlabel="Example Table"\n\t\tdescription="This table uses the <code>rows</code> slot to customize the output of the PDF column in each row."\n\t\t:columns="columns"\n\t\t:rows="rows"\n\t>\n\t\t<template slot-scope="{row, rowIndex}">\n\t\t\t<table-cell\n\t\t\t\tv-for="(column, columnIndex) in columns"\n\t\t\t\t:key="column.name"\n\t\t\t\t:column="column"\n\t\t\t\t:row="row"\n\t\t\t\t:tabindex="!rowIndex && !columnIndex ? 0 : -1"\n\t\t\t>\n\t\t\t\t<pkp-button v-if="column.name === \'pdf\'" @click="viewItem(row)">\n\t\t\t\t\t{{ row.pdf.toString() }}\n\t\t\t\t</pkp-button>\n\t\t\t</table-cell>\n\t\t</template>\n\t</pkp-table>\n</template>\n\n<script>\nimport PreviewTable from \'./PreviewTable.vue\';\nimport TableCell from \'@/components/Table/TableCell.vue\';\n\nexport default {\n\textends: PreviewTable,\n\tcomponents: {\n\t\tTableCell,\n\t},\n\tmethods: {\n\t\tviewItem: function (row) {\n\t\t\talert(JSON.stringify(row));\n\t\t},\n\t},\n};\n<\/script>\n',IB=function(){var t=this,e=t._self._c;return e("pkp-table",{attrs:{label:"Example Table",description:"This example supports sorting by the abstract, galley and total views columns.",columns:t.columns,rows:t.rows,"order-by":t.orderBy,"order-direction":t.orderDirection},on:{"order-by":t.setOrder}})},DB=[],EB={extends:oB,data(){return{columns:_R.map((t=>(["abstractViews","galleyViews","total"].includes(t.name)&&(t.orderBy=t.name,t.initialOrderDirection=!0),t))),orderBy:"",orderDirection:!1}},methods:{setOrder(t,e){this.orderBy=t,this.orderDirection=e},reorder(t,e){const n=this.columns.find((e=>e.name===t));n&&(this.rows=this.rows.sort(((n,i)=>n[t]>i[t]?e?-1:1:e?1:-1)))}},watch:{orderBy(t,e){t!==e&&this.reorder(t,this.orderDirection)},orderDirection(t,e){t!==e&&this.reorder(this.orderBy,t)}}},RB=EB,BB=(0,T.Z)(RB,IB,DB,!1,null,null,null),UB=BB.exports,OB='<template>\n\t<pkp-table\n\t\tlabel="Example Table"\n\t\tdescription="This example supports sorting by the abstract, galley and total views columns."\n\t\t:columns="columns"\n\t\t:rows="rows"\n\t\t:order-by="orderBy"\n\t\t:order-direction="orderDirection"\n\t\t@order-by="setOrder"\n\t/>\n</template>\n\n<script>\nimport PreviewTable from \'./PreviewTable.vue\';\nimport articleStatsColumns from \'../helpers/articleStatsColumns.js\';\n\nexport default {\n\textends: PreviewTable,\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: articleStatsColumns.map((col) => {\n\t\t\t\tif ([\'abstractViews\', \'galleyViews\', \'total\'].includes(col.name)) {\n\t\t\t\t\tcol.orderBy = col.name;\n\t\t\t\t\tcol.initialOrderDirection = true;\n\t\t\t\t}\n\t\t\t\treturn col;\n\t\t\t}),\n\t\t\torderBy: \'\',\n\t\t\torderDirection: false,\n\t\t};\n\t},\n\tmethods: {\n\t\t/**\n\t\t * Update the orderBy and orderDirection values\n\t\t *\n\t\t * @param string orderBy The column to sort by\n\t\t * @param boolean orderDirection\n\t\t */\n\t\tsetOrder(orderBy, orderDirection) {\n\t\t\tthis.orderBy = orderBy;\n\t\t\tthis.orderDirection = orderDirection;\n\t\t},\n\n\t\t/**\n\t\t * Sort the rows in table when an orderBy event is emitted from the table\n\t\t *\n\t\t * If there are more rows available than are displayed in the table, you\n\t\t * should make a request to the server to sort the items. For this example,\n\t\t * we will sort in the browser.\n\t\t *\n\t\t * @param string orderBy The column to sort by\n\t\t * @param boolean orderDirection\n\t\t */\n\t\treorder(orderBy, orderDirection) {\n\t\t\tconst orderByColumn = this.columns.find((col) => col.name === orderBy);\n\t\t\tif (!orderByColumn) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.rows = this.rows.sort((a, b) => {\n\t\t\t\treturn a[orderBy] > b[orderBy]\n\t\t\t\t\t? orderDirection\n\t\t\t\t\t\t? -1\n\t\t\t\t\t\t: 1\n\t\t\t\t\t: orderDirection\n\t\t\t\t\t? 1\n\t\t\t\t\t: -1;\n\t\t\t});\n\t\t},\n\t},\n\twatch: {\n\t\torderBy(newVal, oldVal) {\n\t\t\tif (newVal === oldVal) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.reorder(newVal, this.orderDirection);\n\t\t},\n\t\torderDirection(newVal, oldVal) {\n\t\t\tif (newVal === oldVal) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.reorder(this.orderBy, newVal);\n\t\t},\n\t},\n};\n<\/script>\n',MB=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewTable"},[e("pkp-table",{attrs:{label:"Example Table",description:"Use the Pagination component to display large data sets in a table.",columns:t.columns,rows:t.currentRows}}),e("pagination",{attrs:{currentPage:t.currentPage,lastPage:t.lastPage},on:{"set-page":t.setPage}})],1)},$B=[],NB={extends:oB,components:{Pagination:Jt},data(){return{currentPage:1,isLoading:!1,perPage:10,rows:[...vR]}},computed:{lastPage:function(){return Math.floor(this.rows.length/this.perPage)},currentRows:function(){const t=this.currentPage*this.perPage-this.perPage;return this.rows.slice(t,t+this.perPage)}},methods:{setPage:function(t){this.currentPage=t}}},jB=NB,qB=(0,T.Z)(jB,MB,$B,!1,null,null,null),WB=qB.exports,VB='<template>\n\t<div class="previewTable">\n\t\t<pkp-table\n\t\t\tlabel="Example Table"\n\t\t\tdescription="Use the Pagination component to display large data sets in a table."\n\t\t\t:columns="columns"\n\t\t\t:rows="currentRows"\n\t\t/>\n\t\t<pagination\n\t\t\t:currentPage="currentPage"\n\t\t\t:lastPage="lastPage"\n\t\t\t@set-page="setPage"\n\t\t/>\n\t</div>\n</template>\n\n<script>\nimport PreviewTable from \'./PreviewTable.vue\';\nimport Pagination from \'@/components/Pagination/Pagination.vue\';\nimport articleStats from \'../helpers/articleStats.js\';\n\nexport default {\n\textends: PreviewTable,\n\tcomponents: {\n\t\tPagination,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcurrentPage: 1,\n\t\t\tisLoading: false,\n\t\t\tperPage: 10,\n\t\t\trows: [...articleStats],\n\t\t};\n\t},\n\tcomputed: {\n\t\tlastPage: function () {\n\t\t\treturn Math.floor(this.rows.length / this.perPage);\n\t\t},\n\t\tcurrentRows: function () {\n\t\t\tconst start = this.currentPage * this.perPage - this.perPage;\n\t\t\treturn this.rows.slice(start, start + this.perPage);\n\t\t},\n\t},\n\tmethods: {\n\t\tsetPage: function (page) {\n\t\t\tthis.currentPage = page;\n\t\t},\n\t},\n};\n<\/script>\n',KB=function(){var t=this,e=t._self._c;return e("div",{staticClass:"previewTable"},[t._m(0),t._m(1),e("pkp-table",{attrs:{labelledBy:"viewTableLabel",describedBy:"viewTableDescription",columns:t.columns,rows:t.rows}})],1)},zB=[function(){var t=this,e=t._self._c;return e("h1",{attrs:{id:"viewTableLabel"}},[t._v(" Example Using "),e("code",[t._v("labelledBy")]),t._v(" and "),e("code",[t._v("describedBy")])])},function(){var t=this,e=t._self._c;return e("p",{attrs:{id:"viewTableDescription"}},[t._v(" Use the "),e("code",[t._v("labelledBy")]),t._v(" and "),e("code",[t._v("describedBy")]),t._v(" props to label the table with other HTML elements. See the Labelling section in the usage guidance below. ")])}],HB={extends:oB},ZB=HB,GB=(0,T.Z)(ZB,KB,zB,!1,null,null,null),YB=GB.exports,JB='<template>\n\t<div class="previewTable">\n\t\t<h1 id="viewTableLabel">\n\t\t\tExample Using\n\t\t\t<code>labelledBy</code>\n\t\t\tand\n\t\t\t<code>describedBy</code>\n\t\t</h1>\n\t\t<p id="viewTableDescription">\n\t\t\tUse the\n\t\t\t<code>labelledBy</code>\n\t\t\tand\n\t\t\t<code>describedBy</code>\n\t\t\tprops to label the table with other HTML elements. See the Labelling\n\t\t\tsection in the usage guidance below.\n\t\t</p>\n\t\t<pkp-table\n\t\t\tlabelledBy="viewTableLabel"\n\t\t\tdescribedBy="viewTableDescription"\n\t\t\t:columns="columns"\n\t\t\t:rows="rows"\n\t\t/>\n\t</div>\n</template>\n\n<script>\nimport PreviewTable from \'./PreviewTable.vue\';\n\nexport default {\n\textends: PreviewTable,\n};\n<\/script>\n',XB=function(){var t=this,e=t._self._c;return e("pkp-table",{attrs:{label:"Example Table",description:"This example shows a table with a truncated column, so that the column content cuts off instead of wraps. You may need to reduce the width of your screen to see the effect.",columns:t.columns,rows:t.rows}})},QB=[],tU={extends:oB,data(){return{columns:_R.map((t=>("title"===t.name&&(t.truncate="medium"),t)))}}},eU=tU,nU=(0,T.Z)(eU,XB,QB,!1,null,null,null),iU=nU.exports,sU="<template>\n\t<pkp-table\n\t\tlabel=\"Example Table\"\n\t\tdescription=\"This example shows a table with a truncated column, so that the column content cuts off instead of wraps. You may need to reduce the width of your screen to see the effect.\"\n\t\t:columns=\"columns\"\n\t\t:rows=\"rows\"\n\t/>\n</template>\n\n<script>\nimport PreviewTable from './PreviewTable.vue';\nimport articleStatsColumns from '../helpers/articleStatsColumns.js';\n\nexport default {\n\textends: PreviewTable,\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: articleStatsColumns.map((col) => {\n\t\t\t\tif (col.name === 'title') {\n\t\t\t\t\tcol.truncate = 'medium';\n\t\t\t\t}\n\t\t\t\treturn col;\n\t\t\t}),\n\t\t};\n\t},\n};\n<\/script>\n",aU='## Props\n\n| Key | Description |\n| --- | --- |\n| `columns` | An array of configuration objects for each column. |\n| `describedBy` | The id of one or more HTML elements that describe the table, to be used in an <code>aria-describedby</code> attribute. This prop is not required unless additional information about the table is available and not included in the <code>description</code> prop. |\n| `description` | An optional description of the table. |\n| `label` | A name for the table. If no <code>label</code> is provided, you must make use of the <code>labelledBy</code> prop. |\n| `labelledBy` | The id of one or more HTML elements that name the table, to be used in an <code>aria-labelledby</code> attribute. This prop should not be used if a <code>label</code> is provided. |\n| `orderBy` | The name of the column that the rows are ordered by. |\n| `orderDirection` | The direction that rows are ordered by as a boolean. |\n| `rows` | The items to display in the table. |\n\n## Events\n\n| Key | Description |\n| --- | --- |\n| `order-by` | Emitted when items in the table should be reordered. `(orderBy, orderDirection)` |\n\n## Usage\n\nUse the `Table` component to provide tabular data when the user will interact with the data, such as sorting, searching, filtering or editing the rows.\n\nDo not use this component when the user will not interact with the table in these ways. You can write a `<table>` in plain HTML code for better performance. Use the class name, `pkpTable`, to apply consistent styles to your table.\n\n## Datagrid\n\nThis component implements a [Data Grid](https://www.w3.org/TR/wai-aria-practices/examples/grid/dataGrids.html), which provides accessible keyboard controls and markup for managing the data in the table.\n\nWhen using this component with a custom row slot, pay special attention to the use of `tabindex` and `scope="row"` to ensure your table cells remain compliant with the Data Grid spec.\n\nAll interactions in the table rows, including buttons or fields to edit a row, must be accessible by keyboard. Navigation with the up, down, left and right arrows should not be impacted by any interactive elements in a row.\n\nIf you extend this component with your own template, be sure to include accessible labeling. When appropriate, use the `scope` and `aria-sort` attributes in the header cells.\n\n## External Labelling\n\nYou may wish to label the table with text that is not part of the table itself. In this case, the `labelledBy` prop must be used to link the table to its label. If you have an additional description, you must use the `describedBy` prop to link this description to the table.\n\nSee the [Labelled By](#/component/Table/LabelledBy) example.\n\n## Slots\n\nThis component supports two kinds of slots for extending the template. Read the [Vue.js documentation about slots](https://vuejs.org/v2/guide/components-slots.html).\n\nExamples of the slots in use can be seen in the [Custom Header](#/component/Table/examples/with-header) and [Custom Column](#/component/Table/examples/with-column) examples.\n',lU={extends:H,data(){return{name:"Table",readme:aU,examples:[{component:oB,name:"Base",template:this.extractTemplate(dB)},{component:bB,name:"With Description",template:this.extractTemplate(fB)},{component:wB,name:"With Custom Header",template:this.extractTemplate(SB)},{component:CB,name:"With Custom Column",template:this.extractTemplate(AB)},{component:UB,name:"With Sorting",template:this.extractTemplate(OB)},{component:WB,name:"With Pagination",template:this.extractTemplate(VB)},{component:YB,name:"With LabelledBy",template:this.extractTemplate(JB)},{component:iU,name:"With Truncated Column",template:this.extractTemplate(sU)}]}}},rU=lU,oU=(0,T.Z)(rU,FR,xR,!1,null,null,null),dU=oU.exports,pU=function(){var t=this,e=t._self._c;return e("tabs",{attrs:{label:"Default demo of tabs component"}},[e("tab",{attrs:{label:"First tab",id:"first"}},[t._v("First tab content")]),e("tab",{attrs:{label:"Second tab",id:"second"}},[t._v("Second tab content")]),e("tab",{attrs:{label:"Third tab",id:"third"}},[t._v("Third tab content")])],1)},cU=[],uU={},mU=(0,T.Z)(uU,pU,cU,!1,null,null,null),hU=mU.exports,bU='<template>\n\t<tabs label="Default demo of tabs component">\n\t\t<tab label="First tab" id="first">First tab content</tab>\n\t\t<tab label="Second tab" id="second">Second tab content</tab>\n\t\t<tab label="Third tab" id="third">Third tab content</tab>\n\t</tabs>\n</template>\n',fU=function(){var t=this,e=t._self._c;return e("tabs",{attrs:{label:"Tabs that include another set of tabs"}},[e("tab",{attrs:{label:"First tab",id:"first"}},[e("tabs",{attrs:{label:"Tabs nested inside of a tab"}},[e("tab",{attrs:{label:"Tab A",id:"A"}},[t._v("Tab A Content")]),e("tab",{attrs:{label:"Tab B",id:"B"}},[t._v("Tab B content")]),e("tab",{attrs:{label:"Tab C",id:"C"}},[t._v("Tab C content")])],1)],1),e("tab",{attrs:{label:"Second tab",id:"second"}},[t._v("Second tab content")]),e("tab",{attrs:{label:"Third tab",id:"third"}},[t._v("Third tab content")])],1)},gU=[],vU={},_U=(0,T.Z)(vU,fU,gU,!1,null,null,null),yU=_U.exports,kU='<template>\n\t<tabs label="Tabs that include another set of tabs">\n\t\t<tab label="First tab" id="first">\n\t\t\t<tabs label="Tabs nested inside of a tab">\n\t\t\t\t<tab label="Tab A" id="A">Tab A Content</tab>\n\t\t\t\t<tab label="Tab B" id="B">Tab B content</tab>\n\t\t\t\t<tab label="Tab C" id="C">Tab C content</tab>\n\t\t\t</tabs>\n\t\t</tab>\n\t\t<tab label="Second tab" id="second">Second tab content</tab>\n\t\t<tab label="Third tab" id="third">Third tab content</tab>\n\t</tabs>\n</template>\n',wU=function(){var t=this,e=t._self._c;return e("tabs",{attrs:{label:"Demonstration of nested side tabs"}},[e("tab",{attrs:{label:"First tab",id:"first"}},[e("tabs",{attrs:{isSideTabs:!0,label:"Side tabs nested inside of a tab"}},[e("tab",{attrs:{label:"Tab A",id:"a"}},[t._v("Tab A content")]),e("tab",{attrs:{label:"Tab B With the Long Name",id:"b"}},[t._v("Tab B content")]),e("tab",{attrs:{label:"Tab C",id:"c"}},[t._v("Tab C content")])],1)],1),e("tab",{attrs:{label:"Second tab",id:"second"}},[t._v("Second tab content")]),e("tab",{attrs:{label:"Third tab",id:"third"}},[t._v("Third tab content")])],1)},SU=[],TU={},FU=(0,T.Z)(TU,wU,SU,!1,null,null,null),xU=FU.exports,PU='<template>\n\t<tabs label="Demonstration of nested side tabs">\n\t\t<tab label="First tab" id="first">\n\t\t\t<tabs :isSideTabs="true" label="Side tabs nested inside of a tab">\n\t\t\t\t<tab label="Tab A" id="a">Tab A content</tab>\n\t\t\t\t<tab label="Tab B With the Long Name" id="b">Tab B content</tab>\n\t\t\t\t<tab label="Tab C" id="c">Tab C content</tab>\n\t\t\t</tabs>\n\t\t</tab>\n\t\t<tab label="Second tab" id="second">Second tab content</tab>\n\t\t<tab label="Third tab" id="third">Third tab content</tab>\n\t</tabs>\n</template>\n',LU=function(){var t=this,e=t._self._c;return e("tabs",{attrs:{label:"Demonstration of tabs with icon-only display"}},[e("tab",{attrs:{icon:"bell-o",label:"First tab",id:"first"}},[t._v("First tab content")]),e("tab",{attrs:{label:"Second tab",id:"second"}},[t._v("Second tab content")]),e("tab",{attrs:{label:"Third tab",id:"third"}},[t._v("Third tab content")])],1)},CU=[],AU={},IU=(0,T.Z)(AU,LU,CU,!1,null,null,null),DU=IU.exports,EU='<template>\n\t<tabs label="Demonstration of tabs with icon-only display">\n\t\t<tab icon="bell-o" label="First tab" id="first">First tab content</tab>\n\t\t<tab label="Second tab" id="second">Second tab content</tab>\n\t\t<tab label="Third tab" id="third">Third tab content</tab>\n\t</tabs>\n</template>\n',RU=function(){var t=this,e=t._self._c;return e("tabs",{attrs:{label:"Default demo of tabs component"}},[e("tab",{attrs:{label:"First tab",id:"first",badge:"12"}},[t._v("First tab content")]),e("tab",{attrs:{label:"Second tab",id:"second",badge:"2"}},[t._v("Second tab content")]),e("tab",{attrs:{label:"Third tab",id:"third"}},[t._v("Third tab content")])],1)},BU=[],UU={},OU=(0,T.Z)(UU,RU,BU,!1,null,null,null),MU=OU.exports,$U='<template>\n\t<tabs label="Default demo of tabs component">\n\t\t<tab label="First tab" id="first" badge="12">First tab content</tab>\n\t\t<tab label="Second tab" id="second" badge="2">Second tab content</tab>\n\t\t<tab label="Third tab" id="third">Third tab content</tab>\n\t</tabs>\n</template>\n',NU=function(){var t=this,e=t._self._c;return e("tabs",{attrs:{defaultTab:"second",label:"Demonstration of tabs with the middle tab opened by default"}},[e("tab",{attrs:{label:"First tab",id:"first"}},[t._v("First tab content")]),e("tab",{attrs:{label:"Default tab",id:"second"}},[t._v(" Default tab content displays first when opened ")]),e("tab",{attrs:{label:"Third tab",id:"third"}},[t._v("Third tab content")])],1)},jU=[],qU={},WU=(0,T.Z)(qU,NU,jU,!1,null,null,null),VU=WU.exports,KU='<template>\n\t<tabs\n\t\tdefaultTab="second"\n\t\tlabel="Demonstration of tabs with the middle tab opened by default"\n\t>\n\t\t<tab label="First tab" id="first">First tab content</tab>\n\t\t<tab label="Default tab" id="second">\n\t\t\tDefault tab content displays first when opened\n\t\t</tab>\n\t\t<tab label="Third tab" id="third">Third tab content</tab>\n\t</tabs>\n</template>\n',zU='## Props\n\n| Key | Description |\n| --- | --- |\n| `defaultTab` | Select one of the tabs by default. Pass the tab\'s `id` prop. |\n| `isSideTabs` | Displays the tabs on the side with content on the right when `true`. |\n| `label` | Sets an `aria-label` for the tabs. See the [Accessible label](#accessible-label) section below. |\n| `badge` | Adds a [Badge](#/component/Badge) component beside the icon or text in the tab. |\n| `trackHistory` | When `true`, changes to the current tab will modify the browser history so that the back button can be used. |\n\n## Events\n\nThis component does not emit any events.\n\n## Usage\n\nUse this component to display content in tabs.\n\n## Accessible label\n\nPass a `label` to the `Tabs` component to improve the experience for assistive technology. For example, a group of settings tabs might be labeled like this:\n\n```html\n<tabs label="Website Settings Sections">\n\t<tab>...</tab>\n\t<tab>...</tab>\n</tabs>\n```\n\nA `label` is not needed when the tabs immediately follow a heading which describes the tabs. Otherwise a `label` should be used.\n\n## Open tab programmatically\n\nTabs listen for an `open-tab` event on the global event bus. To open a tab, fire this event and pass the tab `id`:\n\n```js\npkp.eventBus.$emit(\'open-tab\', \'publication\')\n```\n\nThis only works when the tab is visible. If the `publication` tab was nested inside of other tabs and was not visible, it would not be displayed. Consider the following code:\n\n```html\n<tabs>\n\t<tab id="hello" label="Hello">...</tab>\n\t<tab id="world" label="World">\n\t\t<tabs>\n\t\t\t<tab id="lorem" label="Lorem">...</tab>\n\t\t\t<tab id="ipsum" label="Ipsum">...</tab>\n\t\t</tabs>\n\t</tab>\n</tabs>\n```\n\nIf the `hello` tab is currently visible, firing `pkp.eventBus.$emit(\'open-tab\', \'ipsum\')` will not work, because its tab set is not currently visible.\n\n## Icon-only Tab Buttons\n\nAvoid using icon-only tabs except in rare cases. A text label is almost always easier to understand.\n\nYou must still pass a `label` to a `Tab` when using the `icon` property. It will be read out by assistive technology.\n\n## Deep Nesting\n\nAvoid deeply nesting tabs. The deeper content is nested in tabs, the more work it takes to return to that content when the page is refreshed. Also, it is very difficult to navigate to deeply nested content programmatically.\n\nConsider two levels a maximum. If you want to use more than two levels of tabs, discuss this with colleagues before proceeding.\n',HU={extends:H,data(){return{name:"Tabs",readme:zU,examples:[{component:hU,name:"Base",template:this.extractTemplate(bU)},{component:yU,name:"Nested Tabs",template:this.extractTemplate(kU)},{component:xU,name:"Side Tabs",template:this.extractTemplate(PU)},{component:DU,name:"With Icon",template:this.extractTemplate(EU)},{component:MU,name:"With Badge",template:this.extractTemplate($U)},{component:VU,name:"With Default Tab",template:this.extractTemplate(KU)}]}}},ZU=HU,GU=(0,T.Z)(ZU,PR,LR,!1,null,null,null),YU=GU.exports,JU=function(){var t=this,e=t._self._c;return e("tooltip",{attrs:{tooltip:"Use tooltips to provide short, helpful advice on what is expected of the user. Do not use tooltips for required information.",label:"Tooltip for the demonstration component."}})},XU=[],QU={components:{Tooltip:Ge}},tO=QU,eO=(0,T.Z)(tO,JU,XU,!1,null,null,null),nO=eO.exports,iO='<template>\n\t<tooltip\n\t\ttooltip="Use tooltips to provide short, helpful advice on what is expected of the user. Do not use tooltips for required information."\n\t\tlabel="Tooltip for the demonstration component."\n\t/>\n</template>\n\n<script>\nimport Tooltip from \'@/components/Tooltip/Tooltip.vue\';\n\nexport default {\n\tcomponents: {\n\t\tTooltip,\n\t},\n};\n<\/script>\n',sO='## Props\n\n| Key | Description |\n| --- | --- |\n| `tooltip` | The message to display in the popup. |\n| `label` | A label for the button that screenreaders will use to understand it. This should refer to the thing it is describing. A tooltip for the submission subtitle field might say "Tooltip for subtitle". |\n\n## Events\n\nThis component does not emit any events.\n\n## Usage\n\nUse this component to add short tips that appear above a button.\n\nUse the tooltip when you want to provide short advice on how to complete a task. If the advice can not be fit in 25-30 words, consider using a [HelpButton](#/component/HelpButton) instead.\n\nDo _not_ use the tooltip for information that the user requires to complete a task. Most users will not interact with the tooltip, so you should not rely on them reading the information.\n',aO={extends:H,data(){return{name:"Tooltip",readme:sO,examples:[{component:nO,name:"Base",template:this.extractTemplate(iO)}]}}},lO=aO,rO=(0,T.Z)(lO,CR,AR,!1,null,null,null),oO=rO.exports,dO=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpWorkflow"},[e("pkp-header",{staticClass:"pkpWorkflow__header",attrs:{"is-one-line":!0}},[e("h1",{staticClass:"pkpWorkflow__identification"},[t.submission.status===t.getConstant("STATUS_PUBLISHED")?e("badge",{staticClass:"pkpWorkflow__identificationStatus",attrs:{"is-success":!0}},[t._v(" Published ")]):t.submission.status===t.getConstant("STATUS_SCHEDULED")?e("badge",{staticClass:"pkpWorkflow__identificationStatus",attrs:{"is-primary":!0}},[t._v(" Scheduled ")]):t._e(),e("span",{staticClass:"pkpWorkflow__identificationId"},[t._v(t._s(t.submission.id))]),e("span",{staticClass:"pkpWorkflow__identificationDivider"},[t._v("/")]),t.currentPublication.authorsStringShort?e("span",{staticClass:"pkpWorkflow__identificationAuthor"},[t._v(" "+t._s(t.currentPublication.authorsStringShort)+" ")]):t._e(),t.currentPublication.authorsStringShort?e("span",{staticClass:"pkpWorkflow__identificationDivider"},[t._v(" / ")]):t._e(),e("span",{staticClass:"pkpWorkflow__identificationTitle"},[t._v(" "+t._s(t.localizeSubmission(t.currentPublication.fullTitle,t.currentPublication.locale))+" ")])],1),e("template",{slot:"actions"},[e("pkp-button",{attrs:{element:"a",href:t.submission.urlPublished}},[t._v(" "+t._s(t.__("common.view"))+" ")]),e("pkp-button",{ref:"activityButton",on:{click:function(e){return t.alert("Opens the editorial history in a modal.")}}},[t._v(" Activity Log ")]),e("pkp-button",{ref:"library",on:{click:function(e){return t.alert("Opens the submission library in a modal.")}}},[t._v(" Library ")])],1)],2),e("tabs",{attrs:{"default-tab":"workflow"}},[e("tab",{attrs:{id:"workflow",label:"Workflow"}},[e("notification",{attrs:{type:"warning"}},[t._v(" This component preview does not include the full workflow. ")])],1),e("tab",{attrs:{id:"publication",label:"Publication"}},[e("div",{ref:"publication",staticClass:"pkpPublication",attrs:{"aria-live":"polite"}},[e("pkp-header",{staticClass:"pkpPublication__header",attrs:{"is-one-line":!1}},[e("span",{staticClass:"pkpPublication__status"},[e("strong",[t._v(t._s(t.statusLabel))]),t.workingPublication.status===t.getConstant("STATUS_QUEUED")&&t.workingPublication.id===t.currentPublication.id?e("span",{staticClass:"pkpPublication__statusUnpublished"},[t._v(" Unscheduled ")]):t.workingPublication.status===t.getConstant("STATUS_SCHEDULED")?e("span",[t._v(" Scheduled ")]):t.workingPublication.status===t.getConstant("STATUS_PUBLISHED")?e("span",{staticClass:"pkpPublication__statusPublished"},[t._v(" Published ")]):e("span",{staticClass:"pkpPublication__statusUnpublished"},[t._v(" Unpublished ")])]),t.publicationList.length>1?e("span",{staticClass:"pkpPublication__version"},[e("strong",{attrs:{tabindex:"0"}},[t._v(t._s(t.versionLabel))]),t._v(" "+t._s(t.workingPublication.version)+" "),e("dropdown",{staticClass:"pkpPublication__versions",attrs:{label:"All Versions","is-link":!0,"submenu-label":"Submenu"}},[e("ul",t._l(t.publicationList,(function(n){return e("li",{key:n.id},[e("button",{staticClass:"pkpDropdown__action",attrs:{disabled:n.id===t.workingPublication.id},on:{click:function(e){return t.setWorkingPublicationById(n.id)}}},[t._v(" "+t._s(n.version)+" / "),n.status===t.getConstant("STATUS_QUEUED")&&n.id===t.currentPublication.id?[t._v(" Unscheduled ")]:n.status===t.getConstant("STATUS_SCHEDULED")?[t._v(" Scheduled ")]:n.status===t.getConstant("STATUS_PUBLISHED")?[t._v(" "+t._s(n.datePublished)+" ")]:[t._v("Unpublished")]],2)])})),0)])],1):t._e(),e("template",{slot:"actions"},[t.workingPublication.status===t.getConstant("STATUS_QUEUED")?e("pkp-button",{ref:"publish",on:{click:function(e){return t.alert("Opens a modal to confirm publishing.")}}},[t._v(" "+t._s(t.submission.status===t.getConstant("STATUS_PUBLISHED")?t.publishLabel:t.schedulePublicationLabel)+" ")]):t.workingPublication.status===t.getConstant("STATUS_SCHEDULED")?e("pkp-button",{attrs:{"is-warnable":!0},on:{click:function(e){return t.alert("Opens a modoal to confirm scheduling for publication.")}}},[t._v(" Unschedule ")]):t.workingPublication.status===t.getConstant("STATUS_PUBLISHED")?e("pkp-button",{attrs:{"is-warnable":!0},on:{click:function(e){return t.alert("Opens a modal to confirm unpublishing.")}}},[t._v(" Unpublish ")]):t._e(),t.canCreateNewVersion?e("pkp-button",{ref:"createVersion",on:{click:function(e){return t.alert("Creates a new version and loads that as the working publication.")}}},[t._v(" Create New Version ")]):t._e()],1)],2),t.workingPublication.status===t.getConstant("STATUS_PUBLISHED")?e("div",{staticClass:"pkpPublication__versionPublished"},[t._v(" This version has been published and can not be edited. ")]):t._e(),e("tabs",{staticClass:"pkpPublication__tabs",attrs:{"is-side-tabs":!0,label:t.currentPublicationTabsLabel}},[e("tab",{attrs:{id:"titleAbstract",label:"Title & Abstract"}},[e("pkp-form",t._b({on:{set:t.set}},"pkp-form",t.components.titleAbstract,!1))],1),e("tab",{attrs:{id:"contributors",label:"Contributors"}},[e("contributors-list-panel",t._b({staticClass:"pkpWorkflow__contributors",attrs:{items:t.workingPublication.authors,publication:t.workingPublication,"publication-api-url":t.submissionApiUrl+"/publications/"+t.workingPublication.id},on:{set:t.set,"updated:publication":t.setWorkingPublication,"updated:contributors":t.setContributors}},"contributors-list-panel",t.components.contributors,!1))],1),e("tab",{attrs:{id:"metadata",label:"Metadata"}},[e("pkp-form",t._b({on:{set:t.set}},"pkp-form",t.components.metadata,!1))],1),t.supportsReferences?e("tab",{attrs:{id:"citations",label:"Citations"}},[e("pkp-form",t._b({on:{set:t.set}},"pkp-form",t.components.citations,!1))],1):t._e(),e("tab",{attrs:{id:"identifiers",label:"Identifiers"}},[t._v("... DOIs ...")]),e("tab",{attrs:{id:"galleys",label:"Galleys"}},[e("div",{ref:"representations",attrs:{id:"representations-grid"}},[e("spinner")],1)]),e("tab",{attrs:{id:"license",label:"Permissions & Disclosure"}},[t._v(" ... copyright and license ... ")]),e("tab",{attrs:{id:"issue",label:"Issue"}},[t._v(" ... issue form for cover image, section, etc... ")])],1),e("span",{staticClass:"pkpPublication__mask",class:t.publicationMaskClasses},[e("spinner")],1)],1)])],1),e("div",{ref:"notifications",staticClass:"app__notifications",attrs:{"aria-live":"polite","aria-atomic":"true",role:"status"}},[e("transition-group",{attrs:{name:"app__notification"}},t._l(t.notifications,(function(n){return e("notification",{key:n.key,attrs:{type:n.type,"can-dismiss":!0},on:{dismiss:function(e){return t.dismissNotification(n.key)}}},[t._v(" "+t._s(n.message)+" ")])})),1)],1),e("transition",{attrs:{name:"app__loading"}},[t.isLoading?e("div",{staticClass:"app__loading",attrs:{role:"alert"}},[e("div",{staticClass:"app__loading__content"},[e("spinner"),t._v(" Loading ")],1)]):t._e()])],1)},pO=[],cO={name:"WorkflowPage",extends:ho,mixins:[Kr,mt,Dn],components:{ContributorsListPanel:ND,Composer:Kp,Dropdown:po,Modal:ot,PkpHeader:jt},data(){return{activityLogLabel:"",canAccessPublication:!1,canEditPublication:!1,currentPublication:null,decisionUrl:"",editorialHistoryUrl:"",isLoadingVersion:!1,publicationFormIds:[],publicationList:[],publicationTabsLabel:"",publishLabel:"",publishUrl:"",representationsGridUrl:"",schedulePublicationLabel:"",submission:null,submissionApiUrl:"",submissionFileApiUrl:"",submissionLibraryLabel:"",submissionLibraryUrl:"",supportsReferences:!1,statusLabel:"",unpublishConfirmLabel:"",unpublishLabel:"",unscheduleConfirmLabel:"",unscheduleLabel:"",uploadFileModalLabel:"",uploadFileUrl:"",versionLabel:"",versionConfirmMessage:"",versionConfirmTitle:"",workingPublication:null}},computed:{canCreateNewVersion(){return this.submission.status===pkp.const.STATUS_PUBLISHED&&this.latestPublicationId<=this.currentPublication.id},latestPublicationId(){return this.publicationList.reduce(((t,e)=>t<e.id?e.id:t),0)},publicationMaskClasses(){let t=[];return this.isLoadingVersion&&t.push("-isVisible"),t},currentPublicationTabsLabel(){return this.replaceLocaleParams(this.publicationTabsLabel,{version:this.workingPublication.version})}},methods:{createVersion(){this.isLoadingVersion=!0;const t=new Date;var e=this;$.ajax({url:this.submissionApiUrl+"/publications/"+this.latestPublicationId+"/version",type:"POST",headers:{"X-Csrf-Token":pkp.currentUser.csrfToken},error(t){e.isLoadingVersion=!1,e.ajaxErrorCallback(t)},success(n){e.publicationList.push({id:n.id,datePublished:n.datePublished,status:n.status,version:n.version}),e.workingPublication={},e.workingPublication=n,e.$nextTick((()=>{e.setFocusIn(e.$refs.publication);const n=new Date,i=n-t;i/1e3>=3?e.isLoadingVersion=!1:setTimeout((()=>{e.isLoadingVersion=!1}),i)}))}})},getConstant(t){return pkp.const[t]},goToRevisionDecision(t){window.location=this.decisionUrl.replace("__decision__",t.decision).replace("__reviewRoundId__",t.reviewRoundId)},loadRepresentationsGrid(t){if(!this.$refs.representations)return;const e=$(this.$refs.representations),n=this.representationsGridUrl.replace("__publicationId__",t.id);if($.pkp.classes.Handler.hasHandler(e)){const t=$.pkp.classes.Handler.getHandler(e);t.setSourceUrl(n),t.reload()}else e.pkpHandler("$.pkp.controllers.UrlInDivHandler",{sourceUrl:n,refreshOn:"form-success"})},openActivity(){var t={title:this.activityLogLabel,url:this.editorialHistoryUrl,closeCallback:()=>this.$refs.activityButton.$el.focus()};$('<div id="'+$.pkp.classes.Helper.uuid()+'" class="pkp_modal pkpModalWrapper" tabIndex="-1"></div>').pkpHandler("$.pkp.controllers.modal.AjaxModalHandler",t)},openCreateVersionPrompt(){this.openDialog({name:"createVersion",title:this.versionConfirmTitle,message:this.versionConfirmMessage,actions:[{label:this.__("common.yes"),isWarnable:!0,callback:()=>{this.$modal.hide("createVersion"),this.createVersion()}},{label:this.__("common.no"),callback:()=>this.$modal.hide("createVersion")}]})},openFileUpload(){var t={title:this.uploadFileModalLabel,url:this.uploadFileUrl,closeCallback:()=>{pkp.eventBus.$emit("refreshRevisionsGrid"),this.$refs.uploadFileButton.$el.focus()}};$('<div id="'+$.pkp.classes.Helper.uuid()+'" class="pkp_modal pkpModalWrapper" tabIndex="-1"></div>').pkpHandler("$.pkp.controllers.modal.WizardModalHandler",t)},openLibrary(){var t={title:this.submissionLibraryLabel,url:this.submissionLibraryUrl,closeCallback:()=>this.$refs.library.$el.focus()};$('<div id="'+$.pkp.classes.Helper.uuid()+'" class="pkp_modal pkpModalWrapper" tabIndex="-1"></div>').pkpHandler("$.pkp.controllers.modal.AjaxModalHandler",t)},openPublish(){const t=this.publishUrl.replace("__publicationId__",this.workingPublication.id),e={title:this.publishLabel,url:t,closeCallback:()=>{this.$refs.publish?this.$refs.publish.$el.focus():this.$refs.createVersion&&this.$refs.createVersion.$el.focus(),this.setFocusIn(this.$refs.publication)},closeOnFormSuccessId:pkp.const.FORM_PUBLISH};$('<div id="'+$.pkp.classes.Helper.uuid()+'" class="pkp_modal pkpModalWrapper" tabIndex="-1"></div>').pkpHandler("$.pkp.controllers.modal.AjaxModalHandler",e)},openUnpublish(){this.openDialog({name:"confirmUnpublish",title:this.workingPublication.status===pkp.const.STATUS_SCHEDULED?this.unscheduleLabel:this.unpublishLabel,message:this.workingPublication.status===pkp.const.STATUS_SCHEDULED?this.unscheduleConfirmLabel:this.unpublishConfirmLabel,actions:[{label:this.workingPublication.status===pkp.const.STATUS_SCHEDULED?this.unscheduleLabel:this.unpublishLabel,isPrimary:!0,callback:()=>{this.unpublish(this.workingPublication),this.$modal.hide("confirmUnpublish")}},{label:this.__("common.cancel"),callback:()=>this.$modal.hide("confirmUnpublish")}]})},refreshSubmission(){const t=this;$.ajax({url:this.submissionApiUrl,type:"GET",success(e){e.publications.forEach((e=>t.updatePublicationInList(e))),delete e.publications,t.submission={},t.submission=e},error(e){t.ajaxErrorCallback(e)}})},setPublicationForms(t){this.publicationFormIds.forEach((e=>{if(!this.components[e])return;let n={...this.components[e]};n.action=this.submissionApiUrl+"/publications/"+t.id,n.fields=n.fields.map((e=>(Object.keys(t).includes(e.name)&&(e.value=t[e.name]),e))),n.canSubmit=this.canEditPublication&&t.status!==pkp.const.STATUS_PUBLISHED,e===pkp.const.FORM_ISSUE_ENTRY&&(n.fields=n.fields.map((e=>("issueId"===e.name&&(e.publicationStatus=t.status),e)))),e===pkp.const.FORM_PUBLICATION_IDENTIFIERS&&(n.fields=n.fields.map((e=>(["pub-id::doi","pub-id::other::urn"].includes(e.name)&&(e.pages=t.pages||"",e.publisherId=t["pub-id::publisher-id"]||""),e)))),this.components[e]={},this.components[e]=n}))},setWorkingPublicationById(t){this.isLoadingVersion=!0;var e=this;$.ajax({url:this.submissionApiUrl+"/publications/"+t,type:"GET",error(t){e.isLoadingVersion=!1,e.ajaxErrorCallback(t)},success(t){e.workingPublication={},e.workingPublication=t,e.updatePublicationInList(t),e.$nextTick((()=>{e.setFocusIn(e.$refs.publication),e.isLoadingVersion=!1}))}})},unpublish(t){this.isLoadingVersion=!0;var e=this;$.ajax({url:this.submissionApiUrl+"/publications/"+t.id+"/unpublish",type:"POST",headers:{"X-Csrf-Token":pkp.currentUser.csrfToken,"X-Http-Method-Override":"PUT"},error(t){e.isLoadingVersion=!1,e.ajaxErrorCallback(t)},success(t){e.workingPublication={},e.workingPublication=t,e.updatePublicationInList(t),e.setPublicationForms(t),e.loadRepresentationsGrid(t),e.isLoadingVersion=!1,e.setFocusIn(e.$refs.publication),e.refreshSubmission()}})},updatePublicationInList(t){this.publicationList.forEach((e=>{e.id===t.id&&(e.datePublished=t.datePublished,e.status=t.status,e.version=t.version)}))},setWorkingPublication(t){this.workingPublication=t},setContributors(t){this.workingPublication.authors=[...t]}},watch:{workingPublication(t,e){this.setPublicationForms(t),this.loadRepresentationsGrid(t),t.id===this.currentPublication.id&&(this.currentPublication={},this.currentPublication=t)}},created(){pkp.eventBus.$on("form-success",((t,e)=>{this.publicationFormIds.includes(t)&&(this.workingPublication={},this.workingPublication=e),t===pkp.const.FORM_PUBLISH&&(this.setPublicationForms(e),this.currentPublication={},this.currentPublication=e,this.submission.currentPublicationId=e.id,this.refreshSubmission())})),pkp.eventBus.$on("unpublish:publication",this.openUnpublish),pkp.eventBus.$on("decision:revisions",(t=>{this.components.selectRevisionDecision.hiddenFields["reviewRoundId"]=t,this.$modal.show("selectRevisionDecision")})),pkp.eventBus.$on("recommendation:revisions",(t=>{this.components.selectRevisionRecommendation.hiddenFields["reviewRoundId"]=t,this.$modal.show("selectRevisionRecommendation")})),this.setPublicationForms(this.workingPublication)},mounted(){setTimeout((()=>{this.loadRepresentationsGrid(this.workingPublication)}),1e3)},destroyed(){pkp.eventBus.$off("form-success"),pkp.eventBus.$off("unpublish:publication"),pkp.eventBus.$off("decision:revisions"),pkp.eventBus.$off("recommendation:revisions")}},uO=cO,mO=(0,T.Z)(uO,IR,DR,!1,null,null,null),hO=mO.exports,bO={name:"citations",component:"field-textarea",label:"Citations",value:"",size:"large"},fO={...Da,id:"citations",action:"/example/publications/1",fields:[{...bO,groupId:"default"}],groups:[{id:"default",pageId:"default"}],pages:[{id:"default",submitButton:{label:"Save"}}],supportedFormLocales:[...Da.supportedFormLocales,{key:"fr_CA",label:"Français (Canada)"},{key:"ar",label:"عربى"}]},gO={...Da,id:"metadata",action:"/example/publications/1",fields:[{..._E,groupId:"default"}],groups:[{id:"default",pageId:"default"}],pages:[{id:"default",submitButton:{label:"Save"}}],supportedFormLocales:[...Da.supportedFormLocales,{key:"fr_CA",label:"Français (Canada)"},{key:"ar",label:"عربى"}]},vO={name:"userGroupId",component:"field-options",label:"Contributor's role",type:"radio",isRequired:!1,value:14,groupId:"default",options:[{value:14,label:"Author"},{value:15,label:"Translator"}]},_O={extends:hO,data:function(){const t={...zo,id:852,datePublished:"2019-03-23 09:12:32",isPublished:!0,issueId:1,lastModified:"2019-03-23 09:12:32",status:3,version:2},e={...zo,id:921,lastModified:"2019-06-03 18:03:32",status:1,title:{en:"Amet sit dolor ipsum lorem",fr_CA:"FR Amet sit dolor ipsum lorem"},version:3};return{activityLogLabel:"Activity Log",canAccessPublication:!0,canEditPublication:!0,components:{contributors:{id:"contributors",items:[...Ko],title:"Contributors",i18nAddContributor:"Add Contributor",publicationApiUrl:"http://localhost:8088/index.php/ts/api/v1/submissions/16/publications",i18nConfirmDelete:"Are you sure you want to remove {$name} as a contributor? This action can not be undone.",i18nDeleteContributor:"Delete",i18nEditContributor:"Edit",canEditPublication:!0,form:{id:"contributor",method:"POST",action:"http://localhost:8088/index.php/ts/api/v1/submissions/16/publications/__publicationId__/contributors",fields:[{...Py,groupId:"default",isMultilingual:!0,value:{en:""}},{...oT,isRequired:!1,groupId:"default",isMultilingual:!0,value:{en:""}},{...oT,name:"preferredPublicName",label:"Preferred Public Name",isRequired:!1,groupId:"default",isMultilingual:!0,value:{en:""}},{...Qh,groupId:"default"},{...L_,groupId:"default"},{...jT,groupId:"default"},{...vT,groupId:"default"},{...Nv,groupId:"default"},{..._T,groupId:"default"},{...vO},{...Hg,name:"includeInBrowse",label:"Publication Lists",groupId:"default",isMultilingual:!1,value:!0,options:[{value:!0,label:"Include this contributor when identifying authors in lists of publications."}]}],groups:[{id:"default",pageId:"default"}],pages:[{id:"default",submitButton:{label:"Save"}}],primaryLocale:"en",visibleLocales:["en"],supportedFormLocales:[{key:"en",label:"English"}],errors:{}}},citations:fO,metadata:gO,titleAbstract:TE},currentPublication:t,editorialHistoryUrl:"http://example.org",publicationFormIds:["titleAbstract"],publicationList:[{id:801,datePublished:"2019-01-01 12:01:23",status:3,version:1},{id:t.id,datePublished:t.datePublished,status:t.status,version:t.version},{id:e.id,datePublished:e.datePublished,status:e.status,version:e.version}],publicationTabsLabel:"Publication details for version {$version}",publishLabel:"Publish",publishUrl:"http://example.org",representationsGridUrl:"http://example.org",schedulePublicationLabel:"Schedule for Publication",statusLabel:"Status: ",submission:{contextId:1,currentPublicationId:852,dateLastActivity:"2018-11-03 12:34:53",dateSubmitted:"2018-08-03",id:732,lastModified:"2019-06-03 18:03:32",stageId:5,status:1,submissionProgress:"",urlAuthorWorkflow:"/authorDashboard/submission/1",urlEditorialWorkflow:"/workflow/access/1",urlWorkflow:"/workflow/access/1",urlPublished:"/articles/view/1"},submissionApiUrl:"http://example.org",submissionFileApiUrl:"http://example.org",submissionLibraryLabel:"Library",submissionLibraryUrl:"http://example.org",supportsReferences:!0,unpublishConfirmLabel:"Are you sure you don't want this to be published?",unpublishLabel:"Unpublish",unscheduleConfirmLabel:"Are you sure you don't want this scheduled for publication?",versionLabel:"Version: ",versionConfirmTitle:"Create New Version",versionConfirmMessage:"Are you sure you want to create a new version?",workingPublication:e}},methods:{alert(t){alert(t)}},created(){pkp.localeKeys["contributor.listPanel.preview.description"]="Contributors to this publication will be identified in this journal in the following formats.",pkp.localeKeys["contributor.listPanel.preview.format"]="Format",pkp.localeKeys["contributor.listPanel.preview.display"]="Display",pkp.localeKeys["contributor.listPanel.preview.abbreviated"]="Abbreviated",pkp.localeKeys["contributor.listPanel.preview.publicationLists"]="Publication Lists",pkp.localeKeys["contributor.listPanel.preview.full"]="Full"}},yO=_O,kO=(0,T.Z)(yO,dO,pO,!1,null,null,null),wO=kO.exports,SO='<template>\n\t<div class="pkpWorkflow">\n\t\t<pkp-header :is-one-line="true" class="pkpWorkflow__header">\n\t\t\t<h1 class="pkpWorkflow__identification">\n\t\t\t\t<badge\n\t\t\t\t\tv-if="submission.status === getConstant(\'STATUS_PUBLISHED\')"\n\t\t\t\t\tclass="pkpWorkflow__identificationStatus"\n\t\t\t\t\t:is-success="true"\n\t\t\t\t>\n\t\t\t\t\tPublished\n\t\t\t\t</badge>\n\t\t\t\t<badge\n\t\t\t\t\tv-else-if="submission.status === getConstant(\'STATUS_SCHEDULED\')"\n\t\t\t\t\tclass="pkpWorkflow__identificationStatus"\n\t\t\t\t\t:is-primary="true"\n\t\t\t\t>\n\t\t\t\t\tScheduled\n\t\t\t\t</badge>\n\t\t\t\t<span class="pkpWorkflow__identificationId">{{ submission.id }}</span>\n\t\t\t\t<span class="pkpWorkflow__identificationDivider">/</span>\n\t\t\t\t<span\n\t\t\t\t\tv-if="currentPublication.authorsStringShort"\n\t\t\t\t\tclass="pkpWorkflow__identificationAuthor"\n\t\t\t\t>\n\t\t\t\t\t{{ currentPublication.authorsStringShort }}\n\t\t\t\t</span>\n\t\t\t\t<span\n\t\t\t\t\tv-if="currentPublication.authorsStringShort"\n\t\t\t\t\tclass="pkpWorkflow__identificationDivider"\n\t\t\t\t>\n\t\t\t\t\t/\n\t\t\t\t</span>\n\t\t\t\t<span class="pkpWorkflow__identificationTitle">\n\t\t\t\t\t{{\n\t\t\t\t\t\tlocalizeSubmission(\n\t\t\t\t\t\t\tcurrentPublication.fullTitle,\n\t\t\t\t\t\t\tcurrentPublication.locale\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t</span>\n\t\t\t</h1>\n\t\t\t<template slot="actions">\n\t\t\t\t<pkp-button element="a" :href="submission.urlPublished">\n\t\t\t\t\t{{ __(\'common.view\') }}\n\t\t\t\t</pkp-button>\n\t\t\t\t<pkp-button\n\t\t\t\t\tref="activityButton"\n\t\t\t\t\t@click="alert(\'Opens the editorial history in a modal.\')"\n\t\t\t\t>\n\t\t\t\t\tActivity Log\n\t\t\t\t</pkp-button>\n\t\t\t\t<pkp-button\n\t\t\t\t\tref="library"\n\t\t\t\t\t@click="alert(\'Opens the submission library in a modal.\')"\n\t\t\t\t>\n\t\t\t\t\tLibrary\n\t\t\t\t</pkp-button>\n\t\t\t</template>\n\t\t</pkp-header>\n\t\t<tabs default-tab="workflow">\n\t\t\t<tab id="workflow" label="Workflow">\n\t\t\t\t<notification type="warning">\n\t\t\t\t\tThis component preview does not include the full workflow.\n\t\t\t\t</notification>\n\t\t\t</tab>\n\t\t\t<tab id="publication" label="Publication">\n\t\t\t\t<div class="pkpPublication" ref="publication" aria-live="polite">\n\t\t\t\t\t<pkp-header class="pkpPublication__header" :is-one-line="false">\n\t\t\t\t\t\t<span class="pkpPublication__status">\n\t\t\t\t\t\t\t<strong>{{ statusLabel }}</strong>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tv-if="\n\t\t\t\t\t\t\t\t\tworkingPublication.status === getConstant(\'STATUS_QUEUED\') &&\n\t\t\t\t\t\t\t\t\tworkingPublication.id === currentPublication.id\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\tclass="pkpPublication__statusUnpublished"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tUnscheduled\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tv-else-if="\n\t\t\t\t\t\t\t\t\tworkingPublication.status === getConstant(\'STATUS_SCHEDULED\')\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tScheduled\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tv-else-if="\n\t\t\t\t\t\t\t\t\tworkingPublication.status === getConstant(\'STATUS_PUBLISHED\')\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\tclass="pkpPublication__statusPublished"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tPublished\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span v-else class="pkpPublication__statusUnpublished">\n\t\t\t\t\t\t\t\tUnpublished\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tv-if="publicationList.length > 1"\n\t\t\t\t\t\t\tclass="pkpPublication__version"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<strong tabindex="0">{{ versionLabel }}</strong>\n\t\t\t\t\t\t\t{{ workingPublication.version }}\n\t\t\t\t\t\t\t<dropdown\n\t\t\t\t\t\t\t\tclass="pkpPublication__versions"\n\t\t\t\t\t\t\t\tlabel="All Versions"\n\t\t\t\t\t\t\t\t:is-link="true"\n\t\t\t\t\t\t\t\tsubmenu-label="Submenu"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\tv-for="publication in publicationList"\n\t\t\t\t\t\t\t\t\t\t:key="publication.id"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclass="pkpDropdown__action"\n\t\t\t\t\t\t\t\t\t\t\t:disabled="publication.id === workingPublication.id"\n\t\t\t\t\t\t\t\t\t\t\t@click="setWorkingPublicationById(publication.id)"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{{ publication.version }} /\n\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\tv-if="\n\t\t\t\t\t\t\t\t\t\t\t\t\tpublication.status === getConstant(\'STATUS_QUEUED\') &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tpublication.id === currentPublication.id\n\t\t\t\t\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tUnscheduled\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\tv-else-if="\n\t\t\t\t\t\t\t\t\t\t\t\t\tpublication.status === getConstant(\'STATUS_SCHEDULED\')\n\t\t\t\t\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tScheduled\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\tv-else-if="\n\t\t\t\t\t\t\t\t\t\t\t\t\tpublication.status === getConstant(\'STATUS_PUBLISHED\')\n\t\t\t\t\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{{ publication.datePublished }}\n\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t<template v-else>Unpublished</template>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</dropdown>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<template slot="actions">\n\t\t\t\t\t\t\t<pkp-button\n\t\t\t\t\t\t\t\tv-if="\n\t\t\t\t\t\t\t\t\tworkingPublication.status === getConstant(\'STATUS_QUEUED\')\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\tref="publish"\n\t\t\t\t\t\t\t\t@click="alert(\'Opens a modal to confirm publishing.\')"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\tsubmission.status === getConstant(\'STATUS_PUBLISHED\')\n\t\t\t\t\t\t\t\t\t\t? publishLabel\n\t\t\t\t\t\t\t\t\t\t: schedulePublicationLabel\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</pkp-button>\n\t\t\t\t\t\t\t<pkp-button\n\t\t\t\t\t\t\t\tv-else-if="\n\t\t\t\t\t\t\t\t\tworkingPublication.status === getConstant(\'STATUS_SCHEDULED\')\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t:is-warnable="true"\n\t\t\t\t\t\t\t\t@click="\n\t\t\t\t\t\t\t\t\talert(\'Opens a modoal to confirm scheduling for publication.\')\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tUnschedule\n\t\t\t\t\t\t\t</pkp-button>\n\t\t\t\t\t\t\t<pkp-button\n\t\t\t\t\t\t\t\tv-else-if="\n\t\t\t\t\t\t\t\t\tworkingPublication.status === getConstant(\'STATUS_PUBLISHED\')\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t:is-warnable="true"\n\t\t\t\t\t\t\t\t@click="alert(\'Opens a modal to confirm unpublishing.\')"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tUnpublish\n\t\t\t\t\t\t\t</pkp-button>\n\t\t\t\t\t\t\t<pkp-button\n\t\t\t\t\t\t\t\tv-if="canCreateNewVersion"\n\t\t\t\t\t\t\t\tref="createVersion"\n\t\t\t\t\t\t\t\t@click="\n\t\t\t\t\t\t\t\t\talert(\n\t\t\t\t\t\t\t\t\t\t\'Creates a new version and loads that as the working publication.\'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCreate New Version\n\t\t\t\t\t\t\t</pkp-button>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</pkp-header>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if="workingPublication.status === getConstant(\'STATUS_PUBLISHED\')"\n\t\t\t\t\t\tclass="pkpPublication__versionPublished"\n\t\t\t\t\t>\n\t\t\t\t\t\tThis version has been published and can not be edited.\n\t\t\t\t\t</div>\n\t\t\t\t\t<tabs\n\t\t\t\t\t\tclass="pkpPublication__tabs"\n\t\t\t\t\t\t:is-side-tabs="true"\n\t\t\t\t\t\t:label="currentPublicationTabsLabel"\n\t\t\t\t\t>\n\t\t\t\t\t\t<tab id="titleAbstract" label="Title & Abstract">\n\t\t\t\t\t\t\t<pkp-form v-bind="components.titleAbstract" @set="set" />\n\t\t\t\t\t\t</tab>\n\t\t\t\t\t\t<tab id="contributors" label="Contributors">\n\t\t\t\t\t\t\t<contributors-list-panel\n\t\t\t\t\t\t\t\tv-bind="components.contributors"\n\t\t\t\t\t\t\t\tclass="pkpWorkflow__contributors"\n\t\t\t\t\t\t\t\t@set="set"\n\t\t\t\t\t\t\t\t:items="workingPublication.authors"\n\t\t\t\t\t\t\t\t:publication="workingPublication"\n\t\t\t\t\t\t\t\t:publication-api-url="\n\t\t\t\t\t\t\t\t\tsubmissionApiUrl + \'/publications/\' + workingPublication.id\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t@updated:publication="setWorkingPublication"\n\t\t\t\t\t\t\t\t@updated:contributors="setContributors"\n\t\t\t\t\t\t\t></contributors-list-panel>\n\t\t\t\t\t\t</tab>\n\t\t\t\t\t\t<tab id="metadata" label="Metadata">\n\t\t\t\t\t\t\t<pkp-form v-bind="components.metadata" @set="set" />\n\t\t\t\t\t\t</tab>\n\t\t\t\t\t\t<tab v-if="supportsReferences" id="citations" label="Citations">\n\t\t\t\t\t\t\t<pkp-form v-bind="components.citations" @set="set" />\n\t\t\t\t\t\t</tab>\n\t\t\t\t\t\t<tab id="identifiers" label="Identifiers">... DOIs ...</tab>\n\t\t\t\t\t\t<tab id="galleys" label="Galleys">\n\t\t\t\t\t\t\t<div id="representations-grid" ref="representations">\n\t\t\t\t\t\t\t\t<spinner></spinner>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</tab>\n\t\t\t\t\t\t<tab id="license" label="Permissions & Disclosure">\n\t\t\t\t\t\t\t... copyright and license ...\n\t\t\t\t\t\t</tab>\n\t\t\t\t\t\t<tab id="issue" label="Issue">\n\t\t\t\t\t\t\t... issue form for cover image, section, etc...\n\t\t\t\t\t\t</tab>\n\t\t\t\t\t</tabs>\n\t\t\t\t\t<span class="pkpPublication__mask" :class="publicationMaskClasses">\n\t\t\t\t\t\t<spinner></spinner>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</tab>\n\t\t</tabs>\n\t\t<div\n\t\t\taria-live="polite"\n\t\t\taria-atomic="true"\n\t\t\tclass="app__notifications"\n\t\t\tref="notifications"\n\t\t\trole="status"\n\t\t>\n\t\t\t<transition-group name="app__notification">\n\t\t\t\t<notification\n\t\t\t\t\tv-for="notification in notifications"\n\t\t\t\t\t:key="notification.key"\n\t\t\t\t\t:type="notification.type"\n\t\t\t\t\t:can-dismiss="true"\n\t\t\t\t\t@dismiss="dismissNotification(notification.key)"\n\t\t\t\t>\n\t\t\t\t\t{{ notification.message }}\n\t\t\t\t</notification>\n\t\t\t</transition-group>\n\t\t</div>\n\t\t<transition name="app__loading">\n\t\t\t<div v-if="isLoading" class="app__loading" role="alert">\n\t\t\t\t<div class="app__loading__content">\n\t\t\t\t\t<spinner></spinner>\n\t\t\t\t\tLoading\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</transition>\n\t</div>\n</template>\n\n<script>\nimport WorkflowPage from \'@/components/Container/WorkflowPage.vue\';\nimport formCitations from \'@/docs/components/Form/helpers/form-citations\';\nimport formMetadata from \'@/docs/components/Form/helpers/form-metadata\';\nimport formTitleAbstract from \'@/docs/components/Form/helpers/form-title-abstract\';\nimport basePublication from \'@/docs/data/publication\';\nimport authors from \'@/docs/data/authors\';\nimport fieldAffiliation from \'../../Form/helpers/field-text-affiliation\';\nimport fieldAuthorsRole from \'../../Form/helpers/field-options-authors-role\';\nimport fieldBiography from \'../../Form/helpers/field-rich-textarea-bio\';\nimport fieldConfirmation from \'../../Form/helpers/field-options-confirmation\';\nimport fieldCountry from \'../../Form/helpers/field-select-country\';\nimport fieldEmail from \'../../Form/helpers/field-text-email\';\nimport fieldGivenName from \'../../Form/helpers/field-text-given-name\';\nimport fieldFamilyName from \'../../Form/helpers/field-text-family-name\';\nimport fieldOrcid from \'../../Form/helpers/field-text-orcid\';\nimport fieldUrl from \'../../Form/helpers/field-text-url\';\n\nexport default {\n\textends: WorkflowPage,\n\tdata: function () {\n\t\tconst currentPublication = {\n\t\t\t...basePublication,\n\t\t\tid: 852,\n\t\t\tdatePublished: \'2019-03-23 09:12:32\',\n\t\t\tisPublished: true,\n\t\t\tissueId: 1,\n\t\t\tlastModified: \'2019-03-23 09:12:32\',\n\t\t\tstatus: 3,\n\t\t\tversion: 2,\n\t\t};\n\t\tconst latestPublication = {\n\t\t\t...basePublication,\n\t\t\tid: 921,\n\t\t\tlastModified: \'2019-06-03 18:03:32\',\n\t\t\tstatus: 1,\n\t\t\ttitle: {\n\t\t\t\ten: \'Amet sit dolor ipsum lorem\',\n\t\t\t\tfr_CA: \'FR Amet sit dolor ipsum lorem\',\n\t\t\t},\n\t\t\tversion: 3,\n\t\t};\n\t\treturn {\n\t\t\tactivityLogLabel: \'Activity Log\',\n\t\t\tcanAccessPublication: true,\n\t\t\tcanEditPublication: true,\n\t\t\tcomponents: {\n\t\t\t\tcontributors: {\n\t\t\t\t\tid: \'contributors\',\n\t\t\t\t\titems: [...authors],\n\t\t\t\t\ttitle: \'Contributors\',\n\t\t\t\t\ti18nAddContributor: \'Add Contributor\',\n\t\t\t\t\tpublicationApiUrl:\n\t\t\t\t\t\t\'http://localhost:8088/index.php/ts/api/v1/submissions/16/publications\',\n\t\t\t\t\ti18nConfirmDelete:\n\t\t\t\t\t\t\'Are you sure you want to remove {$name} as a contributor? This action can not be undone.\',\n\t\t\t\t\ti18nDeleteContributor: \'Delete\',\n\t\t\t\t\ti18nEditContributor: \'Edit\',\n\t\t\t\t\tcanEditPublication: true,\n\t\t\t\t\tform: {\n\t\t\t\t\t\tid: \'contributor\',\n\t\t\t\t\t\tmethod: \'POST\',\n\t\t\t\t\t\taction:\n\t\t\t\t\t\t\t\'http://localhost:8088/index.php/ts/api/v1/submissions/16/publications/__publicationId__/contributors\',\n\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...fieldGivenName,\n\t\t\t\t\t\t\t\tgroupId: \'default\',\n\t\t\t\t\t\t\t\tisMultilingual: true,\n\t\t\t\t\t\t\t\tvalue: {en: \'\'},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...fieldFamilyName,\n\t\t\t\t\t\t\t\tisRequired: false,\n\t\t\t\t\t\t\t\tgroupId: \'default\',\n\t\t\t\t\t\t\t\tisMultilingual: true,\n\t\t\t\t\t\t\t\tvalue: {en: \'\'},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...fieldFamilyName,\n\t\t\t\t\t\t\t\tname: \'preferredPublicName\',\n\t\t\t\t\t\t\t\tlabel: \'Preferred Public Name\',\n\t\t\t\t\t\t\t\tisRequired: false,\n\t\t\t\t\t\t\t\tgroupId: \'default\',\n\t\t\t\t\t\t\t\tisMultilingual: true,\n\t\t\t\t\t\t\t\tvalue: {en: \'\'},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...fieldEmail,\n\t\t\t\t\t\t\t\tgroupId: \'default\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...fieldCountry,\n\t\t\t\t\t\t\t\tgroupId: \'default\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...fieldUrl,\n\t\t\t\t\t\t\t\tgroupId: \'default\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...fieldOrcid,\n\t\t\t\t\t\t\t\tgroupId: \'default\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...fieldBiography,\n\t\t\t\t\t\t\t\tgroupId: \'default\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...fieldAffiliation,\n\t\t\t\t\t\t\t\tgroupId: \'default\',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...fieldAuthorsRole,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...fieldConfirmation,\n\t\t\t\t\t\t\t\tname: \'includeInBrowse\',\n\t\t\t\t\t\t\t\tlabel: \'Publication Lists\',\n\t\t\t\t\t\t\t\tgroupId: \'default\',\n\t\t\t\t\t\t\t\tisMultilingual: false,\n\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: true,\n\t\t\t\t\t\t\t\t\t\tlabel:\n\t\t\t\t\t\t\t\t\t\t\t\'Include this contributor when identifying authors in lists of publications.\',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\tgroups: [{id: \'default\', pageId: \'default\'}],\n\t\t\t\t\t\tpages: [{id: \'default\', submitButton: {label: \'Save\'}}],\n\t\t\t\t\t\tprimaryLocale: \'en\',\n\t\t\t\t\t\tvisibleLocales: [\'en\'],\n\t\t\t\t\t\tsupportedFormLocales: [{key: \'en\', label: \'English\'}],\n\t\t\t\t\t\terrors: {},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tcitations: formCitations,\n\t\t\t\tmetadata: formMetadata,\n\t\t\t\ttitleAbstract: formTitleAbstract,\n\t\t\t},\n\t\t\tcurrentPublication: currentPublication,\n\t\t\teditorialHistoryUrl: \'http://example.org\',\n\t\t\tpublicationFormIds: [\'titleAbstract\'],\n\t\t\tpublicationList: [\n\t\t\t\t{\n\t\t\t\t\tid: 801,\n\t\t\t\t\tdatePublished: \'2019-01-01 12:01:23\',\n\t\t\t\t\tstatus: 3,\n\t\t\t\t\tversion: 1,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: currentPublication.id,\n\t\t\t\t\tdatePublished: currentPublication.datePublished,\n\t\t\t\t\tstatus: currentPublication.status,\n\t\t\t\t\tversion: currentPublication.version,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: latestPublication.id,\n\t\t\t\t\tdatePublished: latestPublication.datePublished,\n\t\t\t\t\tstatus: latestPublication.status,\n\t\t\t\t\tversion: latestPublication.version,\n\t\t\t\t},\n\t\t\t],\n\t\t\tpublicationTabsLabel: \'Publication details for version {$version}\',\n\t\t\tpublishLabel: \'Publish\',\n\t\t\tpublishUrl: \'http://example.org\',\n\t\t\trepresentationsGridUrl: \'http://example.org\',\n\t\t\tschedulePublicationLabel: \'Schedule for Publication\',\n\t\t\tstatusLabel: \'Status: \',\n\t\t\tsubmission: {\n\t\t\t\tcontextId: 1,\n\t\t\t\tcurrentPublicationId: 852,\n\t\t\t\tdateLastActivity: \'2018-11-03 12:34:53\',\n\t\t\t\tdateSubmitted: \'2018-08-03\',\n\t\t\t\tid: 732,\n\t\t\t\tlastModified: \'2019-06-03 18:03:32\',\n\t\t\t\tstageId: 5,\n\t\t\t\tstatus: 1,\n\t\t\t\tsubmissionProgress: \'\',\n\t\t\t\turlAuthorWorkflow: \'/authorDashboard/submission/1\',\n\t\t\t\turlEditorialWorkflow: \'/workflow/access/1\',\n\t\t\t\turlWorkflow: \'/workflow/access/1\',\n\t\t\t\turlPublished: \'/articles/view/1\',\n\t\t\t},\n\t\t\tsubmissionApiUrl: \'http://example.org\',\n\t\t\tsubmissionFileApiUrl: \'http://example.org\',\n\t\t\tsubmissionLibraryLabel: \'Library\',\n\t\t\tsubmissionLibraryUrl: \'http://example.org\',\n\t\t\tsupportsReferences: true,\n\t\t\tunpublishConfirmLabel:\n\t\t\t\t"Are you sure you don\'t want this to be published?",\n\t\t\tunpublishLabel: \'Unpublish\',\n\t\t\tunscheduleConfirmLabel:\n\t\t\t\t"Are you sure you don\'t want this scheduled for publication?",\n\t\t\tversionLabel: \'Version: \',\n\t\t\tversionConfirmTitle: \'Create New Version\',\n\t\t\tversionConfirmMessage: \'Are you sure you want to create a new version?\',\n\t\t\tworkingPublication: latestPublication,\n\t\t};\n\t},\n\tmethods: {\n\t\talert(msg) {\n\t\t\talert(msg);\n\t\t},\n\t},\n\tcreated() {\n\t\tpkp.localeKeys[\'contributor.listPanel.preview.description\'] =\n\t\t\t\'Contributors to this publication will be identified in this journal in the following formats.\';\n\t\tpkp.localeKeys[\'contributor.listPanel.preview.format\'] = \'Format\';\n\t\tpkp.localeKeys[\'contributor.listPanel.preview.display\'] = \'Display\';\n\t\tpkp.localeKeys[\'contributor.listPanel.preview.abbreviated\'] = \'Abbreviated\';\n\t\tpkp.localeKeys[\'contributor.listPanel.preview.publicationLists\'] =\n\t\t\t\'Publication Lists\';\n\t\tpkp.localeKeys[\'contributor.listPanel.preview.full\'] = \'Full\';\n\t},\n};\n<\/script>\n\n<style lang="less">\n@import \'../../../../styles/_import\';\n\n.component--WorkflowPage .component__exampleWrapper {\n\tbackground: @bg;\n}\n</style>\n',TO="## Data\n\n| Key | Description |\n| --- | --- |\n| `activityLogLabel` | Label for the activity log |\n| `canAccessPublication` | Can the current user access the publication details? Default: `false` |\n| `canEditPublication` | Can the current user edit the publication details? Default: `false` |\n| `components` | Key/value map of nested components, such as forms. |\n| `currentPublication` | The submission's current publication. |\n| `editorialHistoryUrl` | URL to get the activity log modal. |\n| `publicationFormIds` | Array containing all of the keys in `components` that match a publication form. These forms will be updated when changing versions.  |\n| `publicationList` | Array containing the `id`, `datePublished`, `status` and `version` of every publication for this submission. |\n| `publicationTabsLabel` | Label for the publication details tabs. |\n| `publishLabel` | Label for the publish button. |\n| `publishUrl` | URL to get the publish modal. |\n| `representationsGridUrl` | URL to get the galley/publication formats grid. |\n| `schedulePublicationLabel` | Label for the schedule for publication button. |\n| `statusLabel` | Label for the working publication's current status. |\n| `submission` | Object containing details about this submission. |\n| `submissionApiUrl` | URL for the submissions REST API endpoint. |\n| `submissionLibraryLabel` | Label for the submission library button. |\n| `submissionLibraryUrl` | URL to get the submission library. |\n| `supportsReferences` | Should the form for references be shown? |\n| `unpublishConfirmLabel` | Confirmation message before unpublishing a publication. |\n| `unpublishLabel` | Label for the unpublish button. |\n| `unscheduleConfirmLabel` | Confirmation message before scheduling for publication. |\n| `versionLabel` | Label for the current version. |\n| `versionConfirmMessage` | Confirmation message before creating a new version. |\n| `versionConfirmTitle` | Title of the confirmation modal before creating a new version. |\n| `workingPublication` | Object representing the working publication. This is the version that is currently being shown. |\n\n## Usage\n\nThe `WorkflowPage` extends the [`Container`](/#/pages/container) app. Use this app to show the submission workflow.\n\n## Template\n\nThe `WorkflowPage` app is a template-less component. You must write the template in Smarty on the server-side and it will be compiled at run time.\n\nThe example here provides a sample template.\n",FO={extends:H,data(){return{name:"WorkflowPage",readme:TO,examples:[{component:wO,name:"Base",template:this.extractTemplate(SO)}]}}},xO=FO,PO=(0,T.Z)(xO,ER,RR,!1,null,null,null),LO=PO.exports;g.ZP.use(I.ZP);var CO=new I.ZP({base:"/dev/ui-library/3.4/",scrollBehavior(t,e,n){return{x:0,y:0}},routes:[{path:"/",name:"index",component:j},{path:"/pages/:page?",name:"page",component:j},{path:"/component/ActionPanel/:example?",name:"ActionPanel",component:St},{path:"/component/Badge/:example?",name:"Badge",component:tl},{path:"/component/Button/:example?",name:"Button",component:ul},{path:"/component/ButtonRow/:example?",name:"ButtonRow",component:Tl},{path:"/component/Chart/:example?",name:"Chart",component:Id},{path:"/component/Composer/:example?",name:"Composer",component:dc},{path:"/component/DateRange/:example?",name:"DateRange",component:Pc},{path:"/component/DecisionPage/:example?",name:"DecisionPage",component:gm},{path:"/component/Dropdown/:example?",name:"Dropdown",component:Zh},{path:"/component/Form/fields/FieldArchivingPn/:example?",name:"Form/fields/FieldArchivingPn",component:xb},{path:"/component/Form/fields/FieldAutosuggestPreset/:example?",name:"Form/fields/FieldAutosuggestPreset",component:mb},{path:"/component/Form/fields/FieldBaseAutosuggest/:example?",name:"Form/fields/FieldBaseAutosuggest",component:nf},{path:"/component/Form/fields/FieldBase/:example?",name:"Form/fields/FieldBase",component:Af},{path:"/component/Form/fields/FieldColor/:example?",name:"Form/fields/FieldColor",component:Wf},{path:"/component/Form/fields/FieldPubId/:example?",name:"Form/fields/FieldPubId",component:ng},{path:"/component/Form/fields/FieldHtml/:example?",name:"Form/fields/FieldHtml",component:bg},{path:"/component/Form/fields/FieldMetadataSetting/:example?",name:"Form/fields/FieldMetadataSetting",component:Lg},{path:"/component/Form/fields/FieldOptions/:example?",name:"Form/fields/FieldOptions",component:cv},{path:"/component/Form/fields/FieldPreparedContent/:example?",name:"Form/fields/FieldPreparedContent",component:Tv},{path:"/component/Form/fields/FieldRadioInput/:example?",name:"Form/fields/FieldRadioInput",component:Ov},{path:"/component/Form/fields/FieldRichTextarea/:example?",name:"Form/fields/FieldRichTextarea",component:F_},{path:"/component/Form/fields/FieldSelect/:example?",name:"Form/fields/FieldSelect",component:M_},{path:"/component/Form/fields/FieldSelectIssue/:example?",name:"Form/fields/FieldSelectIssue",component:cy},{path:"/component/Form/fields/FieldShowEnsuringLink/:example?",name:"Form/fields/FieldShowEnsuringLink",component:Ty},{path:"/component/Form/fields/FieldText/:example?",name:"Form/fields/FieldText",component:_k},{path:"/component/Form/fields/FieldTextarea/:example?",name:"Form/fields/FieldTextarea",component:zk},{path:"/component/Form/fields/FieldUpload/:example?",name:"Form/fields/FieldUpload",component:aw},{path:"/component/Form/fields/FieldUploadImage/:example?",name:"Form/fields/FieldUploadImage",component:vw},{path:"/component/Form/:example?",name:"Form",component:hF},{path:"/component/File/:example?",name:"File",component:Aw},{path:"/component/FileAttacher/:example?",name:"FileAttacher",component:Yw},{path:"/component/FileUploader/:example?",name:"FileUploader",component:oS},{path:"/component/FileUploadProgress/:example?",name:"FileUploadProgress",component:xS},{path:"/component/Filter/:example?",name:"Filter",component:aT},{path:"/component/Header/:example?",name:"Header",component:xF},{path:"/component/HelpButton/:example?",name:"HelpButton",component:MF},{path:"/component/Icon/:example?",name:"Icon",component:GF},{path:"/component/List/:example?",name:"List",component:Fx},{path:"/component/ListPanel/:example?",name:"ListPanel",component:xL},{path:"/component/ListPanel/components/AnnouncementsListPanel/:example?",name:"AnnouncementsListPanel",component:Wa},{path:"/component/ListPanel/components/CatalogListPanel/:example?",name:"CatalogListPanel",component:id},{path:"/component/ListPanel/components/DoiListPanel/:example?",name:"DoiListPanel",component:uh},{path:"/component/ListPanel/components/DoiListPanelOJS/:example?",name:"DoiListPanelOJS",component:Ch},{path:"/component/ListPanel/components/InstitutionsListPanel/:example?",name:"InstitutionsListPanel",component:mx},{path:"/component/ManageEmailsPage/:example?",name:"ManageEmailsPage",component:WL},{path:"/component/ListPanel/components/SelectReviewerListPanel/:example?",name:"SelectReviewerListPanel",component:GI},{path:"/component/ListPanel/components/SubmissionFilesListPanel/:example?",name:"SubmissionFilesListPanel",component:kD},{path:"/component/ListPanel/components/SubmissionsListPanel/:example?",name:"SubmissionsListPanel",component:DD},{path:"/component/SubmissionWizardPage/:example?",name:"SubmissionWizardPage",component:RE},{path:"/component/Modal/:example?",name:"Modal",component:wC},{path:"/component/MultilingualProgress/:example?",name:"MultilingualProgress",component:RC},{path:"/component/Notification/:example?",name:"Notification",component:zC},{path:"/component/Orderer/:example?",name:"Orderer",component:SA},{path:"/component/Page/:example?",name:"Page",component:BA},{path:"/component/Pagination/:example?",name:"Pagination",component:HA},{path:"/component/Panel/:example?",name:"Panel",component:_I},{path:"/component/ProgressBar/:example?",name:"ProgressBar",component:FI},{path:"/component/Search/:example?",name:"Search",component:OI},{path:"/component/Spinner/:example?",name:"Spinner",component:KE},{path:"/component/StatsPage/:example?",name:"StatsPage",component:VR},{path:"/component/Steps/:example?",name:"Steps",component:nB},{path:"/component/Table/:example?",name:"Table",component:dU},{path:"/component/Tabs/:example?",name:"Tabs",component:YU},{path:"/component/Tooltip/:example?",name:"Tooltip",component:oO},{path:"/component/WorkflowPage/:example?",name:"WorkflowPage",component:LO},{path:"/utilities/Dialog/:example?",name:"Dialog",component:Cm},{path:"/utilities/Notify/:example?",name:"Notify",component:sA}]}),AO={mixins:[mt],methods:{__:function(t,e){return"undefined"===typeof pkp.localeKeys[t]?"":"undefined"===typeof e?pkp.localeKeys[t]:this.replaceLocaleParams(pkp.localeKeys[t],e)},getBrowserSafeDate(t){return KD().utc(t).toDate()},localize:function(t,e){if(!t)return"";if(void 0!==e)return t.hasOwnProperty(e)?t[e]:"";if(t.hasOwnProperty($.pkp.app.currentLocale)&&t[$.pkp.app.currentLocale])return t[$.pkp.app.currentLocale];if(t.hasOwnProperty($.pkp.app.primaryLocale)&&t[$.pkp.app.primaryLocale])return t[$.pkp.app.primaryLocale];for(var n in t)if(t[n])return t[n];return""},localizeDate(t,e){if(!t)return"";t=this.getBrowserSafeDate(t);let n=void 0!==e?e.replace("_","-"):$.pkp.app.currentLocale.replace("_","-");return t.toLocaleDateString(n,{weekday:"long",year:"numeric",month:"long",day:"numeric"})},replaceLocaleParams(t,e){for(var n in e){let i=e[n];i===Object(i)&&(i=this.localize(i));const s=new RegExp("{\\$"+n+"}","g");t=t.replace(s,i)}return t},setFocusIn(t,e){const n=["button","[href]","input","select","textarea","details",'[tabindex]:not([tabindex="-1"])'];let i=[...t.querySelectorAll(n.join(","))].filter((t=>!t.hasAttribute("disabled"))).filter((t=>!t.hasAttribute("aria-hidden")));i.length&&(e?i[i.length-1].focus():i[0].focus())},setFocusToRef(t){this.$refs[t]&&(this.$refs[t].$el?this.$refs[t].$el.focus():"undefined"!==typeof this.$refs[t].focus&&this.$refs[t].focus())}}},IO=n(97611),DO=n.n(IO),EO=n(32067),RO=n(93081),BO=n.n(RO),UO=function(){var t=this,e=t._self._c;return e("div",{staticClass:"panel",class:t.stack?"panel--stack":"panel--wide"},[t._t("default")],2)},OO=[],MO={name:"Panel",props:{stack:{type:Boolean,default(){return!1}}}},$O=MO,NO=(0,T.Z)($O,UO,OO,!1,null,null,null),jO=NO.exports,qO=function(){var t=this,e=t._self._c;return e("div",{staticClass:"panelSection"},[t.$slots.header?e("div",{staticClass:"panelSection__header"},[t._t("header")],2):t._e(),e("div",{staticClass:"panelSection__content"},[t._t("default")],2)])},WO=[],VO={name:"PanelSection"},KO=VO,zO=(0,T.Z)(KO,qO,WO,!1,null,null,null),HO=zO.exports,ZO=function(){var t=this,e=t._self._c;return e(t.element,{tag:"component",staticClass:"pkpButton",class:t.classes,attrs:{href:"a"===t.element&&t.href,disabled:t.isDisabled},on:{click:t.click,focus:function(e){return t.$emit("focus")},blur:function(e){return t.$emit("blur")}}},[t._t("default")],2)},GO=[],YO={name:"pkpButton",props:{element:{type:String,default:"button"},href:String,isPrimary:Boolean,isWarnable:Boolean,isActive:Boolean,isLink:Boolean,isDisabled:Boolean},computed:{classes(){let t=[];return this.isPrimary&&t.push("pkpButton--isPrimary"),this.isWarnable&&t.push("pkpButton--isWarnable"),this.isActive&&t.push("pkpButton--isActive"),this.isLink&&t.push("pkpButton--isLink"),t}},methods:{click(t){"button"===this.element&&t.preventDefault(),this.$emit("click")}}},JO=YO,XO=(0,T.Z)(JO,ZO,GO,!1,null,null,null),QO=XO.exports,tM=function(){var t=this,e=t._self._c;return e("span",{staticClass:"pkpSpinner",attrs:{"aria-hidden":"true"}})},eM=[],nM={},iM=(0,T.Z)(nM,tM,eM,!1,null,null,null),sM=iM.exports,aM=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpStep",attrs:{hidden:!t.isActive}},[t._t("default")],2)},lM=[],rM={props:{id:{type:String,required:!0},label:{type:String,default(){return""}}},data(){return{isActive:!1}}},oM=rM,dM=(0,T.Z)(oM,aM,lM,!1,null,null,null),pM=dM.exports,cM=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpSteps",class:{"pkpSteps--collapsed":t.collapsed}},[e("div",{ref:"buttons",staticClass:"pkpSteps__buttonWrapper",class:{"-screenReader":1===t.steps.length}},[e("span",{staticClass:"pkpSteps__line",attrs:{"aria-hidden":"true"}}),e("span",{ref:"line",staticClass:"pkpSteps__line pkpSteps__line__started",attrs:{"aria-hidden":"true"}}),e("ol",{staticClass:"pkpSteps__buttons",attrs:{"aria-label":t.label}},t._l(t.steps,(function(n,i){return e("li",{key:n.id,staticClass:"pkpSteps__step",class:{"-screenReader":t.collapsed&&!t.stepsVisible&&t.current!==n.id}},[t.startedSteps.includes(n.id)?[e("button",{ref:"button"+n.id,refInFor:!0,staticClass:"pkpSteps__step__label",class:t.current===n.id?"pkpSteps__step__label--current":t.completedSteps.includes(n.id)?"pkpSteps__step__label--completed":"",on:{click:function(e){return t.setCurrent(n.id)}}},[e("span",{staticClass:"pkpSteps__step__number"},[t.current!==n.id&&t.completedSteps.includes(n.id)?[e("icon",{attrs:{icon:"check"}})]:[t._v(" "+t._s(i+1)+" ")]],2),t._v(" "+t._s(n.label)+" ")])]:[e("span",{ref:"button"+n.id,refInFor:!0,staticClass:"pkpSteps__step__label"},[e("span",{staticClass:"pkpSteps__step__number"},[t._v(t._s(i+1))]),t._v(" "+t._s(n.label)+" ")])]],2)})),0),t.collapsed?e("div",{staticClass:"pkpSteps__controls",attrs:{"aria-hidden":"true"}},[e("span",{staticClass:"pkpSteps__progress"},[t._v(" "+t._s(t.progress)+" ")]),e("pkp-button",{on:{click:()=>t.stepsVisible=!t.stepsVisible}},[e("span",{staticClass:"-screenReader"},[t._v(" "+t._s(t.showStepsLabel)+" ")]),e("icon",{attrs:{icon:t.stepsVisible?"chevron-up":"chevron-down"}})],1)],1):t._e()]),t._t("default")],2)},uM=[],mM={props:{current:{type:String,required:!0},startedSteps:{type:Array,required:!0},label:{type:String,required:!0},progressLabel:{type:String,required:!0},scrollTo:{type:HTMLElement,default(){return null}},showStepsLabel:{type:String,required:!0}},data(){return{collapsed:!1,steps:[],stepsVisible:!1}},computed:{completedSteps(){return this.startedSteps.slice(0,-1)},progress(){return this.progressLabel.replace("{$current}",1+this.steps.findIndex((t=>t.id===this.current))).replace("{$total}",this.steps.length)}},methods:{maybeToggleCollapsedView(){const t=this.$refs.buttons.offsetWidth,e=this.$refs.buttons.querySelectorAll("li"),n=Array.prototype.slice.call(e).reduce(((t,e)=>t+e.offsetWidth),0);this.collapsed=n>t},setChildStepsIsActive(t){this.steps.forEach((e=>e.isActive=e.id===t))},setCurrent(t){this.$emit("step:open",t)},setStartedLine(){if(this.startedSteps.length<2)return void(this.$refs.line.style.right="auto");const t=this.steps.reduce(((t,e)=>this.startedSteps.includes(e.id)?e:t),this.startedSteps[0]),e=this.$refs.buttons.offsetWidth-this.$refs["button"+t.id][0].offsetLeft;this.$refs.line.style.right=e+"px"}},watch:{collapsed(t,e){t!==e&&t&&(this.stepsVisible=!1)},current(t,e){this.setChildStepsIsActive(t),this.setStartedLine(),this.$nextTick((()=>{this.setFocusIn(this.$el.querySelector(".pkpStep:not([hidden])")),this.scrollTo&&this.$scrollTo(this.scrollTo,500,{offset:-50})}))}},mounted(){this.steps=this.$children.filter((t=>"step"===t.$options._componentTag)),this.setChildStepsIsActive(this.current),this.maybeToggleCollapsedView(),Un()(this.$el,Rn()(this.maybeToggleCollapsedView,100)),this.$nextTick((()=>this.setStartedLine()))}},hM=mM,bM=(0,T.Z)(hM,cM,uM,!1,null,null,null),fM=bM.exports,gM=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpTab",class:t.classes,attrs:{role:"tabpanel",id:t.id,"aria-labelledby":t.id+"-button",hidden:!t.isActive}},[t._t("default")],2)},vM=[],_M={props:{icon:{type:String,default(){return""}},id:{type:String,required:!0},label:{type:String,default(){return""}},badge:{type:[String,Number],default(){return""}}},data(){return{isActive:!1}},computed:{classes(){let t=[];return this.isActive&&t.push("pkpTab--isActive"),this.isDisabled&&t.push("pkpTab--isDisabled"),t}}},yM=_M,kM=(0,T.Z)(yM,gM,vM,!1,null,null,null),wM=kM.exports,SM=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pkpTabs",class:{"pkpTabs--side":t.isSideTabs}},[e("div",{staticClass:"pkpTabs__buttons",attrs:{role:"tablist","aria-label":t.label}},t._l(t.tabs,(function(n){return e("button",{key:n.id,ref:"button"+n.id,refInFor:!0,staticClass:"pkpTabs__button",attrs:{"aria-selected":t.currentTab===n.id,"aria-controls":n.id,id:n.id+"-button",role:"tab",tabindex:t.currentTab===n.id?"":-1},on:{click:function(e){return t.setCurrentTab(n.id)},keydown:[function(e){return e.type.indexOf("key")||35===e.keyCode?(e.preventDefault(),t.setLastTab.apply(null,arguments)):null},function(e){return e.type.indexOf("key")||36===e.keyCode?(e.preventDefault(),t.setFirstTab.apply(null,arguments)):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.setPreviousTab.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.setNextTab.apply(null,arguments))}]}},[n.icon?[e("icon",{attrs:{icon:n.icon}}),e("span",{staticClass:"-screenReader"},[t._v(t._s(n.label))])]:[t._v(" "+t._s(n.label)+" ")],n.badge?[e("badge",[t._v(t._s(n.badge))])]:t._e()],2)})),0),t._t("default")],2)},TM=[],FM={props:{defaultTab:{type:String,default(){return""}},isSideTabs:{type:Boolean,default(){return!1}},label:{type:String,default(){return""}},trackHistory:{type:Boolean,default(){return!1}}},data(){return{currentTab:"",tabs:[]}},methods:{setCurrentTab(t){this.currentTab=t,this.$nextTick((()=>{$(this.$refs["button"+t]).focus(),this.updateUrl()}))},setFirstTab(){this.setCurrentTab(this.tabs[0].id)},setLastTab(){this.setCurrentTab(this.tabs[this.tabs.length-1].id)},setNextTab(){const t=this.tabs.findIndex((t=>t.id===this.currentTab)),e=this.tabs[t+1]||this.tabs[0];this.setCurrentTab(e.id)},setPreviousTab(){const t=this.tabs.findIndex((t=>t.id===this.currentTab)),e=this.tabs[t-1]||this.tabs[this.tabs.length-1];this.setCurrentTab(e.id)},updateUrl:Rn()((function(){if(this.trackHistory){const t="Tab"===this.$parent.$options.name?"#"+this.$parent.id+"/"+this.currentTab:"#"+this.currentTab;if(t!==window.location.hash){const e=this.tabs.find((t=>t.id===this.currentTab));window.history.pushState({},e.label,t)}}}),100)},watch:{currentTab(t,e){this.tabs.forEach((e=>e.isActive=e.id===t))}},mounted(){this.tabs=this.$children.filter((t=>"tab"===t.$options._componentTag)),this.currentTab=this.defaultTab||this.tabs[0].id,pkp.eventBus.$on("open-tab",(t=>{this.tabs.forEach((e=>{e.id===t&&this.setCurrentTab(t)}))}))},destroyed(){pkp.eventBus.$off("open-tab")}},xM=FM,PM=(0,T.Z)(xM,SM,TM,!1,null,null,null),LM=PM.exports;g.ZP.use(DO(),{dynamic:!0,injectModalsContainer:!0}),g.ZP.use(EO.ZP,{defaultTrigger:"click"}),g.ZP.use(BO()),window.pkp.eventBus=new g.ZP,g.ZP.config.productionTip=!1,g.ZP.mixin(AO),g.ZP.component("Badge",An),g.ZP.component("Icon",ql),g.ZP.component("Panel",jO),g.ZP.component("PanelSection",HO),g.ZP.component("PkpButton",QO),g.ZP.component("Spinner",sM),g.ZP.component("Step",pM),g.ZP.component("Steps",fM),g.ZP.component("Tab",wM),g.ZP.component("Tabs",LM),new g.ZP({router:CO,data(){return{fileGenres:[{id:1,name:"Book Manuscript",isPrimary:!0},{id:2,name:"Chapter Manuscript",isPrimary:!0},{id:3,name:"Preface"},{id:4,name:"Index"},{id:5,name:"Glossary"},{id:7,name:"Prospectus"},{id:11,name:"Table"},{id:8,name:"Figure"},{id:9,name:"Audio"},{id:10,name:"Other"}],tinyMCE:{skinUrl:"/styles/tinymce"}}},render:t=>t(A)}).$mount("#app")},46700:function(t,e,n){var i={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function s(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=a,t.exports=s,s.id=46700},97121:function(t,e,n){"use strict";n.r(e),e["default"]='# Accessibility\n\nSome components require specific markup or special handling based on state to ensure that they are accessible. Component-specific guidelines are outlined within each component\'s Notes section. The following are broad accessibility guidelines which should be followed.\n\n## Focus state and keyboard-based navigation\n\nIt should be possible to use a component without a mouse. To test this, use the <kbd>TAB</kbd> key to interact with the component and check the following:\n\n- Can I use the component? For example, if the component allows reordering items, can I do this with a keyboard?\n- Can I see where the focus is and is it easy to determine where it moves each time I hit the <kbd>TAB</kbd> key? The focus should never "disappear".\n\n### Moving focus\n\nAs a general rule, you should *never* move the focus programmatically. This can be disorienting and frustrating for users who rely on keyboard navigation.\n\nWe make an exception for this when the user performs an action which indicates a particular focus is desired.\n\nFor example, when a button is pressed to open a modal, the focus should be moved into that modal and kept there until the modal is closed. When closed, the focus should be returned to the element which opened the modal.\n\n### Avoid tabindex\n\nAvoid using the `tabindex` attribute. An exception can be made when you need to use `tabindex="-1"` to prevent an item from receiving focus. You may wish to do this to remove drag-and-drop controls from a keyboard user\'s tab order, or to prevent the user from having to tab through elements which are currently hidden.\n\n## Labelling for assistive technology\n\nWhen a component uses icons or a visual layout to indicate the meaning of something, you must provide a text label for users without sight. You can use the `-screenReader` class to hide the label from sighted users but still expose it to screen readers.\n\nYou should _not_ use `display: hidden`, because screen readers will ignore the text.\n\n### Hidden search label\nA search field often uses an icon to indicate it\'s purpose. The `placeholder` attribute can not be read by all screen readers, so a label is provided and then hidden from sighted users.\n\n<div class="inlinePreview inlinePreview--accessibleSearch">\n\t<span class="fa fa-search" aria-hidden="true"></span>\n\t<input id="searchInput" placeholder="Search submissions">\n\t<label for="searchInput" class="-screenReader">\n\t\tSearch submissions\n\t</label>\n</div>\n\n```html\n<icon icon="search" />\n<input id="searchInput" placeholder="Search submissions">\n<label for="searchInput" class="-screenReader">\n\tSearch submissions\n</label>\n```\n\n### Icon-only buttons\nIn a few cases, an icon may not need a text label for sighted users to understand it\'s purpose. A hidden text label that indicates the action and which item the action relates to must be provided for those using screen readers.\n\n<div class="inlinePreview inlinePreview--accessibleButton">\n\t<div>\n\t\tMy example submission\n\t\t<button>\n\t\t\t<span class="fa fa-times" aria-hidden="true"></span>\n\t\t\t<span class="-screenReader">Delete My example submission</span>\n\t\t</button>\n\t</div>\n</div>\n\n```html\n<li>\n\tMy example submission\n\t<button @click="deleteSubmission">\n\t\t<icon icon="times" />\n\t\t<span class="-screenReader">Delete My example submission</span>\n\t</button>\n</li>\n```\n'},54556:function(t,e,n){"use strict";n.r(e),e["default"]='# Container\n\nA `Container` is a root component to initialize Vue.js in a template. In most cases this is not needed. Instead, a `Page` component is automatically initialized on every page in the editorial backend. Learn more about [Pages](#/component/Page).\n\nHowever, it may be necessary to initialize Vue.js in a template that doesn\'t yet support the `Page` component. This is the case when content is loaded into a modal in the older JS framework.\n\n## Integration with legacy JavaScript framework\n\nThe following describes how to use the `Container` directly when integrating with an old modal.\n\nIn the example below, the `Container` component treats the content of the `#example-container-{$uuid}` DOM element as the template. It creates a `<pkp-form>` component and passes the value of `this.components.masthead` as props.\n\n```html\n{assign var="uuid" value=""|uniqid|escape}\n<div id="example-container-{$uuid}">\n\t<pkp-form\n\t\tv-bind="components.masthead"\n\t\t@set="set"\n\t/>\n</div>\n<script type="text/javascript">\n\tpkp.registry.init(\'example-container-{$uuid}\', \'Container\', {$exampleData|json_encode});\n<\/script>\n```\n\nThis is the same as mounting a Vue app to the DOM as recommended in Vue\'s documentation.\n\n```js\nvar app = new Vue({\n\t...Container,\n\tel: \'#example-container-<uuid>\',\n\tdata: exampleContainerDataInJsonFormat\n})\n```\n\nWe mount Vue apps using `pkp.registry.init` to make sure that Vue components mounted inside of our legacy JavaScript toolkit do not cause memory leaks.\n\n## Child Components\n\nAttach as many components to a `Container` as you would like, by passing a `components` array with the initial data.\n\n```php\n$templateMgr->assign(\'exampleData\', [\n\t\'components\' => [\n\t\t\'masthead\' => [...],\n\t\t\'submissions\' => [...],\n\t]\n]);\n```\n```html\n{assign var="uuid" value=""|uniqid|escape}\n<div id="example-container-{$uuid}">\n\t<pkp-form\n\t\tv-bind="components.masthead"\n\t\t@set="set"\n\t/>\n\t<submissions-list-panel\n\t\tv-bind="components.submissions"\n\t\t@set="set"\n\t/>\n</div>\n<script type="text/javascript">\n\tpkp.registry.init(\'example-container-{$uuid}\', \'Container\', {$exampleData|json_encode});\n<\/script>\n```'},99757:function(t,e,n){"use strict";n.r(e),e["default"]="# Contributing\n\nThis library provides documentation and a development sandbox for building and maintaining components. If you contribute you may be asked to document your changes. This document describes how to add and edit documentation for a component.\n\n## File Structure\n\nThe following directories contain code that is run by our applications.\n\n| Directory | Description |\n| --- | --- |\n| `/src/components` | All of the Vue.js component source files. |\n| `/src/mixins` | [Mixins](https://vuejs.org/v2/guide/mixins.html) used in components. |\n| `/src/styles` | LESS styles that are imported into global stylesheets and components. |\n\nThe rest of the files in this library are used to run the component demos.\n\n| Directory | Description |\n| --- | --- |\n| `/public` | Static site files. |\n| `/src/docs` | Document and preview components. |\n| `/src/docs/components` | Document individual components in the UI Library. |\n| `/src/docs/pages` | Markdown files for pages that are not related to a component, such as the page you are reading now. |\n| `/src/App.vue` | The main component that runs the UI Library. |\n| `/src/main.js` | Loads dependencies and initializes the UI Library. |\n| `/src/router.js` | The router for the UI Library. |\n\n## Create a Component Demo\n\nEach component demo should include an example of the component in action, documentation describing the props accepted and events emitted by the component, and guidance on when and how the component should be used.\n\nCreate a single-file Vue component that loads an example of the component you wish to document:\n\n```html\n\x3c!-- /src/docs/components/Notification/previews/PreviewNotification.vue --\x3e\n<template>\n\t<div class=\"previewNotification\">\n\t\t<notification type=\"warning\">\n\t\t\tThis submission does not have an editor assigned.\n\t\t</notification>\n\t</div>\n</template>\n\n<script>\nimport Notification from '@/components/Notification/Notification.vue';\n\nexport default {\n\tcomponents: {\n\t\tNotification\n\t}\n};\n<\/script>\n```\n\nCreate a `readme.md` file that documents how the component works.\n\n```md\n##  Props\n\n| Key | Description |\n| --- | --- |\n| `type` | The type of notification. Pass `warning` for notifications about errors or serious problems. |\n\n## Events\n\nThis component does not emit any events.\n\n## Usage\n\nUse the `Notification` component to draw the user's attention to new information. Do not overuse notifications. If they become too common, they will no longer draw the user's attention.\n```\n\nCreate the documentation component which will load the example and readme:\n\n```html\n\x3c!-- /src/docs/components/Notification/ComponentNotification.vue --\x3e\n<script>\nimport Component from '@/docs/Component.vue';\nimport PreviewNotification from './previews/PreviewNotification.vue';\nimport PreviewNotificationTemplate from '!raw-loader!./previews/PreviewNotification.vue';\nimport readme from '!raw-loader!./readme.md';\n\nexport default {\n\textends: Component,\n\tdata() {\n\t\treturn {\n\t\t\tname: 'Notification',\n\t\t\treadme: readme,\n\t\t\texamples: [\n\t\t\t\t{\n\t\t\t\t\tcomponent: PreviewNotification,\n\t\t\t\t\tname: 'Base',\n\t\t\t\t\ttemplate: this.extractTemplate(PreviewNotificationTemplate)\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t}\n};\n<\/script>\n```\n\nImport more `Preview*` components and add them to the `examples` array if you want more than one example.\n\nAdd a route to the component in `/src/router.js`:\n\n```js\n...\nimport ComponentNotification from \"./docs/components/Notification/ComponentNotification.vue\";\n\n...\n\t{\n\t\tpath: \"/component/Notification/:example?\",\n\t\tname: \"Notification\",\n\t\tcomponent: ComponentNotification,\n\t},\n...\n```\n\nAdd a link to the navigation menu in `/src/App.vue`:\n\n```html\n...\n\t<li><router-link to=\"/component/Notification\">Notification</router-link></li>\n...\n```\n\n## ESLint and Prettier\n\nThis library runs ESLint and Prettier to maintain code formatting. When you are running `npm run serve`, any file changes will be linted and errors will be reported in the console.\n\nWhen you commit, ESLint and Prettier will run. You will not be able to commit if there are ESLint errors.\n\n## Issues\n\nIssues for for this library should be opened on the [pkp/pkp-lib](https://github.com/pkp/pkp-lib/issues/) repository. All issues related to OJS and OMP are managed there, including issues with this UI Library.\n\n## Pull Requests\n\nPull Requests for this library should be opened on the [pkp/ui-library](https://github.com/pkp/ui-library/pulls) repository.\n"},28059:function(t,e,n){"use strict";n.r(e),e["default"]="# CSRF Token\n\nAny component which sends a `PUT`, `POST` or `DELETE` request to an application's REST API _must_ include a [CSRF token](https://en.wikipedia.org/wiki/Cross-site_request_forgery) in the header.\n\nWhenever a user is logged in, you can access their CSRF token at `pkp.currentUser.csrfToken`. The code below demonstrates how to add this to the header of a jQuery ajax request.\n\n```js\n$.ajax({\n\theaders: {\n\t\t'X-Csrf-Token': pkp.currentUser.csrfToken\n\t},\n\t...\n});\n```"},86622:function(t,e,n){"use strict";n.r(e),e["default"]="# Event Bus\n\nUse the event bus to emit and react to global events in the application. This can be useful when you want disparate parts of the application to react to a common change.\n\nFor example, when a submission is deleted you may need to remove it from more than one list of submissions and remove any tasks related to it.\n\nUse the following to emit a global event.\n\n```json\npkp.eventBus.$emit('updated:email-template', {...});\n```\n\nUse the following to react to a global event.\n\n```js\n// Update an email template in a list when it changes\npkp.eventBus.$on('updated:email-template', (emailTemplate) => {\n\tthis.templates = this.templates.map(template => {\n\t\treturn template.key === emailTemplate.key\n\t\t\t? emailTemplate\n\t\t\t: template;\n\t});\n});\n```\n\nGlobal event names should use kebab-case (`example-name`). When appropriate, use the following naming pattern.\n\n```js\n<event>:<object>\n```\n\nExamples include the following.\n\n```js\nadded:announcement\nupdated:announcement\ndeleted:announcement\nunpublished:publication\n```\n\n## Common global events\n\nUse the following to react when a form is saved successfully.\n\n```js\npkp.eventBus.$on('form-success', (formId, object) => {\n\tif (formId === pkp.const.FORM_METADATA) {\n\t\t// ... use the new data in `object`\n\t}\n});\n```\n\nUse the following to react when a new tab has been selected.\n\n```js\npkp.eventBus.$on('open-tab', tabId => {\n\t// ... react to `tabId` being opened\n});\n```\n\n## When to use the global event bus\n\nUse the global event bus whenever data changes, such as when `PUT` or `POST` requests are made, or when a `GET` request updates data that may be shared between components.\n\nThe global event bus is exposed to plugins and third-party code in the global `pkp` variable at `pkp.eventBus`. For this reason, it is an important tool for plugins which want to react to events in the browser.\n\nEven if a global event will not used in the core application, it may be a good idea to emit one."},93835:function(t,e,n){"use strict";n.r(e),e["default"]='# Fetch\n\nThe `fetch` mixin can be used to interact with a REST API endpoint. It provides a component with props, data and methods to implement lazy-load, filters, search and pagination for a collection of items.\n\n```js\nimport fetch from \'@/mixins/fetch\';\n\nexport default {\n\tmixins: [fetch]\n}\n```\n\nLoad items with the `get()` method.\n\n```js\nexport default {\n\t...\n\tmethods: {\n\t\trefreshList() {\n\t\t\tthis.get();\n\t\t}\n\t}\n}\n```\n\nAll components that implement the `fetch` mixin must add a `setItems()` method which receives the items from the API and stores them in local data.\n\n```js\nexport default {\n\t...\n\tmethods: {\n\t\t/**\n\t\t * Update the list of items\n\t\t *\n\t\t * @param {Array} items\n\t\t * @param {Number} itemsMax\n\t\t */\n\t\tsetItems(items, itemsMax) {\n\t\t\tthis.items = items;\n\t\t\tthis.itemsMax = itemsMax;\n\t\t}\n\t}\n}\n```\n\n## Props\n\n| Key | Description |\n| --- | --- |\n| `apiUrl` | The URL to the API endpoint to use when retrieving items. |\n| `count` | The number of items to return with each request. Default: `30` |\n| `getParams` | Any query params that should be added to every request. For example, if you are showing a list of declined submissions, use `{statusIds: [pkp.const.STATUS_DECLINED]}` |\n| `lazyLoad` | Pass `true` to fire off a request for items after the component is mounted. Default: `false` |\n\n## Data\n\n| Key | Description |\n| --- | --- |\n| `activeFilters` | An object describing any filters that are currently active. These are `getParams` that may be added or removed. |\n| `isLoading` | Are new items currently being loaded? |\n| `offset` | Used with `count` to support pagination. |\n| `searchPhrase` | A search phrase to add to the query params when requesting items. |\n\n## Computed Properties\n\n| Key | Description |\n| --- | --- |\n| `currentPage` | The current page being shown, based on `offset` and `count`. |\n| `lastPage` | The last page available, based on `count` and `itemsMax`. |\n\n## Search\n\nEndpoints in PKP\'s REST API which return a list of items, such as `/submissions`, typically support a `searchPhrase` query param to return items that match the search phrase.\n\nAdd a [`Search`](#/component/Search) component to take advantage of this.\n\n```html\n<template>\n\t<div>\n\t\t...\n\t\t<search\n\t\t\t:searchPhrase="searchPhrase"\n\t\t\t@search-phrase-changed="setSearchPhrase"\n\t\t/>\n\t</div>\n</template>\n```\n\nWhen the `searchPhrase` is changed, the items will automatically be retrieved from the API. The `searchPhrase` will be converted to a query param and the API request will look like `http://.../api-url-endpoint?searchPhrase=<search-phrase-value>`.\n\nSee an example of a [List Panel with Search](#/component/ListPanel/with-search)\n\n## Filters\n\nFilters are used to change which items appear in a list. They interact with the REST API query params and the `activeFilters` prop should always reflect the query params you wish to use.\n\nIn the example below, a component will toggle the view from all submissions to overdue submissions by adding and removing an active filter.\n\n```js\nexport default {\n\tmethods: {\n\t\taddOverdueFilter() {\n\t\t\tlet activeFilters = {...this.activeFilters};\n\t\t\tactiveFilters.isOverdue = true;\n\t\t\tthis.activeFilters = activeFilters;\n\t\t}\n\t\tremoveOverdueFilter() {\n\t\t\tlet activeFilters = {...this.activeFilters};\n\t\t\tdelete activeFilters.isOverdue;\n\t\t\tthis.activeFilters = activeFilters;\n\t\t}\n\t}\n}\n```\n\nWhen the `activeFilters` are changed, the items will automatically be retrieved from the API. The `isOverdue` filter will be converted to a query param and the API request will look like `http://.../api-url-endpoint?isOverdue=1`.\n\nSee an example of a [List Panel with Filters](#/component/ListPanel/with-filter).\n\n## Pagination\n\nThis mixin provides computed properties and methods to help manage pagination. Add the [`Pagination`](#/component/Pagination) component to take advantage of them.\n\n```html\n<template>\n\t<div>\n\t\t...\n\t\t<pagination\n\t\t\tv-if="lastPage > 1"\n\t\t\t:currentPage="currentPage"\n\t\t\t:isLoading="isLoading"\n\t\t\t:lastPage="lastPage"\n\t\t\t@set-page="setPage"\n\t\t/>\n\t</div>\n</template>\n```\n\nWhen the page is changed, new items will automatically be retrieved from the API. The page request will be converted `count` and `offset` query params and an API request will look like `http://.../api-url-endpoint?count=30&offset=30`.\n\nSee an example of a [List Panel with Pagination](#/component/ListPanel/with-pagination).\n\n## Lazy-load\n\nYou may wish to wait to load the items until a component has been mounted. In this case, set the `lazyLoad` prop to `true` and the items will be lazy-loaded.\n\nIn most cases you should pre-populate your list from the server. Only use the `lazyLoad` prop when you want to reduce the time it takes for the initial page load, and the list items are not the first priority on the page.'},95828:function(t,e,n){"use strict";n.r(e),e["default"]="# PKP UI Library\n\nThis library contains UI components implemented or planned for the Public Knowledge Project's applications [Open Journal Systems](https://pkp.sfu.ca/ojs/), [Open Preprint Systems](https://pkp.sfu.ca/ops/) and [Open Monograph Press](https://pkp.sfu.ca/omp/).\n\nIt provides a demonstration of each component, technical documentation, and usage guidance. It is intended for technical developers who want to work with the UI of the editorial backend for one of our applications.\n\nYou do not need to consult this guide unless you want to make substantial changes to the editorial backend. These may include:\n\n- Create a new page with your own components\n- Replace an existing page with a customized display\n- Maintain or improve the existing components\n- Learn how to write your own components\n"},86644:function(t,e,n){"use strict";n.r(e),e["default"]="# Working with multiple languages\n\nPKP's applications support multiple languages. This means that the application itself can be localized and that data can be entered in more than one language at a time.\n\n## Localize text\n\nMessages in the application which have been localized to the current user's language are available globally at `pkp.localeKeys`. Use the following to display a localized phrase in a component's template.\n\n```js\n{{ __('common.cancel') }}\n```\n\nThis can be accessed from component methods by using the following.\n\n```js\nconst cancel = this.__('common.cancel');\n```\n\nPass parameters to the localized keys by using the following.\n\n```js\n{{ __('list.viewMore', {name: 'Daniel Barnes'}) }}\n```\n\nThe application should provide all of the localized phrases necessary from the server. On the server side, a locale key can be added to a page with the following PHP code.\n\n```php\n$templateMgr = TemplateManager::getManager($request);\n$templateMgr->setLocaleKeys([\n\t'common.cancel',\n]);\n```\n\n## Multilingual content\n\nMultilingual fields are provided as a JSON object with keys specifying the locale codes. The following response shows the name property of a journal in English and Canadian French.\n\n```js\n{\n\t\"name\": {\n\t\t\"en\": \"Journal of Public Knowledge\",\n\t\t\"fr_CA\": \"Journal de la connaissance du public\"\n\t},\n\t...\n}\n```\n\nThe following helper method is available for all components to help you retrieve a value in the correct language.\n\n```js\nvar name = this.localize(this.name);\n```\n\nThis will return the value in the user's current language or the primary language of the site. If it doesn't exist in either of these locales, it will return the first locale it finds.\n\nYou can also request a specific locale.\n\n```js\nvar name = this.localize(this.name, 'fr_CA');\n```\n\nWhen working with submissions, a component should use the `localizeSubmission` mixin to localize submission data. This provides a method that will fallback to the submission's primary language rather than the primary language of the site.\n\n```js\nimport localizeSubmission from '@/mixins/localizeSubmission';\n\nexport default {\n\tmixins: [localizeSubmission]\n\tprops: ['submission', 'publication']\n\tcomputed: {\n\t\ttitle() {\n\t\t\treturn this.localizeSubmission(publication.title, submission.locale);\n\t\t}\n\t}\n}\n```\n"},89424:function(t,e,n){"use strict";n.r(e),e["default"]="# Usage Guide\n\nThis UI Library uses [Vue.js](https://vuejs.org/), a JavaScript library for building interactive applications. If you're not familiar with Vue.js, read its [usage guide](https://vuejs.org/v2/guide/) before continuing.\n\n## Working with OJS and OMP\n\nOJS and OMP load this library as a submodule under `/lib/ui-library/`. In `/js/load.js`, each application loads the components it needs from the UI Library.\n\nWhen you are using OJS or OMP from a distributed release package, you will only have a pre-compiled `/js/build.js` file. You will not have the full component library under `/lib/ui-library/`.\n\nIf you want to make changes to the components, you will need to use the development repository for [OJS](https://github.com/pkp/ojs) or [OMP](https://github.com/pkp/omp). Follow the steps described there to setup and install the application.\n\n## Compiling for OJS and OMP\n\nTo compile the `/js/build.js` file while you are working on the library, run the following command from OJS or OMP's root directory.\n\n```bash\nnpm run serve\n```\n\nWhen you are done, run the following command to compile an optimized `/js/build.js` for production.\n\n```bash\nnpm run build\n```\n\n## Global Vue Instance\n\nYou may want to modify the global Vue object. This may be necessary if you:\n\n- Add custom components\n- Use third-party plugins\n- Add global mixins\n\nYou can access the global Vue object at `pkp.Vue`.\n\nIf a Vue plugin tells you it should be registered with `Vue.use(...)`, you can use `pkp.Vue.use(...)`.\n\n*Your intervention will likely happen before Apps are instantiated and mounted, but after the global event bus is instantiated.*\n"},62362:function(t,e,n){var i={"./accessibility.md":97121,"./container.md":54556,"./contributing.md":99757,"./csrf.md":28059,"./event-bus.md":86622,"./fetch.md":93835,"./index.md":95828,"./localization.md":86644,"./usage.md":89424};function s(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=a,t.exports=s,s.id=62362}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var a=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=t,function(){var t=[];n.O=function(e,i,s,a){if(!i){var l=1/0;for(p=0;p<t.length;p++){i=t[p][0],s=t[p][1],a=t[p][2];for(var r=!0,o=0;o<i.length;o++)(!1&a||l>=a)&&Object.keys(n.O).every((function(t){return n.O[t](i[o])}))?i.splice(o--,1):(r=!1,a<l&&(l=a));if(r){t.splice(p--,1);var d=s();void 0!==d&&(e=d)}}return e}a=a||0;for(var p=t.length;p>0&&t[p-1][2]>a;p--)t[p]=t[p-1];t[p]=[i,s,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,a,l=i[0],r=i[1],o=i[2],d=0;if(l.some((function(e){return 0!==t[e]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(o)var p=o(n)}for(e&&e(i);d<l.length;d++)a=l[d],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(p)},i=self["webpackChunkui_library"]=self["webpackChunkui_library"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(6091)}));i=n.O(i)})();
//# sourceMappingURL=app.ff53b2b5.js.map